{
  "{\"sourceRoot\":\"/home/wn/VSCode/back/appTest/test/integration/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/wn/VSCode/back/appTest\",\"filename\":\"/home/wn/VSCode/back/appTest/test/integration/helpers.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/home/wn/VSCode/back/appTest\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6:test": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/wn/VSCode/back/appTest/test/integration/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/wn/VSCode/back/appTest",
      "filename": "/home/wn/VSCode/back/appTest/test/integration/helpers.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "test",
      "root": "/home/wn/VSCode/back/appTest",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/wn/VSCode/back/appTest/test/integration/helpers.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/wn/VSCode/back/appTest/test/integration/helpers.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/wn/VSCode/back/appTest/test/integration/",
        "sourceFileName": "helpers.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst supertest = require(\"supertest\");\n\nconst chai = require(\"chai\");\n\nconst setupApp = require(\"../../src/app\");\n\nglobal.setupApp = setupApp;\nglobal.supertest = supertest;\nglobal.expect = chai.expect;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhlbHBlcnMuanMiXSwibmFtZXMiOlsic3VwZXJ0ZXN0IiwicmVxdWlyZSIsImNoYWkiLCJzZXR1cEFwcCIsImdsb2JhbCIsImV4cGVjdCJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxTQUFTLEdBQUdDLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU1DLElBQUksR0FBR0QsT0FBTyxDQUFDLE1BQUQsQ0FBcEI7O0FBQ0EsTUFBTUUsUUFBUSxHQUFHRixPQUFPLENBQUMsZUFBRCxDQUF4Qjs7QUFFQUcsTUFBTSxDQUFDRCxRQUFQLEdBQWtCQSxRQUFsQjtBQUNBQyxNQUFNLENBQUNKLFNBQVAsR0FBbUJBLFNBQW5CO0FBQ0FJLE1BQU0sQ0FBQ0MsTUFBUCxHQUFnQkgsSUFBSSxDQUFDRyxNQUFyQiIsInNvdXJjZVJvb3QiOiIvaG9tZS93bi9WU0NvZGUvYmFjay9hcHBUZXN0L3Rlc3QvaW50ZWdyYXRpb24vIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgc3VwZXJ0ZXN0ID0gcmVxdWlyZShcInN1cGVydGVzdFwiKTtcbmNvbnN0IGNoYWkgPSByZXF1aXJlKFwiY2hhaVwiKTtcbmNvbnN0IHNldHVwQXBwID0gcmVxdWlyZShcIi4uLy4uL3NyYy9hcHBcIik7XG5cbmdsb2JhbC5zZXR1cEFwcCA9IHNldHVwQXBwO1xuZ2xvYmFsLnN1cGVydGVzdCA9IHN1cGVydGVzdDtcbmdsb2JhbC5leHBlY3QgPSBjaGFpLmV4cGVjdDtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "helpers.js"
      ],
      "names": [
        "supertest",
        "require",
        "chai",
        "setupApp",
        "global",
        "expect"
      ],
      "mappings": ";;AAAA,MAAMA,SAAS,GAAGC,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;AACA,MAAME,QAAQ,GAAGF,OAAO,CAAC,eAAD,CAAxB;;AAEAG,MAAM,CAACD,QAAP,GAAkBA,QAAlB;AACAC,MAAM,CAACJ,SAAP,GAAmBA,SAAnB;AACAI,MAAM,CAACC,MAAP,GAAgBH,IAAI,CAACG,MAArB",
      "sourceRoot": "/home/wn/VSCode/back/appTest/test/integration/",
      "sourcesContent": [
        "const supertest = require(\"supertest\");\nconst chai = require(\"chai\");\nconst setupApp = require(\"../../src/app\");\n\nglobal.setupApp = setupApp;\nglobal.supertest = supertest;\nglobal.expect = chai.expect;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1600894728487
  },
  "{\"sourceRoot\":\"/home/wn/VSCode/back/appTest/src/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/wn/VSCode/back/appTest\",\"filename\":\"/home/wn/VSCode/back/appTest/src/app.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/home/wn/VSCode/back/appTest\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6:test": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/wn/VSCode/back/appTest",
      "filename": "/home/wn/VSCode/back/appTest/src/app.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "test",
      "root": "/home/wn/VSCode/back/appTest",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/wn/VSCode/back/appTest/src/app.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/wn/VSCode/back/appTest/src/app.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/wn/VSCode/back/appTest/src/",
        "sourceFileName": "app.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst express = require(\"express\");\n\nconst bodyParser = require(\"body-parser\");\n\nconst routes = require(\"./routes\");\n\nconst database = require(\"./config/database\");\n\nconst app = express();\n\nconst configureExpress = () => {\n  app.use(bodyParser.json());\n  app.use(\"/\", routes);\n  app.database = database;\n  return app;\n};\n\nmodule.exports = async () => {\n  const app = configureExpress();\n  await app.database.connect;\n  return app;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImJvZHlQYXJzZXIiLCJyb3V0ZXMiLCJkYXRhYmFzZSIsImFwcCIsImNvbmZpZ3VyZUV4cHJlc3MiLCJ1c2UiLCJqc29uIiwibW9kdWxlIiwiZXhwb3J0cyIsImNvbm5lY3QiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNQyxVQUFVLEdBQUdELE9BQU8sQ0FBQyxhQUFELENBQTFCOztBQUNBLE1BQU1FLE1BQU0sR0FBR0YsT0FBTyxDQUFDLFVBQUQsQ0FBdEI7O0FBQ0EsTUFBTUcsUUFBUSxHQUFHSCxPQUFPLENBQUMsbUJBQUQsQ0FBeEI7O0FBRUEsTUFBTUksR0FBRyxHQUFHTCxPQUFPLEVBQW5COztBQUVBLE1BQU1NLGdCQUFnQixHQUFHLE1BQU07QUFDN0JELEVBQUFBLEdBQUcsQ0FBQ0UsR0FBSixDQUFRTCxVQUFVLENBQUNNLElBQVgsRUFBUjtBQUNBSCxFQUFBQSxHQUFHLENBQUNFLEdBQUosQ0FBUSxHQUFSLEVBQWFKLE1BQWI7QUFDQUUsRUFBQUEsR0FBRyxDQUFDRCxRQUFKLEdBQWVBLFFBQWY7QUFFQSxTQUFPQyxHQUFQO0FBQ0QsQ0FORDs7QUFRQUksTUFBTSxDQUFDQyxPQUFQLEdBQWlCLFlBQVk7QUFDM0IsUUFBTUwsR0FBRyxHQUFHQyxnQkFBZ0IsRUFBNUI7QUFDQSxRQUFNRCxHQUFHLENBQUNELFFBQUosQ0FBYU8sT0FBbkI7QUFFQSxTQUFPTixHQUFQO0FBQ0QsQ0FMRCIsInNvdXJjZVJvb3QiOiIvaG9tZS93bi9WU0NvZGUvYmFjay9hcHBUZXN0L3NyYy8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XG5jb25zdCBib2R5UGFyc2VyID0gcmVxdWlyZShcImJvZHktcGFyc2VyXCIpO1xuY29uc3Qgcm91dGVzID0gcmVxdWlyZShcIi4vcm91dGVzXCIpO1xuY29uc3QgZGF0YWJhc2UgPSByZXF1aXJlKFwiLi9jb25maWcvZGF0YWJhc2VcIik7XG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcblxuY29uc3QgY29uZmlndXJlRXhwcmVzcyA9ICgpID0+IHtcbiAgYXBwLnVzZShib2R5UGFyc2VyLmpzb24oKSk7XG4gIGFwcC51c2UoXCIvXCIsIHJvdXRlcyk7XG4gIGFwcC5kYXRhYmFzZSA9IGRhdGFiYXNlO1xuICBcbiAgcmV0dXJuIGFwcDtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCBhcHAgPSBjb25maWd1cmVFeHByZXNzKCk7XG4gIGF3YWl0IGFwcC5kYXRhYmFzZS5jb25uZWN0O1xuXG4gIHJldHVybiBhcHA7XG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "app.js"
      ],
      "names": [
        "express",
        "require",
        "bodyParser",
        "routes",
        "database",
        "app",
        "configureExpress",
        "use",
        "json",
        "module",
        "exports",
        "connect"
      ],
      "mappings": ";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,UAAU,GAAGD,OAAO,CAAC,aAAD,CAA1B;;AACA,MAAME,MAAM,GAAGF,OAAO,CAAC,UAAD,CAAtB;;AACA,MAAMG,QAAQ,GAAGH,OAAO,CAAC,mBAAD,CAAxB;;AAEA,MAAMI,GAAG,GAAGL,OAAO,EAAnB;;AAEA,MAAMM,gBAAgB,GAAG,MAAM;AAC7BD,EAAAA,GAAG,CAACE,GAAJ,CAAQL,UAAU,CAACM,IAAX,EAAR;AACAH,EAAAA,GAAG,CAACE,GAAJ,CAAQ,GAAR,EAAaJ,MAAb;AACAE,EAAAA,GAAG,CAACD,QAAJ,GAAeA,QAAf;AAEA,SAAOC,GAAP;AACD,CAND;;AAQAI,MAAM,CAACC,OAAP,GAAiB,YAAY;AAC3B,QAAML,GAAG,GAAGC,gBAAgB,EAA5B;AACA,QAAMD,GAAG,CAACD,QAAJ,CAAaO,OAAnB;AAEA,SAAON,GAAP;AACD,CALD",
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/",
      "sourcesContent": [
        "const express = require(\"express\");\nconst bodyParser = require(\"body-parser\");\nconst routes = require(\"./routes\");\nconst database = require(\"./config/database\");\n\nconst app = express();\n\nconst configureExpress = () => {\n  app.use(bodyParser.json());\n  app.use(\"/\", routes);\n  app.database = database;\n  \n  return app;\n};\n\nmodule.exports = async () => {\n  const app = configureExpress();\n  await app.database.connect;\n\n  return app;\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1600892993147
  },
  "{\"sourceRoot\":\"/home/wn/VSCode/back/appTest/src/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/wn/VSCode/back/appTest\",\"filename\":\"/home/wn/VSCode/back/appTest/src/app.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/home/wn/VSCode/back/appTest\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6:test": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/wn/VSCode/back/appTest",
      "filename": "/home/wn/VSCode/back/appTest/src/app.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "test",
      "root": "/home/wn/VSCode/back/appTest",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/wn/VSCode/back/appTest/src/app.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/wn/VSCode/back/appTest/src/app.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/wn/VSCode/back/appTest/src/",
        "sourceFileName": "app.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst express = require(\"express\");\n\nconst bodyParser = require(\"body-parser\");\n\nconst routes = require(\"./routes\");\n\nconst database = require(\"./database\");\n\nconst acl = require(\"express-acl\");\n\nconst authMiddleware = require(\"./middlewares/auth\");\n\nconst app = express();\nacl.config({\n  baseUrl: '/',\n  path: 'config'\n});\n\nconst configureExpress = () => {\n  app.use(bodyParser.json());\n  app.use(authMiddleware);\n  app.use(acl.authorize.unless({\n    path: ['/users/authenticate']\n  }));\n  app.use(\"/\", routes);\n  app.database = database;\n  return app;\n};\n\nmodule.exports = async () => {\n  const app = configureExpress();\n  await app.database.connect;\n  return app;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImJvZHlQYXJzZXIiLCJyb3V0ZXMiLCJkYXRhYmFzZSIsImFjbCIsImF1dGhNaWRkbGV3YXJlIiwiYXBwIiwiY29uZmlnIiwiYmFzZVVybCIsInBhdGgiLCJjb25maWd1cmVFeHByZXNzIiwidXNlIiwianNvbiIsImF1dGhvcml6ZSIsInVubGVzcyIsIm1vZHVsZSIsImV4cG9ydHMiLCJjb25uZWN0Il0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBdkI7O0FBQ0EsTUFBTUMsVUFBVSxHQUFHRCxPQUFPLENBQUMsYUFBRCxDQUExQjs7QUFDQSxNQUFNRSxNQUFNLEdBQUdGLE9BQU8sQ0FBQyxVQUFELENBQXRCOztBQUNBLE1BQU1HLFFBQVEsR0FBR0gsT0FBTyxDQUFDLFlBQUQsQ0FBeEI7O0FBQ0EsTUFBTUksR0FBRyxHQUFHSixPQUFPLENBQUMsYUFBRCxDQUFuQjs7QUFDQSxNQUFNSyxjQUFjLEdBQUdMLE9BQU8sQ0FBQyxvQkFBRCxDQUE5Qjs7QUFFQSxNQUFNTSxHQUFHLEdBQUdQLE9BQU8sRUFBbkI7QUFFQUssR0FBRyxDQUFDRyxNQUFKLENBQVc7QUFDVEMsRUFBQUEsT0FBTyxFQUFFLEdBREE7QUFFVEMsRUFBQUEsSUFBSSxFQUFFO0FBRkcsQ0FBWDs7QUFLQSxNQUFNQyxnQkFBZ0IsR0FBRyxNQUFNO0FBQzdCSixFQUFBQSxHQUFHLENBQUNLLEdBQUosQ0FBUVYsVUFBVSxDQUFDVyxJQUFYLEVBQVI7QUFDQU4sRUFBQUEsR0FBRyxDQUFDSyxHQUFKLENBQVFOLGNBQVI7QUFDQUMsRUFBQUEsR0FBRyxDQUFDSyxHQUFKLENBQVFQLEdBQUcsQ0FBQ1MsU0FBSixDQUFjQyxNQUFkLENBQXFCO0FBQUNMLElBQUFBLElBQUksRUFBQyxDQUFDLHFCQUFEO0FBQU4sR0FBckIsQ0FBUjtBQUNBSCxFQUFBQSxHQUFHLENBQUNLLEdBQUosQ0FBUSxHQUFSLEVBQWFULE1BQWI7QUFDQUksRUFBQUEsR0FBRyxDQUFDSCxRQUFKLEdBQWVBLFFBQWY7QUFFQSxTQUFPRyxHQUFQO0FBQ0QsQ0FSRDs7QUFVQVMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLFlBQVk7QUFDM0IsUUFBTVYsR0FBRyxHQUFHSSxnQkFBZ0IsRUFBNUI7QUFDQSxRQUFNSixHQUFHLENBQUNILFFBQUosQ0FBYWMsT0FBbkI7QUFFQSxTQUFPWCxHQUFQO0FBQ0QsQ0FMRCIsInNvdXJjZVJvb3QiOiIvaG9tZS93bi9WU0NvZGUvYmFjay9hcHBUZXN0L3NyYy8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XG5jb25zdCBib2R5UGFyc2VyID0gcmVxdWlyZShcImJvZHktcGFyc2VyXCIpO1xuY29uc3Qgcm91dGVzID0gcmVxdWlyZShcIi4vcm91dGVzXCIpO1xuY29uc3QgZGF0YWJhc2UgPSByZXF1aXJlKFwiLi9kYXRhYmFzZVwiKTtcbmNvbnN0IGFjbCA9IHJlcXVpcmUoXCJleHByZXNzLWFjbFwiKTtcbmNvbnN0IGF1dGhNaWRkbGV3YXJlID0gcmVxdWlyZShcIi4vbWlkZGxld2FyZXMvYXV0aFwiKVxuXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XG5cbmFjbC5jb25maWcoe1xuICBiYXNlVXJsOiAnLycsXG4gIHBhdGg6ICdjb25maWcnXG59KTtcblxuY29uc3QgY29uZmlndXJlRXhwcmVzcyA9ICgpID0+IHtcbiAgYXBwLnVzZShib2R5UGFyc2VyLmpzb24oKSk7XG4gIGFwcC51c2UoYXV0aE1pZGRsZXdhcmUpO1xuICBhcHAudXNlKGFjbC5hdXRob3JpemUudW5sZXNzKHtwYXRoOlsnL3VzZXJzL2F1dGhlbnRpY2F0ZSddfSkpO1xuICBhcHAudXNlKFwiL1wiLCByb3V0ZXMpO1xuICBhcHAuZGF0YWJhc2UgPSBkYXRhYmFzZTtcbiAgXG4gIHJldHVybiBhcHA7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGFzeW5jICgpID0+IHtcbiAgY29uc3QgYXBwID0gY29uZmlndXJlRXhwcmVzcygpO1xuICBhd2FpdCBhcHAuZGF0YWJhc2UuY29ubmVjdDtcblxuICByZXR1cm4gYXBwO1xufTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "app.js"
      ],
      "names": [
        "express",
        "require",
        "bodyParser",
        "routes",
        "database",
        "acl",
        "authMiddleware",
        "app",
        "config",
        "baseUrl",
        "path",
        "configureExpress",
        "use",
        "json",
        "authorize",
        "unless",
        "module",
        "exports",
        "connect"
      ],
      "mappings": ";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,UAAU,GAAGD,OAAO,CAAC,aAAD,CAA1B;;AACA,MAAME,MAAM,GAAGF,OAAO,CAAC,UAAD,CAAtB;;AACA,MAAMG,QAAQ,GAAGH,OAAO,CAAC,YAAD,CAAxB;;AACA,MAAMI,GAAG,GAAGJ,OAAO,CAAC,aAAD,CAAnB;;AACA,MAAMK,cAAc,GAAGL,OAAO,CAAC,oBAAD,CAA9B;;AAEA,MAAMM,GAAG,GAAGP,OAAO,EAAnB;AAEAK,GAAG,CAACG,MAAJ,CAAW;AACTC,EAAAA,OAAO,EAAE,GADA;AAETC,EAAAA,IAAI,EAAE;AAFG,CAAX;;AAKA,MAAMC,gBAAgB,GAAG,MAAM;AAC7BJ,EAAAA,GAAG,CAACK,GAAJ,CAAQV,UAAU,CAACW,IAAX,EAAR;AACAN,EAAAA,GAAG,CAACK,GAAJ,CAAQN,cAAR;AACAC,EAAAA,GAAG,CAACK,GAAJ,CAAQP,GAAG,CAACS,SAAJ,CAAcC,MAAd,CAAqB;AAACL,IAAAA,IAAI,EAAC,CAAC,qBAAD;AAAN,GAArB,CAAR;AACAH,EAAAA,GAAG,CAACK,GAAJ,CAAQ,GAAR,EAAaT,MAAb;AACAI,EAAAA,GAAG,CAACH,QAAJ,GAAeA,QAAf;AAEA,SAAOG,GAAP;AACD,CARD;;AAUAS,MAAM,CAACC,OAAP,GAAiB,YAAY;AAC3B,QAAMV,GAAG,GAAGI,gBAAgB,EAA5B;AACA,QAAMJ,GAAG,CAACH,QAAJ,CAAac,OAAnB;AAEA,SAAOX,GAAP;AACD,CALD",
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/",
      "sourcesContent": [
        "const express = require(\"express\");\nconst bodyParser = require(\"body-parser\");\nconst routes = require(\"./routes\");\nconst database = require(\"./database\");\nconst acl = require(\"express-acl\");\nconst authMiddleware = require(\"./middlewares/auth\")\n\nconst app = express();\n\nacl.config({\n  baseUrl: '/',\n  path: 'config'\n});\n\nconst configureExpress = () => {\n  app.use(bodyParser.json());\n  app.use(authMiddleware);\n  app.use(acl.authorize.unless({path:['/users/authenticate']}));\n  app.use(\"/\", routes);\n  app.database = database;\n  \n  return app;\n};\n\nmodule.exports = async () => {\n  const app = configureExpress();\n  await app.database.connect;\n\n  return app;\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1601213029545
  },
  "{\"sourceRoot\":\"/home/wn/VSCode/back/appTest/test/integration/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/wn/VSCode/back/appTest\",\"filename\":\"/home/wn/VSCode/back/appTest/test/integration/routes/products_spec.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/home/wn/VSCode/back/appTest\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6:test": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/wn/VSCode/back/appTest/test/integration/routes/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/wn/VSCode/back/appTest",
      "filename": "/home/wn/VSCode/back/appTest/test/integration/routes/products_spec.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "test",
      "root": "/home/wn/VSCode/back/appTest",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/wn/VSCode/back/appTest/test/integration/routes/products_spec.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/wn/VSCode/back/appTest/test/integration/routes/products_spec.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/wn/VSCode/back/appTest/test/integration/routes/",
        "sourceFileName": "products_spec.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst Product = require(\"../../../src/models/products\");\n\ndescribe(\"Routes: Products\", () => {\n  const defaultId = '56cb91bdc3464f14678934ca';\n  before(async () => {\n    app = await setupApp();\n    request = supertest(app);\n  });\n  const defaultProduct = {\n    name: 'Default product',\n    description: 'product description',\n    price: 100\n  };\n  const expectedProduct = {\n    __v: 0,\n    _id: '56cb91bdc3464f14678934ca',\n    name: 'Default product',\n    description: 'product description',\n    price: 100\n  };\n  describe('GET /products', () => {\n    it('should return a list of products', done => {\n      context('when an id is specified', done => {\n        it('should return 200 with one product', done => {\n          request.get(`/products/${defaultId}`).end((err, res) => {\n            expect(res.statusCode).to.eql(200);\n            expect(res.body).to.eql([expectedProduct]);\n            done(err);\n          });\n        });\n      });\n    });\n  });\n  describe('POST /products', () => {\n    context('when posting a product', () => {\n      it('should return a new product with status code 201', done => {\n        const customId = '56cb91bdc3464f14678934ba';\n        const newProduct = Object.assign({}, {\n          _id: customId,\n          __v: 0\n        }, defaultProduct);\n        const expectedSavedProduct = {\n          __v: 0,\n          _id: customId,\n          name: 'Default product',\n          description: 'product description',\n          price: 100\n        };\n        request.post('/products').send(newProduct).end((err, res) => {\n          expect(res.statusCode).to.eql(201);\n          expect(res.body).to.eql(expectedSavedProduct);\n          done(err);\n        });\n      });\n    });\n  });\n  describe('PUT /products/:id', () => {\n    context('when editing a product', () => {\n      it('should update the product and return 200 as status code', done => {\n        const customProduct = {\n          name: 'Custom name'\n        };\n        const updatedProduct = Object.assign({}, customProduct, defaultProduct);\n        request.put(`/products/${defaultId}`).send(updatedProduct).end((err, res) => {\n          expect(res.status).to.eql(200);\n          done(err);\n        });\n      });\n    });\n  });\n  describe('DELETE /products/:id', () => {\n    context('when deleting a product', () => {\n      it('should delete a product and return 204 as status code', done => {\n        request.delete(`/products/${defaultId}`).end((err, res) => {\n          expect(res.status).to.eql(204);\n          done(err);\n        });\n      });\n    });\n  });\n  after(async () => await app.database.close);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RzX3NwZWMuanMiXSwibmFtZXMiOlsiUHJvZHVjdCIsInJlcXVpcmUiLCJkZXNjcmliZSIsImRlZmF1bHRJZCIsImJlZm9yZSIsImFwcCIsInNldHVwQXBwIiwicmVxdWVzdCIsInN1cGVydGVzdCIsImRlZmF1bHRQcm9kdWN0IiwibmFtZSIsImRlc2NyaXB0aW9uIiwicHJpY2UiLCJleHBlY3RlZFByb2R1Y3QiLCJfX3YiLCJfaWQiLCJpdCIsImRvbmUiLCJjb250ZXh0IiwiZ2V0IiwiZW5kIiwiZXJyIiwicmVzIiwiZXhwZWN0Iiwic3RhdHVzQ29kZSIsInRvIiwiZXFsIiwiYm9keSIsImN1c3RvbUlkIiwibmV3UHJvZHVjdCIsIk9iamVjdCIsImFzc2lnbiIsImV4cGVjdGVkU2F2ZWRQcm9kdWN0IiwicG9zdCIsInNlbmQiLCJjdXN0b21Qcm9kdWN0IiwidXBkYXRlZFByb2R1Y3QiLCJwdXQiLCJzdGF0dXMiLCJkZWxldGUiLCJhZnRlciIsImRhdGFiYXNlIiwiY2xvc2UiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsOEJBQUQsQ0FBdkI7O0FBRUFDLFFBQVEsQ0FBQyxrQkFBRCxFQUFxQixNQUFNO0FBRWpDLFFBQU1DLFNBQVMsR0FBRywwQkFBbEI7QUFFQUMsRUFBQUEsTUFBTSxDQUFDLFlBQVk7QUFDakJDLElBQUFBLEdBQUcsR0FBRyxNQUFNQyxRQUFRLEVBQXBCO0FBQ0FDLElBQUFBLE9BQU8sR0FBR0MsU0FBUyxDQUFDSCxHQUFELENBQW5CO0FBQ0QsR0FISyxDQUFOO0FBS0EsUUFBTUksY0FBYyxHQUFHO0FBQ3JCQyxJQUFBQSxJQUFJLEVBQUUsaUJBRGU7QUFFckJDLElBQUFBLFdBQVcsRUFBRSxxQkFGUTtBQUdyQkMsSUFBQUEsS0FBSyxFQUFFO0FBSGMsR0FBdkI7QUFNQSxRQUFNQyxlQUFlLEdBQUc7QUFDdEJDLElBQUFBLEdBQUcsRUFBRSxDQURpQjtBQUV0QkMsSUFBQUEsR0FBRyxF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LFNBQVUsRUFEOUIsRUFFRytCLElBRkgsQ0FFUUUsY0FGUixFQUdHaEIsR0FISCxDQUdPLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFjO0FBQ2pCQyxVQUFBQSxNQUFNLENBQUNELEdBQUcsQ0FBQ2dCLE1BQUwsQ0FBTixDQUFtQmIsRUFBbkIsQ0FBc0JDLEdBQXRCLENBQTBCLEdBQTFCO0FBQ0FULFVBQUFBLElBQUksQ0FBQ0ksR0FBRCxDQUFKO0FBQ0gsU0FORDtBQU9ELE9BYkMsQ0FBRjtBQWNELEtBZk0sQ0FBUDtBQWdCRCxHQWpCTyxDQUFSO0FBbUJBbkIsRUFBQUEsUUFBUSxDQUFDLHNCQUFELEVBQXlCLE1BQU07QUFDckNnQixJQUFBQSxPQUFPLENBQUMseUJBQUQsRUFBNEIsTUFBTTtBQUN2Q0YsTUFBQUEsRUFBRSxDQUFDLHVEQUFELEVBQTBEQyxJQUFJLElBQUk7QUFDbEVWLFFBQUFBLE9BQU8sQ0FDSmdDLE1BREgsQ0FDVyxhQUFZcEMsU0FBVSxFQURqQyxFQUVHaUIsR0FGSCxDQUVPLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFjO0FBQ2pCQyxVQUFBQSxNQUFNLENBQUNELEdBQUcsQ0FBQ2dCLE1BQUwsQ0FBTixDQUFtQmIsRUFBbkIsQ0FBc0JDLEdBQXRCLENBQTBCLEdBQTFCO0FBQ0FULFVBQUFBLElBQUksQ0FBQ0ksR0FBRCxDQUFKO0FBQ0gsU0FMRDtBQU1ELE9BUEMsQ0FBRjtBQVFELEtBVE0sQ0FBUDtBQVVELEdBWE8sQ0FBUjtBQWFBbUIsRUFBQUEsS0FBSyxDQUFDLFlBQVksTUFBTW5DLEdBQUcsQ0FBQ29DLFFBQUosQ0FBYUMsS0FBaEMsQ0FBTDtBQUNELENBcEdPLENBQVIiLCJzb3VyY2VSb290IjoiL2hvbWUvd24vVlNDb2RlL2JhY2svYXBwVGVzdC90ZXN0L2ludGVncmF0aW9uL3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBQcm9kdWN0ID0gcmVxdWlyZShcIi4uLy4uLy4uL3NyYy9tb2RlbHMvcHJvZHVjdHNcIik7XG5cbmRlc2NyaWJlKFwiUm91dGVzOiBQcm9kdWN0c1wiLCAoKSA9PiB7XG4gIFxuICBjb25zdCBkZWZhdWx0SWQgPSAnNTZjYjkxYmRjMzQ2NGYxNDY3ODkzNGNhJztcbiAgXG4gIGJlZm9yZShhc3luYyAoKSA9PiB7XG4gICAgYXBwID0gYXdhaXQgc2V0dXBBcHAoKTtcbiAgICByZXF1ZXN0ID0gc3VwZXJ0ZXN0KGFwcCk7XG4gIH0pO1xuXG4gIGNvbnN0IGRlZmF1bHRQcm9kdWN0ID0ge1xuICAgIG5hbWU6ICdEZWZhdWx0IHByb2R1Y3QnLFxuICAgIGRlc2NyaXB0aW9uOiAncHJvZHVjdCBkZXNjcmlwdGlvbicsXG4gICAgcHJpY2U6IDEwMFxuICB9O1xuICBcbiAgY29uc3QgZXhwZWN0ZWRQcm9kdWN0ID0ge1xuICAgIF9fdjogMCxcbiAgICBfaWQ6ICc1NmNiOTFiZGMzNDY0ZjE0Njc4OTM0Y2EnLFxuICAgIG5hbWU6ICdEZWZhdWx0IHByb2R1Y3QnLFxuICAgIGRlc2NyaXB0aW9uOiAncHJvZHVjdCBkZXNjcmlwdGlvbicsXG4gICAgcHJpY2U6IDEwMFxuICB9O1xuICBcbiAgZGVzY3JpYmUoJ0dFVCAvcHJvZHVjdHMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gYSBsaXN0IG9mIHByb2R1Y3RzJywgZG9uZSA9PiB7XG4gICAgICBjb250ZXh0KCd3aGVuIGFuIGlkIGlzIHNwZWNpZmllZCcsIGRvbmUgPT4ge1xuICAgICAgICBpdCgnc2hvdWxkIHJldHVybiAyMDAgd2l0aCBvbmUgcHJvZHVjdCcsIGRvbmUgPT4ge1xuICAgICAgICAgIHJlcXVlc3RcbiAgICAgICAgICAgIC5nZXQoYC9wcm9kdWN0cy8ke2RlZmF1bHRJZH1gKVxuICAgICAgICAgICAgLmVuZCgoZXJyLCByZXMpID0+IHtcbiAgICAgICAgICAgICAgZXhwZWN0KHJlcy5zdGF0dXNDb2RlKS50by5lcWwoMjAwKTtcbiAgICAgICAgICAgICAgZXhwZWN0KHJlcy5ib2R5KS50by5lcWwoW2V4cGVjdGVkUHJvZHVjdF0pO1xuICAgICAgICAgICAgICBkb25lKGVycik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuICBcbiAgZGVzY3JpYmUoJ1BPU1QgL3Byb2R1Y3RzJywgKCkgPT4ge1xuICAgIGNvbnRleHQoJ3doZW4gcG9zdGluZyBhIHByb2R1Y3QnLCAoKSA9PiB7XG4gICAgICBpdCgnc2hvdWxkIHJldHVybiBhIG5ldyBwcm9kdWN0IHdpdGggc3RhdHVzIGNvZGUgMjAxJywgZG9uZSA9PiB7XG4gICAgICBjb25zdCBjdXN0b21JZCA9ICc1NmNiOTFiZGMzNDY0ZjE0Njc4OTM0YmEnO1xuICAgICAgY29uc3QgbmV3UHJvZHVjdCA9IE9iamVjdC5hc3NpZ24oe30seyBfaWQ6IGN1c3RvbUlkLCBfX3Y6MCB9LCBkZWZhdWx0UHJvZHVjdCk7XG4gICAgICBjb25zdCBleHBlY3RlZFNhdmVkUHJvZHVjdCA9IHtcbiAgICAgICAgX192OiAwLFxuICAgICAgICBfaWQ6IGN1c3RvbUlkLFxuICAgICAgICBuYW1lOiAnRGVmYXVsdCBwcm9kdWN0JyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdwcm9kdWN0IGRlc2NyaXB0aW9uJyxcbiAgICAgICAgcHJpY2U6IDEwMFxuICAgICAgfTtcblxuICAgICAgcmVxdWVzdFxuICAgICAgICAucG9zdCgnL3Byb2R1Y3RzJylcbiAgICAgICAgLnNlbmQobmV3UHJvZHVjdClcbiAgICAgICAgLmVuZCgoZXJyLCByZXMpID0+IHtcblxuICAgICAgZXhwZWN0KHJlcy5zdGF0dXNDb2RlKS50by5lcWwoMjAxKTtcblxuICAgICAgZXhwZWN0KHJlcy5ib2R5KS50by5lcWwoZXhwZWN0ZWRTYXZlZFByb2R1Y3QpO1xuICAgICAgZG9uZShlcnIpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG59KTtcbiAgXG4gIGRlc2NyaWJlKCdQVVQgL3Byb2R1Y3RzLzppZCcsICgpID0+IHtcbiAgICBjb250ZXh0KCd3aGVuIGVkaXRpbmcgYSBwcm9kdWN0JywgKCkgPT4ge1xuICAgICAgaXQoJ3Nob3VsZCB1cGRhdGUgdGhlIHByb2R1Y3QgYW5kIHJldHVybiAyMDAgYXMgc3RhdHVzIGNvZGUnLCBkb25lID0+IHtcbiAgICAgICAgY29uc3QgY3VzdG9tUHJvZHVjdCA9IHtcbiAgICAgICAgICBuYW1lOiAnQ3VzdG9tIG5hbWUnXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRQcm9kdWN0ID0gT2JqZWN0LmFzc2lnbih7fSwgY3VzdG9tUHJvZHVjdCwgZGVmYXVsdFByb2R1Y3QpXG4gICAgICAgIFxuICAgICAgICByZXF1ZXN0XG4gICAgICAgICAgLnB1dChgL3Byb2R1Y3RzLyR7ZGVmYXVsdElkfWApXG4gICAgICAgICAgLnNlbmQodXBkYXRlZFByb2R1Y3QpXG4gICAgICAgICAgLmVuZCgoZXJyLCByZXMpID0+IHtcbiAgICAgICAgICAgIGV4cGVjdChyZXMuc3RhdHVzKS50by5lcWwoMjAwKTtcbiAgICAgICAgICAgIGRvbmUoZXJyKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0RFTEVURSAvcHJvZHVjdHMvOmlkJywgKCkgPT4ge1xuICAgIGNvbnRleHQoJ3doZW4gZGVsZXRpbmcgYSBwcm9kdWN0JywgKCkgPT4ge1xuICAgICAgaXQoJ3Nob3VsZCBkZWxldGUgYSBwcm9kdWN0IGFuZCByZXR1cm4gMjA0IGFzIHN0YXR1cyBjb2RlJywgZG9uZSA9PiB7XG4gICAgICAgIHJlcXVlc3RcbiAgICAgICAgICAuZGVsZXRlKGAvcHJvZHVjdHMvJHtkZWZhdWx0SWR9YClcbiAgICAgICAgICAuZW5kKChlcnIsIHJlcykgPT4ge1xuICAgICAgICAgICAgZXhwZWN0KHJlcy5zdGF0dXMpLnRvLmVxbCgyMDQpO1xuICAgICAgICAgICAgZG9uZShlcnIpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTsgIFxuICBcbiAgYWZ0ZXIoYXN5bmMgKCkgPT4gYXdhaXQgYXBwLmRhdGFiYXNlLmNsb3NlKTtcbn0pOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "products_spec.js"
      ],
      "names": [
        "Product",
        "require",
        "describe",
        "defaultId",
        "before",
        "app",
        "setupApp",
        "request",
        "supertest",
        "defaultProduct",
        "name",
        "description",
        "price",
        "expectedProduct",
        "__v",
        "_id",
        "it",
        "done",
        "context",
        "get",
        "end",
        "err",
        "res",
        "expect",
        "statusCode",
        "to",
        "eql",
        "body",
        "customId",
        "newProduct",
        "Object",
        "assign",
        "expectedSavedProduct",
        "post",
        "send",
        "customProduct",
        "updatedProduct",
        "put",
        "status",
        "delete",
        "after",
        "database",
        "close"
      ],
      "mappings": ";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,8BAAD,CAAvB;;AAEAC,QAAQ,CAAC,kBAAD,EAAqB,MAAM;AAEjC,QAAMC,SAAS,GAAG,0BAAlB;AAEAC,EAAAA,MAAM,CAAC,YAAY;AACjBC,IAAAA,GAAG,GAAG,MAAMC,QAAQ,EAApB;AACAC,IAAAA,OAAO,GAAGC,SAAS,CAACH,GAAD,CAAnB;AACD,GAHK,CAAN;AAKA,QAAMI,cAAc,GAAG;AACrBC,IAAAA,IAAI,EAAE,iBADe;AAErBC,IAAAA,WAAW,EAAE,qBAFQ;AAGrBC,IAAAA,KAAK,EAAE;AAHc,GAAvB;AAMA,QAAMC,eAAe,GAAG;AACtBC,IAAAA,GAAG,EAAE,CADiB;AAEtBC,IAAAA,GAAG,EAAE,0BAFiB;AAGtBL,IAAAA,IAAI,EAAE,iBAHgB;AAItBC,IAAAA,WAAW,EAAE,qBAJS;AAKtBC,IAAAA,KAAK,EAAE;AALe,GAAxB;AAQAV,EAAAA,QAAQ,CAAC,eAAD,EAAkB,MAAM;AAC9Bc,IAAAA,EAAE,CAAC,kCAAD,EAAqCC,IAAI,IAAI;AAC7CC,MAAAA,OAAO,CAAC,yBAAD,EAA4BD,IAAI,IAAI;AACzCD,QAAAA,EAAE,CAAC,oCAAD,EAAuCC,IAAI,IAAI;AAC/CV,UAAAA,OAAO,CACJY,GADH,CACQ,aAAYhB,SAAU,EAD9B,EAEGiB,GAFH,CAEO,CAACC,GAAD,EAAMC,GAAN,KAAc;AACjBC,YAAAA,MAAM,CAACD,GAAG,CAACE,UAAL,CAAN,CAAuBC,EAAvB,CAA0BC,GAA1B,CAA8B,GAA9B;AACAH,YAAAA,MAAM,CAACD,GAAG,CAACK,IAAL,CAAN,CAAiBF,EAAjB,CAAoBC,GAApB,CAAwB,CAACb,eAAD,CAAxB;AACAI,YAAAA,IAAI,CAACI,GAAD,CAAJ;AACH,WAND;AAOD,SARC,CAAF;AASD,OAVM,CAAP;AAWD,KAZC,CAAF;AAaD,GAdO,CAAR;AAgBAnB,EAAAA,QAAQ,CAAC,gBAAD,EAAmB,MAAM;AAC/BgB,IAAAA,OAAO,CAAC,wBAAD,EAA2B,MAAM;AACtCF,MAAAA,EAAE,CAAC,kDAAD,EAAqDC,IAAI,IAAI;AAC/D,cAAMW,QAAQ,GAAG,0BAAjB;AACA,cAAMC,UAAU,GAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAiB;AAAEhB,UAAAA,GAAG,EAAEa,QAAP;AAAiBd,UAAAA,GAAG,EAAC;AAArB,SAAjB,EAA2CL,cAA3C,CAAnB;AACA,cAAMuB,oBAAoB,GAAG;AAC3BlB,UAAAA,GAAG,EAAE,CADsB;AAE3BC,UAAAA,GAAG,EAAEa,QAFsB;AAG3BlB,UAAAA,IAAI,EAAE,iBAHqB;AAI3BC,UAAAA,WAAW,EAAE,qBAJc;AAK3BC,UAAAA,KAAK,EAAE;AALoB,SAA7B;AAQAL,QAAAA,OAAO,CACJ0B,IADH,CACQ,WADR,EAEGC,IAFH,CAEQL,UAFR,EAGGT,GAHH,CAGO,CAACC,GAAD,EAAMC,GAAN,KAAc;AAErBC,UAAAA,MAAM,CAACD,GAAG,CAACE,UAAL,CAAN,CAAuBC,EAAvB,CAA0BC,GAA1B,CAA8B,GAA9B;AAEAH,UAAAA,MAAM,CAACD,GAAG,CAACK,IAAL,CAAN,CAAiBF,EAAjB,CAAoBC,GAApB,CAAwBM,oBAAxB;AACAf,UAAAA,IAAI,CAACI,GAAD,CAAJ;AACC,SATD;AAUD,OArBG,CAAF;AAsBH,KAvBQ,CAAP;AAyBH,GA1BS,CAAR;AA4BAnB,EAAAA,QAAQ,CAAC,mBAAD,EAAsB,MAAM;AAClCgB,IAAAA,OAAO,CAAC,wBAAD,EAA2B,MAAM;AACtCF,MAAAA,EAAE,CAAC,yDAAD,EAA4DC,IAAI,IAAI;AACpE,cAAMkB,aAAa,GAAG;AACpBzB,UAAAA,IAAI,EAAE;AADc,SAAtB;AAGA,cAAM0B,cAAc,GAAGN,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBI,aAAlB,EAAiC1B,cAAjC,CAAvB;AAEAF,QAAAA,OAAO,CACJ8B,GADH,CACQ,aAAYlC,SAAU,EAD9B,EAEG+B,IAFH,CAEQE,cAFR,EAGGhB,GAHH,CAGO,CAACC,GAAD,EAAMC,GAAN,KAAc;AACjBC,UAAAA,MAAM,CAACD,GAAG,CAACgB,MAAL,CAAN,CAAmBb,EAAnB,CAAsBC,GAAtB,CAA0B,GAA1B;AACAT,UAAAA,IAAI,CAACI,GAAD,CAAJ;AACH,SAND;AAOD,OAbC,CAAF;AAcD,KAfM,CAAP;AAgBD,GAjBO,CAAR;AAmBAnB,EAAAA,QAAQ,CAAC,sBAAD,EAAyB,MAAM;AACrCgB,IAAAA,OAAO,CAAC,yBAAD,EAA4B,MAAM;AACvCF,MAAAA,EAAE,CAAC,uDAAD,EAA0DC,IAAI,IAAI;AAClEV,QAAAA,OAAO,CACJgC,MADH,CACW,aAAYpC,SAAU,EADjC,EAEGiB,GAFH,CAEO,CAACC,GAAD,EAAMC,GAAN,KAAc;AACjBC,UAAAA,MAAM,CAACD,GAAG,CAACgB,MAAL,CAAN,CAAmBb,EAAnB,CAAsBC,GAAtB,CAA0B,GAA1B;AACAT,UAAAA,IAAI,CAACI,GAAD,CAAJ;AACH,SALD;AAMD,OAPC,CAAF;AAQD,KATM,CAAP;AAUD,GAXO,CAAR;AAaAmB,EAAAA,KAAK,CAAC,YAAY,MAAMnC,GAAG,CAACoC,QAAJ,CAAaC,KAAhC,CAAL;AACD,CApGO,CAAR",
      "sourceRoot": "/home/wn/VSCode/back/appTest/test/integration/routes/",
      "sourcesContent": [
        "const Product = require(\"../../../src/models/products\");\n\ndescribe(\"Routes: Products\", () => {\n  \n  const defaultId = '56cb91bdc3464f14678934ca';\n  \n  before(async () => {\n    app = await setupApp();\n    request = supertest(app);\n  });\n\n  const defaultProduct = {\n    name: 'Default product',\n    description: 'product description',\n    price: 100\n  };\n  \n  const expectedProduct = {\n    __v: 0,\n    _id: '56cb91bdc3464f14678934ca',\n    name: 'Default product',\n    description: 'product description',\n    price: 100\n  };\n  \n  describe('GET /products', () => {\n    it('should return a list of products', done => {\n      context('when an id is specified', done => {\n        it('should return 200 with one product', done => {\n          request\n            .get(`/products/${defaultId}`)\n            .end((err, res) => {\n              expect(res.statusCode).to.eql(200);\n              expect(res.body).to.eql([expectedProduct]);\n              done(err);\n          });\n        });\n      });\n    });\n  });\n  \n  describe('POST /products', () => {\n    context('when posting a product', () => {\n      it('should return a new product with status code 201', done => {\n      const customId = '56cb91bdc3464f14678934ba';\n      const newProduct = Object.assign({},{ _id: customId, __v:0 }, defaultProduct);\n      const expectedSavedProduct = {\n        __v: 0,\n        _id: customId,\n        name: 'Default product',\n        description: 'product description',\n        price: 100\n      };\n\n      request\n        .post('/products')\n        .send(newProduct)\n        .end((err, res) => {\n\n      expect(res.statusCode).to.eql(201);\n\n      expect(res.body).to.eql(expectedSavedProduct);\n      done(err);\n      });\n    });\n  });\n\n});\n  \n  describe('PUT /products/:id', () => {\n    context('when editing a product', () => {\n      it('should update the product and return 200 as status code', done => {\n        const customProduct = {\n          name: 'Custom name'\n        };\n        const updatedProduct = Object.assign({}, customProduct, defaultProduct)\n        \n        request\n          .put(`/products/${defaultId}`)\n          .send(updatedProduct)\n          .end((err, res) => {\n            expect(res.status).to.eql(200);\n            done(err);\n        });\n      });\n    });\n  });\n\n  describe('DELETE /products/:id', () => {\n    context('when deleting a product', () => {\n      it('should delete a product and return 204 as status code', done => {\n        request\n          .delete(`/products/${defaultId}`)\n          .end((err, res) => {\n            expect(res.status).to.eql(204);\n            done(err);\n        });\n      });\n    });\n  });  \n  \n  after(async () => await app.database.close);\n});"
      ]
    },
    "sourceType": "script",
    "mtime": 1601159970527
  },
  "{\"sourceRoot\":\"/home/wn/VSCode/back/appTest/src/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/wn/VSCode/back/appTest\",\"filename\":\"/home/wn/VSCode/back/appTest/src/routes/index.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/home/wn/VSCode/back/appTest\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6:test": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/routes/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/wn/VSCode/back/appTest",
      "filename": "/home/wn/VSCode/back/appTest/src/routes/index.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "test",
      "root": "/home/wn/VSCode/back/appTest",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/wn/VSCode/back/appTest/src/routes/index.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/wn/VSCode/back/appTest/src/routes/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/wn/VSCode/back/appTest/src/routes/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst express = require(\"express\");\n\nconst productsRoute = require(\"./products\");\n\nconst usersRoute = require(\"./user\");\n\nconst router = express.Router();\nrouter.use(\"/products\", productsRoute);\nrouter.get(\"/users\", usersRoute);\nrouter.get(\"/\", (req, res) => {\n  res.send(\"Hello, World!\");\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwicHJvZHVjdHNSb3V0ZSIsInVzZXJzUm91dGUiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJ1c2UiLCJnZXQiLCJyZXEiLCJyZXMiLCJzZW5kIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUNBLE1BQU1DLGFBQWEsR0FBR0QsT0FBTyxDQUFDLFlBQUQsQ0FBN0I7O0FBQ0EsTUFBTUUsVUFBVSxHQUFHRixPQUFPLENBQUMsUUFBRCxDQUExQjs7QUFFQSxNQUFNRyxNQUFNLEdBQUdKLE9BQU8sQ0FBQ0ssTUFBUixFQUFmO0FBRUFELE1BQU0sQ0FBQ0UsR0FBUCxDQUFXLFdBQVgsRUFBd0JKLGFBQXhCO0FBQ0FFLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFFBQVgsRUFBcUJKLFVBQXJCO0FBQ0FDLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLEdBQVgsRUFBZ0IsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFBQ0EsRUFBQUEsR0FBRyxDQUFDQyxJQUFKLENBQVMsZUFBVDtBQUEwQixDQUF6RDtBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJSLE1BQWpCIiwic291cmNlUm9vdCI6Ii9ob21lL3duL1ZTQ29kZS9iYWNrL2FwcFRlc3Qvc3JjL3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XG5jb25zdCBwcm9kdWN0c1JvdXRlID0gcmVxdWlyZShcIi4vcHJvZHVjdHNcIik7XG5jb25zdCB1c2Vyc1JvdXRlID0gcmVxdWlyZShcIi4vdXNlclwiKTtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxucm91dGVyLnVzZShcIi9wcm9kdWN0c1wiLCBwcm9kdWN0c1JvdXRlKTtcbnJvdXRlci5nZXQoXCIvdXNlcnNcIiwgdXNlcnNSb3V0ZSk7XG5yb3V0ZXIuZ2V0KFwiL1wiLCAocmVxLCByZXMpID0+IHtyZXMuc2VuZChcIkhlbGxvLCBXb3JsZCFcIil9KTtcblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "express",
        "require",
        "productsRoute",
        "usersRoute",
        "router",
        "Router",
        "use",
        "get",
        "req",
        "res",
        "send",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,aAAa,GAAGD,OAAO,CAAC,YAAD,CAA7B;;AACA,MAAME,UAAU,GAAGF,OAAO,CAAC,QAAD,CAA1B;;AAEA,MAAMG,MAAM,GAAGJ,OAAO,CAACK,MAAR,EAAf;AAEAD,MAAM,CAACE,GAAP,CAAW,WAAX,EAAwBJ,aAAxB;AACAE,MAAM,CAACG,GAAP,CAAW,QAAX,EAAqBJ,UAArB;AACAC,MAAM,CAACG,GAAP,CAAW,GAAX,EAAgB,CAACC,GAAD,EAAMC,GAAN,KAAc;AAACA,EAAAA,GAAG,CAACC,IAAJ,CAAS,eAAT;AAA0B,CAAzD;AAEAC,MAAM,CAACC,OAAP,GAAiBR,MAAjB",
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/routes/",
      "sourcesContent": [
        "const express = require(\"express\");\nconst productsRoute = require(\"./products\");\nconst usersRoute = require(\"./user\");\n\nconst router = express.Router();\n\nrouter.use(\"/products\", productsRoute);\nrouter.get(\"/users\", usersRoute);\nrouter.get(\"/\", (req, res) => {res.send(\"Hello, World!\")});\n\nmodule.exports = router;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1601159856202
  },
  "{\"sourceRoot\":\"/home/wn/VSCode/back/appTest/src/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/wn/VSCode/back/appTest\",\"filename\":\"/home/wn/VSCode/back/appTest/src/routes/products.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/home/wn/VSCode/back/appTest\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6:test": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/routes/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/wn/VSCode/back/appTest",
      "filename": "/home/wn/VSCode/back/appTest/src/routes/products.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "test",
      "root": "/home/wn/VSCode/back/appTest",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/wn/VSCode/back/appTest/src/routes/products.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/wn/VSCode/back/appTest/src/routes/products.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/wn/VSCode/back/appTest/src/routes/",
        "sourceFileName": "products.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst express = require(\"express\");\n\nconst ProductsController = require(\"../controllers/products\");\n\nconst Product = require(\"../models/products\");\n\nconst router = express.Router();\nconst productsController = new ProductsController(Product);\nrouter.get(\"/\", (req, res) => productsController.get(req, res));\nrouter.get(\"/:id\", (req, res) => productsController.getById(req, res));\nrouter.post(\"/\", (req, res) => productsController.create(req, res));\nrouter.put(\"/:id\", (req, res) => productsController.update(req, res));\nrouter.delete(\"/:id\", (req, res) => productsController.remove(req, res));\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RzLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwiUHJvZHVjdHNDb250cm9sbGVyIiwiUHJvZHVjdCIsInJvdXRlciIsIlJvdXRlciIsInByb2R1Y3RzQ29udHJvbGxlciIsImdldCIsInJlcSIsInJlcyIsImdldEJ5SWQiLCJwb3N0IiwiY3JlYXRlIiwicHV0IiwidXBkYXRlIiwiZGVsZXRlIiwicmVtb3ZlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUNBLE1BQU1DLGtCQUFrQixHQUFHRCxPQUFPLENBQUMseUJBQUQsQ0FBbEM7O0FBQ0EsTUFBTUUsT0FBTyxHQUFHRixPQUFPLENBQUMsb0JBQUQsQ0FBdkI7O0FBRUEsTUFBTUcsTUFBTSxHQUFHSixPQUFPLENBQUNLLE1BQVIsRUFBZjtBQUVBLE1BQU1DLGtCQUFrQixHQUFHLElBQUlKLGtCQUFKLENBQXVCQyxPQUF2QixDQUEzQjtBQUVBQyxNQUFNLENBQUNHLEdBQVAsQ0FBVyxHQUFYLEVBQWdCLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFjSCxrQkFBa0IsQ0FBQ0MsR0FBbkIsQ0FBdUJDLEdBQXZCLEVBQTRCQyxHQUE1QixDQUE5QjtBQUNBTCxNQUFNLENBQUNHLEdBQVAsQ0FBVyxNQUFYLEVBQW1CLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFjSCxrQkFBa0IsQ0FBQ0ksT0FBbkIsQ0FBMkJGLEdBQTNCLEVBQWdDQyxHQUFoQyxDQUFqQztBQUNBTCxNQUFNLENBQUNPLElBQVAsQ0FBWSxHQUFaLEVBQWlCLENBQUNILEdBQUQsRUFBTUMsR0FBTixLQUFjSCxrQkFBa0IsQ0FBQ00sTUFBbkIsQ0FBMEJKLEdBQTFCLEVBQStCQyxHQUEvQixDQUEvQjtBQUNBTCxNQUFNLENBQUNTLEdBQVAsQ0FBVyxNQUFYLEVBQW1CLENBQUNMLEdBQUQsRUFBTUMsR0FBTixLQUFjSCxrQkFBa0IsQ0FBQ1EsTUFBbkIsQ0FBMEJOLEdBQTFCLEVBQStCQyxHQUEvQixDQUFqQztBQUNBTCxNQUFNLENBQUNXLE1BQVAsQ0FBYyxNQUFkLEVBQXNCLENBQUNQLEdBQUQsRUFBTUMsR0FBTixLQUFjSCxrQkFBa0IsQ0FBQ1UsTUFBbkIsQ0FBMEJSLEdBQTFCLEVBQStCQyxHQUEvQixDQUFwQztBQUVBUSxNQUFNLENBQUNDLE9BQVAsR0FBaUJkLE1BQWpCIiwic291cmNlUm9vdCI6Ii9ob21lL3duL1ZTQ29kZS9iYWNrL2FwcFRlc3Qvc3JjL3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XG5jb25zdCBQcm9kdWN0c0NvbnRyb2xsZXIgPSByZXF1aXJlKFwiLi4vY29udHJvbGxlcnMvcHJvZHVjdHNcIik7XG5jb25zdCBQcm9kdWN0ID0gcmVxdWlyZShcIi4uL21vZGVscy9wcm9kdWN0c1wiKTtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxuY29uc3QgcHJvZHVjdHNDb250cm9sbGVyID0gbmV3IFByb2R1Y3RzQ29udHJvbGxlcihQcm9kdWN0KTtcblxucm91dGVyLmdldChcIi9cIiwgKHJlcSwgcmVzKSA9PiBwcm9kdWN0c0NvbnRyb2xsZXIuZ2V0KHJlcSwgcmVzKSk7XG5yb3V0ZXIuZ2V0KFwiLzppZFwiLCAocmVxLCByZXMpID0+IHByb2R1Y3RzQ29udHJvbGxlci5nZXRCeUlkKHJlcSwgcmVzKSk7XG5yb3V0ZXIucG9zdChcIi9cIiwgKHJlcSwgcmVzKSA9PiBwcm9kdWN0c0NvbnRyb2xsZXIuY3JlYXRlKHJlcSwgcmVzKSk7XG5yb3V0ZXIucHV0KFwiLzppZFwiLCAocmVxLCByZXMpID0+IHByb2R1Y3RzQ29udHJvbGxlci51cGRhdGUocmVxLCByZXMpKTtcbnJvdXRlci5kZWxldGUoXCIvOmlkXCIsIChyZXEsIHJlcykgPT4gcHJvZHVjdHNDb250cm9sbGVyLnJlbW92ZShyZXEsIHJlcykpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "products.js"
      ],
      "names": [
        "express",
        "require",
        "ProductsController",
        "Product",
        "router",
        "Router",
        "productsController",
        "get",
        "req",
        "res",
        "getById",
        "post",
        "create",
        "put",
        "update",
        "delete",
        "remove",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,kBAAkB,GAAGD,OAAO,CAAC,yBAAD,CAAlC;;AACA,MAAME,OAAO,GAAGF,OAAO,CAAC,oBAAD,CAAvB;;AAEA,MAAMG,MAAM,GAAGJ,OAAO,CAACK,MAAR,EAAf;AAEA,MAAMC,kBAAkB,GAAG,IAAIJ,kBAAJ,CAAuBC,OAAvB,CAA3B;AAEAC,MAAM,CAACG,GAAP,CAAW,GAAX,EAAgB,CAACC,GAAD,EAAMC,GAAN,KAAcH,kBAAkB,CAACC,GAAnB,CAAuBC,GAAvB,EAA4BC,GAA5B,CAA9B;AACAL,MAAM,CAACG,GAAP,CAAW,MAAX,EAAmB,CAACC,GAAD,EAAMC,GAAN,KAAcH,kBAAkB,CAACI,OAAnB,CAA2BF,GAA3B,EAAgCC,GAAhC,CAAjC;AACAL,MAAM,CAACO,IAAP,CAAY,GAAZ,EAAiB,CAACH,GAAD,EAAMC,GAAN,KAAcH,kBAAkB,CAACM,MAAnB,CAA0BJ,GAA1B,EAA+BC,GAA/B,CAA/B;AACAL,MAAM,CAACS,GAAP,CAAW,MAAX,EAAmB,CAACL,GAAD,EAAMC,GAAN,KAAcH,kBAAkB,CAACQ,MAAnB,CAA0BN,GAA1B,EAA+BC,GAA/B,CAAjC;AACAL,MAAM,CAACW,MAAP,CAAc,MAAd,EAAsB,CAACP,GAAD,EAAMC,GAAN,KAAcH,kBAAkB,CAACU,MAAnB,CAA0BR,GAA1B,EAA+BC,GAA/B,CAApC;AAEAQ,MAAM,CAACC,OAAP,GAAiBd,MAAjB",
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/routes/",
      "sourcesContent": [
        "const express = require(\"express\");\nconst ProductsController = require(\"../controllers/products\");\nconst Product = require(\"../models/products\");\n\nconst router = express.Router();\n\nconst productsController = new ProductsController(Product);\n\nrouter.get(\"/\", (req, res) => productsController.get(req, res));\nrouter.get(\"/:id\", (req, res) => productsController.getById(req, res));\nrouter.post(\"/\", (req, res) => productsController.create(req, res));\nrouter.put(\"/:id\", (req, res) => productsController.update(req, res));\nrouter.delete(\"/:id\", (req, res) => productsController.remove(req, res));\n\nmodule.exports = router;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1601145221006
  },
  "{\"sourceRoot\":\"/home/wn/VSCode/back/appTest/src/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/wn/VSCode/back/appTest\",\"filename\":\"/home/wn/VSCode/back/appTest/src/routes/index.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/home/wn/VSCode/back/appTest\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6:test": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/routes/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/wn/VSCode/back/appTest",
      "filename": "/home/wn/VSCode/back/appTest/src/routes/index.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "test",
      "root": "/home/wn/VSCode/back/appTest",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/wn/VSCode/back/appTest/src/routes/index.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/wn/VSCode/back/appTest/src/routes/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/wn/VSCode/back/appTest/src/routes/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst express = require(\"express\");\n\nconst productsRoute = require(\"./products\");\n\nconst usersRoute = require(\"./user\");\n\nconst router = express.Router();\nrouter.use(\"/products\", productsRoute);\nrouter.get(\"/users\", usersRoute);\nrouter.get(\"/\", (req, res) => {\n  res.send(\"Hello, World!\");\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwicHJvZHVjdHNSb3V0ZSIsInVzZXJzUm91dGUiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJ1c2UiLCJnZXQiLCJyZXEiLCJyZXMiLCJzZW5kIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUNBLE1BQU1DLGFBQWEsR0FBR0QsT0FBTyxDQUFDLFlBQUQsQ0FBN0I7O0FBQ0EsTUFBTUUsVUFBVSxHQUFHRixPQUFPLENBQUMsUUFBRCxDQUExQjs7QUFFQSxNQUFNRyxNQUFNLEdBQUdKLE9BQU8sQ0FBQ0ssTUFBUixFQUFmO0FBRUFELE1BQU0sQ0FBQ0UsR0FBUCxDQUFXLFdBQVgsRUFBd0JKLGFBQXhCO0FBQ0FFLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFFBQVgsRUFBcUJKLFVBQXJCO0FBQ0FDLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLEdBQVgsRUFBZ0IsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFBQ0EsRUFBQUEsR0FBRyxDQUFDQyxJQUFKLENBQVMsZUFBVDtBQUEwQixDQUF6RDtBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJSLE1BQWpCIiwic291cmNlUm9vdCI6Ii9ob21lL3duL1ZTQ29kZS9iYWNrL2FwcFRlc3Qvc3JjL3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XG5jb25zdCBwcm9kdWN0c1JvdXRlID0gcmVxdWlyZShcIi4vcHJvZHVjdHNcIik7XG5jb25zdCB1c2Vyc1JvdXRlID0gcmVxdWlyZShcIi4vdXNlclwiKTtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxucm91dGVyLnVzZShcIi9wcm9kdWN0c1wiLCBwcm9kdWN0c1JvdXRlKTtcbnJvdXRlci5nZXQoXCIvdXNlcnNcIiwgdXNlcnNSb3V0ZSk7XG5yb3V0ZXIuZ2V0KFwiL1wiLCAocmVxLCByZXMpID0+IHtyZXMuc2VuZChcIkhlbGxvLCBXb3JsZCFcIil9KTtcblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "express",
        "require",
        "productsRoute",
        "usersRoute",
        "router",
        "Router",
        "use",
        "get",
        "req",
        "res",
        "send",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,aAAa,GAAGD,OAAO,CAAC,YAAD,CAA7B;;AACA,MAAME,UAAU,GAAGF,OAAO,CAAC,QAAD,CAA1B;;AAEA,MAAMG,MAAM,GAAGJ,OAAO,CAACK,MAAR,EAAf;AAEAD,MAAM,CAACE,GAAP,CAAW,WAAX,EAAwBJ,aAAxB;AACAE,MAAM,CAACG,GAAP,CAAW,QAAX,EAAqBJ,UAArB;AACAC,MAAM,CAACG,GAAP,CAAW,GAAX,EAAgB,CAACC,GAAD,EAAMC,GAAN,KAAc;AAACA,EAAAA,GAAG,CAACC,IAAJ,CAAS,eAAT;AAA0B,CAAzD;AAEAC,MAAM,CAACC,OAAP,GAAiBR,MAAjB",
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/routes/",
      "sourcesContent": [
        "const express = require(\"express\");\nconst productsRoute = require(\"./products\");\nconst usersRoute = require(\"./user\");\n\nconst router = express.Router();\n\nrouter.use(\"/products\", productsRoute);\nrouter.get(\"/users\", usersRoute);\nrouter.get(\"/\", (req, res) => {res.send(\"Hello, World!\")});\n\nmodule.exports = router;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1601159856202
  },
  "{\"sourceRoot\":\"/home/wn/VSCode/back/appTest/test/unit/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/wn/VSCode/back/appTest\",\"filename\":\"/home/wn/VSCode/back/appTest/test/unit/helpers.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/home/wn/VSCode/back/appTest\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6:test": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/wn/VSCode/back/appTest/test/unit/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/wn/VSCode/back/appTest",
      "filename": "/home/wn/VSCode/back/appTest/test/unit/helpers.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "test",
      "root": "/home/wn/VSCode/back/appTest",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/wn/VSCode/back/appTest/test/unit/helpers.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/wn/VSCode/back/appTest/test/unit/helpers.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/wn/VSCode/back/appTest/test/unit/",
        "sourceFileName": "helpers.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst chai = require(\"chai\");\n\nglobal.expect = chai.expect;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhlbHBlcnMuanMiXSwibmFtZXMiOlsiY2hhaSIsInJlcXVpcmUiLCJnbG9iYWwiLCJleHBlY3QiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsSUFBSSxHQUFHQyxPQUFPLENBQUMsTUFBRCxDQUFwQjs7QUFFQUMsTUFBTSxDQUFDQyxNQUFQLEdBQWdCSCxJQUFJLENBQUNHLE1BQXJCIiwic291cmNlUm9vdCI6Ii9ob21lL3duL1ZTQ29kZS9iYWNrL2FwcFRlc3QvdGVzdC91bml0LyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGNoYWkgPSByZXF1aXJlKFwiY2hhaVwiKTtcblxuZ2xvYmFsLmV4cGVjdCA9IGNoYWkuZXhwZWN0O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "helpers.js"
      ],
      "names": [
        "chai",
        "require",
        "global",
        "expect"
      ],
      "mappings": ";;AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB;;AAEAC,MAAM,CAACC,MAAP,GAAgBH,IAAI,CAACG,MAArB",
      "sourceRoot": "/home/wn/VSCode/back/appTest/test/unit/",
      "sourcesContent": [
        "const chai = require(\"chai\");\n\nglobal.expect = chai.expect;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1601213236666
  },
  "{\"sourceRoot\":\"/home/wn/VSCode/back/appTest/test/unit/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/wn/VSCode/back/appTest\",\"filename\":\"/home/wn/VSCode/back/appTest/test/unit/products_spec.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/home/wn/VSCode/back/appTest\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6:test": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/wn/VSCode/back/appTest/test/unit/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/wn/VSCode/back/appTest",
      "filename": "/home/wn/VSCode/back/appTest/test/unit/products_spec.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "test",
      "root": "/home/wn/VSCode/back/appTest",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/wn/VSCode/back/appTest/test/unit/products_spec.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/wn/VSCode/back/appTest/test/unit/products_spec.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/wn/VSCode/back/appTest/test/unit/",
        "sourceFileName": "products_spec.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst ProductsController = require(\"../../src/controllers/products\");\n\nconst sinon = require(\"sinon\");\n\nconst {\n  expect\n} = require(\"chai\");\n\ndescribe(\"Controllers: Products\", () => {\n  const defaultProduct = [{\n    name: \"Default product\",\n    description: \"product description\",\n    price: 100\n  }];\n  describe(\"get() products\", () => {\n    it(\"should return a list of products\", () => {\n      const request = {};\n      const response = {\n        send: sinon.spy()\n      };\n      const productsController = new ProductsController();\n      productsController.get(request, response);\n      expect(response.send.called).to.be.true;\n      expect(response.send.calledWith(defaultProduct)).to.be.true;\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RzX3NwZWMuanMiXSwibmFtZXMiOlsiUHJvZHVjdHNDb250cm9sbGVyIiwicmVxdWlyZSIsInNpbm9uIiwiZXhwZWN0IiwiZGVzY3JpYmUiLCJkZWZhdWx0UHJvZHVjdCIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsInByaWNlIiwiaXQiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJzZW5kIiwic3B5IiwicHJvZHVjdHNDb250cm9sbGVyIiwiZ2V0IiwiY2FsbGVkIiwidG8iLCJiZSIsInRydWUiLCJjYWxsZWRXaXRoIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLGtCQUFrQixHQUFHQyxPQUFPLENBQUMsZ0NBQUQsQ0FBbEM7O0FBQ0EsTUFBTUMsS0FBSyxHQUFHRCxPQUFPLENBQUMsT0FBRCxDQUFyQjs7QUFDQSxNQUFNO0FBQUVFLEVBQUFBO0FBQUYsSUFBYUYsT0FBTyxDQUFDLE1BQUQsQ0FBMUI7O0FBRUFHLFFBQVEsQ0FBQyx1QkFBRCxFQUEwQixNQUFNO0FBQ3RDLFFBQU1DLGNBQWMsR0FBRyxDQUFDO0FBQ3RCQyxJQUFBQSxJQUFJLEVBQUUsaUJBRGdCO0FBRXRCQyxJQUFBQSxXQUFXLEVBQUUscUJBRlM7QUFHdEJDLElBQUFBLEtBQUssRUFBRTtBQUhlLEdBQUQsQ0FBdkI7QUFLQUosRUFBQUEsUUFBUSxDQUFDLGdCQUFELEVBQW1CLE1BQU07QUFDL0JLLElBQUFBLEVBQUUsQ0FBQyxrQ0FBRCxFQUFxQyxNQUFNO0FBQzNDLFlBQU1DLE9BQU8sR0FBRyxFQUFoQjtBQUNBLFlBQU1DLFFBQVEsR0FBRztBQUNmQyxRQUFBQSxJQUFJLEVBQUVWLEtBQUssQ0FBQ1csR0FBTjtBQURTLE9BQWpCO0FBSUEsWUFBTUMsa0JBQWtCLEdBQUcsSUFBSWQsa0JBQUosRUFBM0I7QUFDQWMsTUFBQUEsa0JBQWtCLENBQUNDLEdBQW5CLENBQXVCTCxPQUF2QixFQUFnQ0MsUUFBaEM7QUFFQVIsTUFBQUEsTUFBTSxDQUFDUSxRQUFRLENBQUNDLElBQVQsQ0FBY0ksTUFBZixDQUFOLENBQTZCQyxFQUE3QixDQUFnQ0MsRUFBaEMsQ0FBbUNDLElBQW5DO0FBQ0FoQixNQUFBQSxNQUFNLENBQUNRLFFBQVEsQ0FBQ0MsSUFBVCxDQUFjUSxVQUFkLENBQXlCZixjQUF6QixDQUFELENBQU4sQ0FBaURZLEVBQWpELENBQW9EQyxFQUFwRCxDQUF1REMsSUFBdkQ7QUFDRCxLQVhDLENBQUY7QUFZRCxHQWJPLENBQVI7QUFjRCxDQXBCTyxDQUFSIiwic291cmNlUm9vdCI6Ii9ob21lL3duL1ZTQ29kZS9iYWNrL2FwcFRlc3QvdGVzdC91bml0LyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFByb2R1Y3RzQ29udHJvbGxlciA9IHJlcXVpcmUoXCIuLi8uLi9zcmMvY29udHJvbGxlcnMvcHJvZHVjdHNcIik7XG5jb25zdCBzaW5vbiA9IHJlcXVpcmUoXCJzaW5vblwiKTtcbmNvbnN0IHsgZXhwZWN0IH0gPSByZXF1aXJlKFwiY2hhaVwiKTtcblxuZGVzY3JpYmUoXCJDb250cm9sbGVyczogUHJvZHVjdHNcIiwgKCkgPT4ge1xuICBjb25zdCBkZWZhdWx0UHJvZHVjdCA9IFt7XG4gICAgbmFtZTogXCJEZWZhdWx0IHByb2R1Y3RcIixcbiAgICBkZXNjcmlwdGlvbjogXCJwcm9kdWN0IGRlc2NyaXB0aW9uXCIsXG4gICAgcHJpY2U6IDEwMFxuICB9XTtcbiAgZGVzY3JpYmUoXCJnZXQoKSBwcm9kdWN0c1wiLCAoKSA9PiB7XG4gICAgaXQoXCJzaG91bGQgcmV0dXJuIGEgbGlzdCBvZiBwcm9kdWN0c1wiLCAoKSA9PiB7XG4gICAgICBjb25zdCByZXF1ZXN0ID0ge307XG4gICAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgc2VuZDogc2lub24uc3B5KClcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGNvbnN0IHByb2R1Y3RzQ29udHJvbGxlciA9IG5ldyBQcm9kdWN0c0NvbnRyb2xsZXIoKTtcbiAgICAgIHByb2R1Y3RzQ29udHJvbGxlci5nZXQocmVxdWVzdCwgcmVzcG9uc2UpO1xuICAgICAgXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc2VuZC5jYWxsZWQpLnRvLmJlLnRydWU7XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc2VuZC5jYWxsZWRXaXRoKGRlZmF1bHRQcm9kdWN0KSkudG8uYmUudHJ1ZTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "products_spec.js"
      ],
      "names": [
        "ProductsController",
        "require",
        "sinon",
        "expect",
        "describe",
        "defaultProduct",
        "name",
        "description",
        "price",
        "it",
        "request",
        "response",
        "send",
        "spy",
        "productsController",
        "get",
        "called",
        "to",
        "be",
        "true",
        "calledWith"
      ],
      "mappings": ";;AAAA,MAAMA,kBAAkB,GAAGC,OAAO,CAAC,gCAAD,CAAlC;;AACA,MAAMC,KAAK,GAAGD,OAAO,CAAC,OAAD,CAArB;;AACA,MAAM;AAAEE,EAAAA;AAAF,IAAaF,OAAO,CAAC,MAAD,CAA1B;;AAEAG,QAAQ,CAAC,uBAAD,EAA0B,MAAM;AACtC,QAAMC,cAAc,GAAG,CAAC;AACtBC,IAAAA,IAAI,EAAE,iBADgB;AAEtBC,IAAAA,WAAW,EAAE,qBAFS;AAGtBC,IAAAA,KAAK,EAAE;AAHe,GAAD,CAAvB;AAKAJ,EAAAA,QAAQ,CAAC,gBAAD,EAAmB,MAAM;AAC/BK,IAAAA,EAAE,CAAC,kCAAD,EAAqC,MAAM;AAC3C,YAAMC,OAAO,GAAG,EAAhB;AACA,YAAMC,QAAQ,GAAG;AACfC,QAAAA,IAAI,EAAEV,KAAK,CAACW,GAAN;AADS,OAAjB;AAIA,YAAMC,kBAAkB,GAAG,IAAId,kBAAJ,EAA3B;AACAc,MAAAA,kBAAkB,CAACC,GAAnB,CAAuBL,OAAvB,EAAgCC,QAAhC;AAEAR,MAAAA,MAAM,CAACQ,QAAQ,CAACC,IAAT,CAAcI,MAAf,CAAN,CAA6BC,EAA7B,CAAgCC,EAAhC,CAAmCC,IAAnC;AACAhB,MAAAA,MAAM,CAACQ,QAAQ,CAACC,IAAT,CAAcQ,UAAd,CAAyBf,cAAzB,CAAD,CAAN,CAAiDY,EAAjD,CAAoDC,EAApD,CAAuDC,IAAvD;AACD,KAXC,CAAF;AAYD,GAbO,CAAR;AAcD,CApBO,CAAR",
      "sourceRoot": "/home/wn/VSCode/back/appTest/test/unit/",
      "sourcesContent": [
        "const ProductsController = require(\"../../src/controllers/products\");\nconst sinon = require(\"sinon\");\nconst { expect } = require(\"chai\");\n\ndescribe(\"Controllers: Products\", () => {\n  const defaultProduct = [{\n    name: \"Default product\",\n    description: \"product description\",\n    price: 100\n  }];\n  describe(\"get() products\", () => {\n    it(\"should return a list of products\", () => {\n      const request = {};\n      const response = {\n        send: sinon.spy()\n      };\n      \n      const productsController = new ProductsController();\n      productsController.get(request, response);\n      \n      expect(response.send.called).to.be.true;\n      expect(response.send.calledWith(defaultProduct)).to.be.true;\n    });\n  });\n});\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1600805203325
  },
  "{\"sourceRoot\":\"/home/wn/VSCode/back/appTest/src/controllers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/wn/VSCode/back/appTest\",\"filename\":\"/home/wn/VSCode/back/appTest/src/controllers/products.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/home/wn/VSCode/back/appTest\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6:test": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/controllers/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/wn/VSCode/back/appTest",
      "filename": "/home/wn/VSCode/back/appTest/src/controllers/products.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "test",
      "root": "/home/wn/VSCode/back/appTest",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/wn/VSCode/back/appTest/src/controllers/products.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/wn/VSCode/back/appTest/src/controllers/products.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/wn/VSCode/back/appTest/src/controllers/",
        "sourceFileName": "products.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nclass ProductsController {\n  constructor(Product) {\n    this.Product = Product;\n  }\n\n  async remove(req, res) {\n    try {\n      await this.Product.deleteOne({\n        _id: req.params.id\n      });\n      res.sendStatus(204);\n    } catch (error) {\n      res.status(400).send(error.message);\n    }\n  }\n\n  async update(req, res) {\n    try {\n      await this.Product.updateOne({\n        _id: req.params.id\n      }, req.body);\n      res.sendStatus(200);\n    } catch (error) {\n      res.status(422).send(error.message);\n    }\n  }\n\n  async create(req, res) {\n    const product = new this.Product(req.body);\n\n    try {\n      await product.save();\n      res.status(201).send(product);\n    } catch (error) {\n      res.status(422).send(error.message);\n    }\n  }\n\n  async getById(req, res) {\n    const {\n      params: {\n        id\n      }\n    } = req;\n\n    try {\n      const product = await this.Product.find({\n        _id: id\n      });\n      res.send(product);\n    } catch (err) {\n      res.status(400).send(err.message);\n    }\n  }\n\n  async get(req, res) {\n    try {\n      const products = await this.Product.find({});\n      res.send(products);\n    } catch (error) {\n      res.status(400).send(error.message);\n    }\n  }\n\n}\n\nmodule.exports = ProductsController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RzLmpzIl0sIm5hbWVzIjpbIlByb2R1Y3RzQ29udHJvbGxlciIsImNvbnN0cnVjdG9yIiwiUHJvZHVjdCIsInJlbW92ZSIsInJlcSIsInJlcyIsImRlbGV0ZU9uZSIsIl9pZCIsInBhcmFtcyIsImlkIiwic2VuZFN0YXR1cyIsImVycm9yIiwic3RhdHVzIiwic2VuZCIsIm1lc3NhZ2UiLCJ1cGRhdGUiLCJ1cGRhdGVPbmUiLCJib2R5IiwiY3JlYXRlIiwicHJvZHVjdCIsInNhdmUiLCJnZXRCeUlkIiwiZmluZCIsImVyciIsImdldCIsInByb2R1Y3RzIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxrQkFBTixDQUF5QjtBQUN2QkMsRUFBQUEsV0FBVyxDQUFDQyxPQUFELEVBQVU7QUFDbkIsU0FBS0EsT0FBTCxHQUFlQSxPQUFmO0FBQ0Q7O0FBRUQsUUFBTUMsTUFBTixDQUFhQyxHQUFiLEVBQWtCQyxHQUFsQixFQUF1QjtBQUNyQixRQUFJO0FBQ0YsWUFBTSxLQUFLSCxPQUFMLENBQWFJLFNBQWIsQ0FBdUI7QUFBRUMsUUFBQUEsR0FBRyxFQUFFSCxHQUFHLENBQUNJLE1BQUosQ0FBV0M7QUFBbEIsT0FBdkIsQ0FBTjtBQUNBSixNQUFBQSxHQUFHLENBQUNLLFVBQUosQ0FBZSxHQUFmO0FBQ0QsS0FIRCxDQUdFLE9BQU9DLEtBQVAsRUFBYztBQUNkTixNQUFBQSxHQUFHLENBQUNPLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQkYsS0FBSyxDQUFDRyxPQUEzQjtBQUNEO0FBQ0Y7O0FBRUQsUUFBTUMsTUFBTixDQUFhWCxHQUFiLEVBQWtCQyxHQUFsQixFQUF1QjtBQUNyQixRQUFJO0FBQ0YsWUFBTSxLQUFLSCxPQUFMLENBQWFjLFNBQWIsQ0FBdUI7QUFBRVQsUUFBQUEsR0FBRyxFQUFFSCxHQUFHLENBQUNJLE1BQUosQ0FBV0M7QUFBbEIsT0FBdkIsRUFBOENMLEdBQUcsQ0FBQ2EsSUFBbEQsQ0FBTjtBQUNBWixNQUFBQSxHQUFHLENBQUNLLFVBQUosQ0FBZSxHQUFmO0FBQ0QsS0FIRCxDQUdFLE9BQU9DLEtBQVAsRUFBYztBQUNkTixNQUFBQSxHQUFHLENBQUNPLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQkYsS0FBSyxDQUFDRyxPQUEzQjtBQUNEO0FBQ0Y7O0FBRUQsUUFBTUksTUFBTixDQUFhZCxHQUFiLEVBQWtCQyxHQUFsQixFQUF1QjtBQUNyQixVQUFNYyxPQUFPLEdBQUcsSUFBSSxLQUFLakIsT0FBVCxDQUFpQkUsR0FBRyxDQUFDYSxJQUFyQixDQUFoQjs7QUFDQSxRQUFJO0FBQ0YsWUFBTUUsT0FBTyxDQUFDQyxJQUFSLEVBQU47QUFDQWYsTUFBQUEsR0FBRyxDQUFDTyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUJNLE9BQXJCO0FBQ0QsS0FIRCxDQUdFLE9BQU9SLEtBQVAsRUFBYztBQUNkTixNQUFBQSxHQUFHLENBQUNPLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQkYsS0FBSyxDQUFDRyxPQUEzQjtBQUNEO0FBQ0Y7O0FBRUQsUUFBTU8sT0FBTixDQUFjakIsR0FBZCxFQUFtQkMsR0FBbkIsRUFBd0I7QUFDdEIsVUFBTTtBQUNKRyxNQUFBQSxNQUFNLEVBQUU7QUFBRUMsUUFBQUE7QUFBRjtBQURKLFFBRUZMLEdBRko7O0FBSUEsUUFBSTtBQUNGLFlBQU1lLE9BQU8sR0FBRyxNQUFNLEtBQUtqQixPQUFMLENBQWFvQixJQUFiLENBQWtCO0FBQUVmLFFBQUFBLEdBQUcsRUFBRUU7QUFBUCxPQUFsQixDQUF0QjtBQUNBSixNQUFBQSxHQUFHLENBQUNRLElBQUosQ0FBU00sT0FBVDtBQUNELEtBSEQsQ0FHRSxPQUFPSSxHQUFQLEVBQVk7QUFDWmxCLE1BQUFBLEdBQUcsQ0FBQ08sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCVSxHQUFHLENBQUNULE9BQXpCO0FBQ0Q7QUFDRjs7QUFFRCxRQUFNVSxHQUFOLENBQVVwQixHQUFWLEVBQWVDLEdBQWYsRUFBb0I7QUFDbEIsUUFBSTtBQUNGLFlBQU1vQixRQUFRLEdBQUcsTUFBTSxLQUFLdkIsT0FBTCxDQUFhb0IsSUFBYixDQUFrQixFQUFsQixDQUF2QjtBQUNBakIsTUFBQUEsR0FBRyxDQUFDUSxJQUFKLENBQVNZLFFBQVQ7QUFDRCxLQUhELENBR0UsT0FBT2QsS0FBUCxFQUFjO0FBQ2ROLE1BQUFBLEdBQUcsQ0FBQ08sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCRixLQUFLLENBQUNHLE9BQTNCO0FBQ0Q7QUFDRjs7QUFyRHNCOztBQXlEekJZLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjNCLGtCQUFqQiIsInNvdXJjZVJvb3QiOiIvaG9tZS93bi9WU0NvZGUvYmFjay9hcHBUZXN0L3NyYy9jb250cm9sbGVycy8iLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBQcm9kdWN0c0NvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3RvcihQcm9kdWN0KSB7XG4gICAgdGhpcy5Qcm9kdWN0ID0gUHJvZHVjdDtcbiAgfVxuICBcbiAgYXN5bmMgcmVtb3ZlKHJlcSwgcmVzKSB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHRoaXMuUHJvZHVjdC5kZWxldGVPbmUoeyBfaWQ6IHJlcS5wYXJhbXMuaWQgfSk7XG4gICAgICByZXMuc2VuZFN0YXR1cygyMDQpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDQwMCkuc2VuZChlcnJvci5tZXNzYWdlKTtcbiAgICB9XG4gIH1cbiAgXG4gIGFzeW5jIHVwZGF0ZShyZXEsIHJlcykge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0aGlzLlByb2R1Y3QudXBkYXRlT25lKHsgX2lkOiByZXEucGFyYW1zLmlkfSwgcmVxLmJvZHkpO1xuICAgICAgcmVzLnNlbmRTdGF0dXMoMjAwKTsgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDQyMikuc2VuZChlcnJvci5tZXNzYWdlKTtcbiAgICB9XG4gIH1cbiAgXG4gIGFzeW5jIGNyZWF0ZShyZXEsIHJlcykge1xuICAgIGNvbnN0IHByb2R1Y3QgPSBuZXcgdGhpcy5Qcm9kdWN0KHJlcS5ib2R5KTtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgcHJvZHVjdC5zYXZlKCk7XG4gICAgICByZXMuc3RhdHVzKDIwMSkuc2VuZChwcm9kdWN0KTsgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDQyMikuc2VuZChlcnJvci5tZXNzYWdlKTtcbiAgICB9XG4gIH1cbiAgXG4gIGFzeW5jIGdldEJ5SWQocmVxLCByZXMpIHtcbiAgICBjb25zdCB7XG4gICAgICBwYXJhbXM6IHsgaWQgfVxuICAgIH0gPSByZXE7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IHRoaXMuUHJvZHVjdC5maW5kKHsgX2lkOiBpZCB9KTtcbiAgICAgIHJlcy5zZW5kKHByb2R1Y3QpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmVzLnN0YXR1cyg0MDApLnNlbmQoZXJyLm1lc3NhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldChyZXEsIHJlcykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwcm9kdWN0cyA9IGF3YWl0IHRoaXMuUHJvZHVjdC5maW5kKHt9KTtcbiAgICAgIHJlcy5zZW5kKHByb2R1Y3RzKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyg0MDApLnNlbmQoZXJyb3IubWVzc2FnZSk7XG4gICAgfVxuICB9XG5cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBQcm9kdWN0c0NvbnRyb2xsZXI7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "products.js"
      ],
      "names": [
        "ProductsController",
        "constructor",
        "Product",
        "remove",
        "req",
        "res",
        "deleteOne",
        "_id",
        "params",
        "id",
        "sendStatus",
        "error",
        "status",
        "send",
        "message",
        "update",
        "updateOne",
        "body",
        "create",
        "product",
        "save",
        "getById",
        "find",
        "err",
        "get",
        "products",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,MAAMA,kBAAN,CAAyB;AACvBC,EAAAA,WAAW,CAACC,OAAD,EAAU;AACnB,SAAKA,OAAL,GAAeA,OAAf;AACD;;AAED,QAAMC,MAAN,CAAaC,GAAb,EAAkBC,GAAlB,EAAuB;AACrB,QAAI;AACF,YAAM,KAAKH,OAAL,CAAaI,SAAb,CAAuB;AAAEC,QAAAA,GAAG,EAAEH,GAAG,CAACI,MAAJ,CAAWC;AAAlB,OAAvB,CAAN;AACAJ,MAAAA,GAAG,CAACK,UAAJ,CAAe,GAAf;AACD,KAHD,CAGE,OAAOC,KAAP,EAAc;AACdN,MAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBF,KAAK,CAACG,OAA3B;AACD;AACF;;AAED,QAAMC,MAAN,CAAaX,GAAb,EAAkBC,GAAlB,EAAuB;AACrB,QAAI;AACF,YAAM,KAAKH,OAAL,CAAac,SAAb,CAAuB;AAAET,QAAAA,GAAG,EAAEH,GAAG,CAACI,MAAJ,CAAWC;AAAlB,OAAvB,EAA8CL,GAAG,CAACa,IAAlD,CAAN;AACAZ,MAAAA,GAAG,CAACK,UAAJ,CAAe,GAAf;AACD,KAHD,CAGE,OAAOC,KAAP,EAAc;AACdN,MAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBF,KAAK,CAACG,OAA3B;AACD;AACF;;AAED,QAAMI,MAAN,CAAad,GAAb,EAAkBC,GAAlB,EAAuB;AACrB,UAAMc,OAAO,GAAG,IAAI,KAAKjB,OAAT,CAAiBE,GAAG,CAACa,IAArB,CAAhB;;AACA,QAAI;AACF,YAAME,OAAO,CAACC,IAAR,EAAN;AACAf,MAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBM,OAArB;AACD,KAHD,CAGE,OAAOR,KAAP,EAAc;AACdN,MAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBF,KAAK,CAACG,OAA3B;AACD;AACF;;AAED,QAAMO,OAAN,CAAcjB,GAAd,EAAmBC,GAAnB,EAAwB;AACtB,UAAM;AACJG,MAAAA,MAAM,EAAE;AAAEC,QAAAA;AAAF;AADJ,QAEFL,GAFJ;;AAIA,QAAI;AACF,YAAMe,OAAO,GAAG,MAAM,KAAKjB,OAAL,CAAaoB,IAAb,CAAkB;AAAEf,QAAAA,GAAG,EAAEE;AAAP,OAAlB,CAAtB;AACAJ,MAAAA,GAAG,CAACQ,IAAJ,CAASM,OAAT;AACD,KAHD,CAGE,OAAOI,GAAP,EAAY;AACZlB,MAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBU,GAAG,CAACT,OAAzB;AACD;AACF;;AAED,QAAMU,GAAN,CAAUpB,GAAV,EAAeC,GAAf,EAAoB;AAClB,QAAI;AACF,YAAMoB,QAAQ,GAAG,MAAM,KAAKvB,OAAL,CAAaoB,IAAb,CAAkB,EAAlB,CAAvB;AACAjB,MAAAA,GAAG,CAACQ,IAAJ,CAASY,QAAT;AACD,KAHD,CAGE,OAAOd,KAAP,EAAc;AACdN,MAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBF,KAAK,CAACG,OAA3B;AACD;AACF;;AArDsB;;AAyDzBY,MAAM,CAACC,OAAP,GAAiB3B,kBAAjB",
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/controllers/",
      "sourcesContent": [
        "class ProductsController {\n  constructor(Product) {\n    this.Product = Product;\n  }\n  \n  async remove(req, res) {\n    try {\n      await this.Product.deleteOne({ _id: req.params.id });\n      res.sendStatus(204);\n    } catch (error) {\n      res.status(400).send(error.message);\n    }\n  }\n  \n  async update(req, res) {\n    try {\n      await this.Product.updateOne({ _id: req.params.id}, req.body);\n      res.sendStatus(200);  \n    } catch (error) {\n      res.status(422).send(error.message);\n    }\n  }\n  \n  async create(req, res) {\n    const product = new this.Product(req.body);\n    try {\n      await product.save();\n      res.status(201).send(product);  \n    } catch (error) {\n      res.status(422).send(error.message);\n    }\n  }\n  \n  async getById(req, res) {\n    const {\n      params: { id }\n    } = req;\n\n    try {\n      const product = await this.Product.find({ _id: id });\n      res.send(product);\n    } catch (err) {\n      res.status(400).send(err.message);\n    }\n  }\n\n  async get(req, res) {\n    try {\n      const products = await this.Product.find({});\n      res.send(products);\n    } catch (error) {\n      res.status(400).send(error.message);\n    }\n  }\n\n}\n\nmodule.exports = ProductsController;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1601146500899
  },
  "{\"sourceRoot\":\"/home/wn/VSCode/back/appTest/src/controllers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/wn/VSCode/back/appTest\",\"filename\":\"/home/wn/VSCode/back/appTest/src/controllers/products.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/home/wn/VSCode/back/appTest\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6:test": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/controllers/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/wn/VSCode/back/appTest",
      "filename": "/home/wn/VSCode/back/appTest/src/controllers/products.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "test",
      "root": "/home/wn/VSCode/back/appTest",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/wn/VSCode/back/appTest/src/controllers/products.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/wn/VSCode/back/appTest/src/controllers/products.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/wn/VSCode/back/appTest/src/controllers/",
        "sourceFileName": "products.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nclass ProductsController {\n  constructor(Product) {\n    this.Product = Product;\n  }\n\n  async remove(req, res) {\n    try {\n      await this.Product.deleteOne({\n        _id: req.params.id\n      });\n      res.sendStatus(204);\n    } catch (error) {\n      res.status(400).send(error.message);\n    }\n  }\n\n  async update(req, res) {\n    try {\n      await this.Product.updateOne({\n        _id: req.params.id\n      }, req.body);\n      res.sendStatus(200);\n    } catch (error) {\n      res.status(422).send(error.message);\n    }\n  }\n\n  async create(req, res) {\n    const product = new this.Product(req.body);\n\n    try {\n      await product.save();\n      res.status(201).send(product);\n    } catch (error) {\n      res.status(422).send(error.message);\n    }\n  }\n\n  async getById(req, res) {\n    const {\n      params: {\n        id\n      }\n    } = req;\n\n    try {\n      const product = await this.Product.find({\n        _id: id\n      });\n      res.send(product);\n    } catch (err) {\n      res.status(400).send(err.message);\n    }\n  }\n\n  async get(req, res) {\n    try {\n      const products = await this.Product.find({});\n      res.send(products);\n    } catch (error) {\n      res.status(400).send(error.message);\n    }\n  }\n\n}\n\nmodule.exports = ProductsController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RzLmpzIl0sIm5hbWVzIjpbIlByb2R1Y3RzQ29udHJvbGxlciIsImNvbnN0cnVjdG9yIiwiUHJvZHVjdCIsInJlbW92ZSIsInJlcSIsInJlcyIsImRlbGV0ZU9uZSIsIl9pZCIsInBhcmFtcyIsImlkIiwic2VuZFN0YXR1cyIsImVycm9yIiwic3RhdHVzIiwic2VuZCIsIm1lc3NhZ2UiLCJ1cGRhdGUiLCJ1cGRhdGVPbmUiLCJib2R5IiwiY3JlYXRlIiwicHJvZHVjdCIsInNhdmUiLCJnZXRCeUlkIiwiZmluZCIsImVyciIsImdldCIsInByb2R1Y3RzIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxrQkFBTixDQUF5QjtBQUN2QkMsRUFBQUEsV0FBVyxDQUFDQyxPQUFELEVBQVU7QUFDbkIsU0FBS0EsT0FBTCxHQUFlQSxPQUFmO0FBQ0Q7O0FBRUQsUUFBTUMsTUFBTixDQUFhQyxHQUFiLEVBQWtCQyxHQUFsQixFQUF1QjtBQUNyQixRQUFJO0FBQ0YsWUFBTSxLQUFLSCxPQUFMLENBQWFJLFNBQWIsQ0FBdUI7QUFBRUMsUUFBQUEsR0FBRyxFQUFFSCxHQUFHLENBQUNJLE1BQUosQ0FBV0M7QUFBbEIsT0FBdkIsQ0FBTjtBQUNBSixNQUFBQSxHQUFHLENBQUNLLFVBQUosQ0FBZSxHQUFmO0FBQ0QsS0FIRCxDQUdFLE9BQU9DLEtBQVAsRUFBYztBQUNkTixNQUFBQSxHQUFHLENBQUNPLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQkYsS0FBSyxDQUFDRyxPQUEzQjtBQUNEO0FBQ0Y7O0FBRUQsUUFBTUMsTUFBTixDQUFhWCxHQUFiLEVBQWtCQyxHQUFsQixFQUF1QjtBQUNyQixRQUFJO0FBQ0YsWUFBTSxLQUFLSCxPQUFMLENBQWFjLFNBQWIsQ0FBdUI7QUFBRVQsUUFBQUEsR0FBRyxFQUFFSCxHQUFHLENBQUNJLE1BQUosQ0FBV0M7QUFBbEIsT0FBdkIsRUFBOENMLEdBQUcsQ0FBQ2EsSUFBbEQsQ0FBTjtBQUNBWixNQUFBQSxHQUFHLENBQUNLLFVBQUosQ0FBZSxHQUFmO0FBQ0QsS0FIRCxDQUdFLE9BQU9DLEtBQVAsRUFBYztBQUNkTixNQUFBQSxHQUFHLENBQUNPLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQkYsS0FBSyxDQUFDRyxPQUEzQjtBQUNEO0FBQ0Y7O0FBRUQsUUFBTUksTUFBTixDQUFhZCxHQUFiLEVBQWtCQyxHQUFsQixFQUF1QjtBQUNyQixVQUFNYyxPQUFPLEdBQUcsSUFBSSxLQUFLakIsT0FBVCxDQUFpQkUsR0FBRyxDQUFDYSxJQUFyQixDQUFoQjs7QUFDQSxRQUFJO0FBQ0YsWUFBTUUsT0FBTyxDQUFDQyxJQUFSLEVBQU47QUFDQWYsTUFBQUEsR0FBRyxDQUFDTyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUJNLE9BQXJCO0FBQ0QsS0FIRCxDQUdFLE9BQU9SLEtBQVAsRUFBYztBQUNkTixNQUFBQSxHQUFHLENBQUNPLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQkYsS0FBSyxDQUFDRyxPQUEzQjtBQUNEO0FBQ0Y7O0FBRUQsUUFBTU8sT0FBTixDQUFjakIsR0FBZCxFQUFtQkMsR0FBbkIsRUFBd0I7QUFDdEIsVUFBTTtBQUNKRyxNQUFBQSxNQUFNLEVBQUU7QUFBRUMsUUFBQUE7QUFBRjtBQURKLFFBRUZMLEdBRko7O0FBSUEsUUFBSTtBQUNGLFlBQU1lLE9BQU8sR0FBRyxNQUFNLEtBQUtqQixPQUFMLENBQWFvQixJQUFiLENBQWtCO0FBQUVmLFFBQUFBLEdBQUcsRUFBRUU7QUFBUCxPQUFsQixDQUF0QjtBQUNBSixNQUFBQSxHQUFHLENBQUNRLElBQUosQ0FBU00sT0FBVDtBQUNELEtBSEQsQ0FHRSxPQUFPSSxHQUFQLEVBQVk7QUFDWmxCLE1BQUFBLEdBQUcsQ0FBQ08sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCVSxHQUFHLENBQUNULE9BQXpCO0FBQ0Q7QUFDRjs7QUFFRCxRQUFNVSxHQUFOLENBQVVwQixHQUFWLEVBQWVDLEdBQWYsRUFBb0I7QUFDbEIsUUFBSTtBQUNGLFlBQU1vQixRQUFRLEdBQUcsTUFBTSxLQUFLdkIsT0FBTCxDQUFhb0IsSUFBYixDQUFrQixFQUFsQixDQUF2QjtBQUNBakIsTUFBQUEsR0FBRyxDQUFDUSxJQUFKLENBQVNZLFFBQVQ7QUFDRCxLQUhELENBR0UsT0FBT2QsS0FBUCxFQUFjO0FBQ2ROLE1BQUFBLEdBQUcsQ0FBQ08sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCRixLQUFLLENBQUNHLE9BQTNCO0FBQ0Q7QUFDRjs7QUFyRHNCOztBQXlEekJZLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjNCLGtCQUFqQiIsInNvdXJjZVJvb3QiOiIvaG9tZS93bi9WU0NvZGUvYmFjay9hcHBUZXN0L3NyYy9jb250cm9sbGVycy8iLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBQcm9kdWN0c0NvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3RvcihQcm9kdWN0KSB7XG4gICAgdGhpcy5Qcm9kdWN0ID0gUHJvZHVjdDtcbiAgfVxuICBcbiAgYXN5bmMgcmVtb3ZlKHJlcSwgcmVzKSB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHRoaXMuUHJvZHVjdC5kZWxldGVPbmUoeyBfaWQ6IHJlcS5wYXJhbXMuaWQgfSk7XG4gICAgICByZXMuc2VuZFN0YXR1cygyMDQpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDQwMCkuc2VuZChlcnJvci5tZXNzYWdlKTtcbiAgICB9XG4gIH1cbiAgXG4gIGFzeW5jIHVwZGF0ZShyZXEsIHJlcykge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0aGlzLlByb2R1Y3QudXBkYXRlT25lKHsgX2lkOiByZXEucGFyYW1zLmlkfSwgcmVxLmJvZHkpO1xuICAgICAgcmVzLnNlbmRTdGF0dXMoMjAwKTsgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDQyMikuc2VuZChlcnJvci5tZXNzYWdlKTtcbiAgICB9XG4gIH1cbiAgXG4gIGFzeW5jIGNyZWF0ZShyZXEsIHJlcykge1xuICAgIGNvbnN0IHByb2R1Y3QgPSBuZXcgdGhpcy5Qcm9kdWN0KHJlcS5ib2R5KTtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgcHJvZHVjdC5zYXZlKCk7XG4gICAgICByZXMuc3RhdHVzKDIwMSkuc2VuZChwcm9kdWN0KTsgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDQyMikuc2VuZChlcnJvci5tZXNzYWdlKTtcbiAgICB9XG4gIH1cbiAgXG4gIGFzeW5jIGdldEJ5SWQocmVxLCByZXMpIHtcbiAgICBjb25zdCB7XG4gICAgICBwYXJhbXM6IHsgaWQgfVxuICAgIH0gPSByZXE7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IHRoaXMuUHJvZHVjdC5maW5kKHsgX2lkOiBpZCB9KTtcbiAgICAgIHJlcy5zZW5kKHByb2R1Y3QpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmVzLnN0YXR1cyg0MDApLnNlbmQoZXJyLm1lc3NhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldChyZXEsIHJlcykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwcm9kdWN0cyA9IGF3YWl0IHRoaXMuUHJvZHVjdC5maW5kKHt9KTtcbiAgICAgIHJlcy5zZW5kKHByb2R1Y3RzKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyg0MDApLnNlbmQoZXJyb3IubWVzc2FnZSk7XG4gICAgfVxuICB9XG5cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBQcm9kdWN0c0NvbnRyb2xsZXI7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "products.js"
      ],
      "names": [
        "ProductsController",
        "constructor",
        "Product",
        "remove",
        "req",
        "res",
        "deleteOne",
        "_id",
        "params",
        "id",
        "sendStatus",
        "error",
        "status",
        "send",
        "message",
        "update",
        "updateOne",
        "body",
        "create",
        "product",
        "save",
        "getById",
        "find",
        "err",
        "get",
        "products",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,MAAMA,kBAAN,CAAyB;AACvBC,EAAAA,WAAW,CAACC,OAAD,EAAU;AACnB,SAAKA,OAAL,GAAeA,OAAf;AACD;;AAED,QAAMC,MAAN,CAAaC,GAAb,EAAkBC,GAAlB,EAAuB;AACrB,QAAI;AACF,YAAM,KAAKH,OAAL,CAAaI,SAAb,CAAuB;AAAEC,QAAAA,GAAG,EAAEH,GAAG,CAACI,MAAJ,CAAWC;AAAlB,OAAvB,CAAN;AACAJ,MAAAA,GAAG,CAACK,UAAJ,CAAe,GAAf;AACD,KAHD,CAGE,OAAOC,KAAP,EAAc;AACdN,MAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBF,KAAK,CAACG,OAA3B;AACD;AACF;;AAED,QAAMC,MAAN,CAAaX,GAAb,EAAkBC,GAAlB,EAAuB;AACrB,QAAI;AACF,YAAM,KAAKH,OAAL,CAAac,SAAb,CAAuB;AAAET,QAAAA,GAAG,EAAEH,GAAG,CAACI,MAAJ,CAAWC;AAAlB,OAAvB,EAA8CL,GAAG,CAACa,IAAlD,CAAN;AACAZ,MAAAA,GAAG,CAACK,UAAJ,CAAe,GAAf;AACD,KAHD,CAGE,OAAOC,KAAP,EAAc;AACdN,MAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBF,KAAK,CAACG,OAA3B;AACD;AACF;;AAED,QAAMI,MAAN,CAAad,GAAb,EAAkBC,GAAlB,EAAuB;AACrB,UAAMc,OAAO,GAAG,IAAI,KAAKjB,OAAT,CAAiBE,GAAG,CAACa,IAArB,CAAhB;;AACA,QAAI;AACF,YAAME,OAAO,CAACC,IAAR,EAAN;AACAf,MAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBM,OAArB;AACD,KAHD,CAGE,OAAOR,KAAP,EAAc;AACdN,MAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBF,KAAK,CAACG,OAA3B;AACD;AACF;;AAED,QAAMO,OAAN,CAAcjB,GAAd,EAAmBC,GAAnB,EAAwB;AACtB,UAAM;AACJG,MAAAA,MAAM,EAAE;AAAEC,QAAAA;AAAF;AADJ,QAEFL,GAFJ;;AAIA,QAAI;AACF,YAAMe,OAAO,GAAG,MAAM,KAAKjB,OAAL,CAAaoB,IAAb,CAAkB;AAAEf,QAAAA,GAAG,EAAEE;AAAP,OAAlB,CAAtB;AACAJ,MAAAA,GAAG,CAACQ,IAAJ,CAASM,OAAT;AACD,KAHD,CAGE,OAAOI,GAAP,EAAY;AACZlB,MAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBU,GAAG,CAACT,OAAzB;AACD;AACF;;AAED,QAAMU,GAAN,CAAUpB,GAAV,EAAeC,GAAf,EAAoB;AAClB,QAAI;AACF,YAAMoB,QAAQ,GAAG,MAAM,KAAKvB,OAAL,CAAaoB,IAAb,CAAkB,EAAlB,CAAvB;AACAjB,MAAAA,GAAG,CAACQ,IAAJ,CAASY,QAAT;AACD,KAHD,CAGE,OAAOd,KAAP,EAAc;AACdN,MAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBF,KAAK,CAACG,OAA3B;AACD;AACF;;AArDsB;;AAyDzBY,MAAM,CAACC,OAAP,GAAiB3B,kBAAjB",
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/controllers/",
      "sourcesContent": [
        "class ProductsController {\n  constructor(Product) {\n    this.Product = Product;\n  }\n  \n  async remove(req, res) {\n    try {\n      await this.Product.deleteOne({ _id: req.params.id });\n      res.sendStatus(204);\n    } catch (error) {\n      res.status(400).send(error.message);\n    }\n  }\n  \n  async update(req, res) {\n    try {\n      await this.Product.updateOne({ _id: req.params.id}, req.body);\n      res.sendStatus(200);  \n    } catch (error) {\n      res.status(422).send(error.message);\n    }\n  }\n  \n  async create(req, res) {\n    const product = new this.Product(req.body);\n    try {\n      await product.save();\n      res.status(201).send(product);  \n    } catch (error) {\n      res.status(422).send(error.message);\n    }\n  }\n  \n  async getById(req, res) {\n    const {\n      params: { id }\n    } = req;\n\n    try {\n      const product = await this.Product.find({ _id: id });\n      res.send(product);\n    } catch (err) {\n      res.status(400).send(err.message);\n    }\n  }\n\n  async get(req, res) {\n    try {\n      const products = await this.Product.find({});\n      res.send(products);\n    } catch (error) {\n      res.status(400).send(error.message);\n    }\n  }\n\n}\n\nmodule.exports = ProductsController;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1601146500899
  },
  "{\"sourceRoot\":\"/home/wn/VSCode/back/appTest/src/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/wn/VSCode/back/appTest\",\"filename\":\"/home/wn/VSCode/back/appTest/src/routes/products.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/home/wn/VSCode/back/appTest\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6:test": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/routes/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/wn/VSCode/back/appTest",
      "filename": "/home/wn/VSCode/back/appTest/src/routes/products.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "test",
      "root": "/home/wn/VSCode/back/appTest",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/wn/VSCode/back/appTest/src/routes/products.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/wn/VSCode/back/appTest/src/routes/products.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/wn/VSCode/back/appTest/src/routes/",
        "sourceFileName": "products.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst express = require(\"express\");\n\nconst ProductsController = require(\"../controllers/products\");\n\nconst Product = require(\"../models/products\");\n\nconst router = express.Router();\nconst productsController = new ProductsController(Product);\nrouter.get(\"/\", (req, res) => productsController.get(req, res));\nrouter.get(\"/:id\", (req, res) => productsController.getById(req, res));\nrouter.post(\"/\", (req, res) => productsController.create(req, res));\nrouter.put(\"/:id\", (req, res) => productsController.update(req, res));\nrouter.delete(\"/:id\", (req, res) => productsController.remove(req, res));\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RzLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwiUHJvZHVjdHNDb250cm9sbGVyIiwiUHJvZHVjdCIsInJvdXRlciIsIlJvdXRlciIsInByb2R1Y3RzQ29udHJvbGxlciIsImdldCIsInJlcSIsInJlcyIsImdldEJ5SWQiLCJwb3N0IiwiY3JlYXRlIiwicHV0IiwidXBkYXRlIiwiZGVsZXRlIiwicmVtb3ZlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUNBLE1BQU1DLGtCQUFrQixHQUFHRCxPQUFPLENBQUMseUJBQUQsQ0FBbEM7O0FBQ0EsTUFBTUUsT0FBTyxHQUFHRixPQUFPLENBQUMsb0JBQUQsQ0FBdkI7O0FBRUEsTUFBTUcsTUFBTSxHQUFHSixPQUFPLENBQUNLLE1BQVIsRUFBZjtBQUVBLE1BQU1DLGtCQUFrQixHQUFHLElBQUlKLGtCQUFKLENBQXVCQyxPQUF2QixDQUEzQjtBQUVBQyxNQUFNLENBQUNHLEdBQVAsQ0FBVyxHQUFYLEVBQWdCLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFjSCxrQkFBa0IsQ0FBQ0MsR0FBbkIsQ0FBdUJDLEdBQXZCLEVBQTRCQyxHQUE1QixDQUE5QjtBQUNBTCxNQUFNLENBQUNHLEdBQVAsQ0FBVyxNQUFYLEVBQW1CLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFjSCxrQkFBa0IsQ0FBQ0ksT0FBbkIsQ0FBMkJGLEdBQTNCLEVBQWdDQyxHQUFoQyxDQUFqQztBQUNBTCxNQUFNLENBQUNPLElBQVAsQ0FBWSxHQUFaLEVBQWlCLENBQUNILEdBQUQsRUFBTUMsR0FBTixLQUFjSCxrQkFBa0IsQ0FBQ00sTUFBbkIsQ0FBMEJKLEdBQTFCLEVBQStCQyxHQUEvQixDQUEvQjtBQUNBTCxNQUFNLENBQUNTLEdBQVAsQ0FBVyxNQUFYLEVBQW1CLENBQUNMLEdBQUQsRUFBTUMsR0FBTixLQUFjSCxrQkFBa0IsQ0FBQ1EsTUFBbkIsQ0FBMEJOLEdBQTFCLEVBQStCQyxHQUEvQixDQUFqQztBQUNBTCxNQUFNLENBQUNXLE1BQVAsQ0FBYyxNQUFkLEVBQXNCLENBQUNQLEdBQUQsRUFBTUMsR0FBTixLQUFjSCxrQkFBa0IsQ0FBQ1UsTUFBbkIsQ0FBMEJSLEdBQTFCLEVBQStCQyxHQUEvQixDQUFwQztBQUVBUSxNQUFNLENBQUNDLE9BQVAsR0FBaUJkLE1BQWpCIiwic291cmNlUm9vdCI6Ii9ob21lL3duL1ZTQ29kZS9iYWNrL2FwcFRlc3Qvc3JjL3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XG5jb25zdCBQcm9kdWN0c0NvbnRyb2xsZXIgPSByZXF1aXJlKFwiLi4vY29udHJvbGxlcnMvcHJvZHVjdHNcIik7XG5jb25zdCBQcm9kdWN0ID0gcmVxdWlyZShcIi4uL21vZGVscy9wcm9kdWN0c1wiKTtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxuY29uc3QgcHJvZHVjdHNDb250cm9sbGVyID0gbmV3IFByb2R1Y3RzQ29udHJvbGxlcihQcm9kdWN0KTtcblxucm91dGVyLmdldChcIi9cIiwgKHJlcSwgcmVzKSA9PiBwcm9kdWN0c0NvbnRyb2xsZXIuZ2V0KHJlcSwgcmVzKSk7XG5yb3V0ZXIuZ2V0KFwiLzppZFwiLCAocmVxLCByZXMpID0+IHByb2R1Y3RzQ29udHJvbGxlci5nZXRCeUlkKHJlcSwgcmVzKSk7XG5yb3V0ZXIucG9zdChcIi9cIiwgKHJlcSwgcmVzKSA9PiBwcm9kdWN0c0NvbnRyb2xsZXIuY3JlYXRlKHJlcSwgcmVzKSk7XG5yb3V0ZXIucHV0KFwiLzppZFwiLCAocmVxLCByZXMpID0+IHByb2R1Y3RzQ29udHJvbGxlci51cGRhdGUocmVxLCByZXMpKTtcbnJvdXRlci5kZWxldGUoXCIvOmlkXCIsIChyZXEsIHJlcykgPT4gcHJvZHVjdHNDb250cm9sbGVyLnJlbW92ZShyZXEsIHJlcykpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "products.js"
      ],
      "names": [
        "express",
        "require",
        "ProductsController",
        "Product",
        "router",
        "Router",
        "productsController",
        "get",
        "req",
        "res",
        "getById",
        "post",
        "create",
        "put",
        "update",
        "delete",
        "remove",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,kBAAkB,GAAGD,OAAO,CAAC,yBAAD,CAAlC;;AACA,MAAME,OAAO,GAAGF,OAAO,CAAC,oBAAD,CAAvB;;AAEA,MAAMG,MAAM,GAAGJ,OAAO,CAACK,MAAR,EAAf;AAEA,MAAMC,kBAAkB,GAAG,IAAIJ,kBAAJ,CAAuBC,OAAvB,CAA3B;AAEAC,MAAM,CAACG,GAAP,CAAW,GAAX,EAAgB,CAACC,GAAD,EAAMC,GAAN,KAAcH,kBAAkB,CAACC,GAAnB,CAAuBC,GAAvB,EAA4BC,GAA5B,CAA9B;AACAL,MAAM,CAACG,GAAP,CAAW,MAAX,EAAmB,CAACC,GAAD,EAAMC,GAAN,KAAcH,kBAAkB,CAACI,OAAnB,CAA2BF,GAA3B,EAAgCC,GAAhC,CAAjC;AACAL,MAAM,CAACO,IAAP,CAAY,GAAZ,EAAiB,CAACH,GAAD,EAAMC,GAAN,KAAcH,kBAAkB,CAACM,MAAnB,CAA0BJ,GAA1B,EAA+BC,GAA/B,CAA/B;AACAL,MAAM,CAACS,GAAP,CAAW,MAAX,EAAmB,CAACL,GAAD,EAAMC,GAAN,KAAcH,kBAAkB,CAACQ,MAAnB,CAA0BN,GAA1B,EAA+BC,GAA/B,CAAjC;AACAL,MAAM,CAACW,MAAP,CAAc,MAAd,EAAsB,CAACP,GAAD,EAAMC,GAAN,KAAcH,kBAAkB,CAACU,MAAnB,CAA0BR,GAA1B,EAA+BC,GAA/B,CAApC;AAEAQ,MAAM,CAACC,OAAP,GAAiBd,MAAjB",
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/routes/",
      "sourcesContent": [
        "const express = require(\"express\");\nconst ProductsController = require(\"../controllers/products\");\nconst Product = require(\"../models/products\");\n\nconst router = express.Router();\n\nconst productsController = new ProductsController(Product);\n\nrouter.get(\"/\", (req, res) => productsController.get(req, res));\nrouter.get(\"/:id\", (req, res) => productsController.getById(req, res));\nrouter.post(\"/\", (req, res) => productsController.create(req, res));\nrouter.put(\"/:id\", (req, res) => productsController.update(req, res));\nrouter.delete(\"/:id\", (req, res) => productsController.remove(req, res));\n\nmodule.exports = router;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1601145221006
  },
  "{\"sourceRoot\":\"/home/wn/VSCode/back/appTest/src/config/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/wn/VSCode/back/appTest\",\"filename\":\"/home/wn/VSCode/back/appTest/src/config/database.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/home/wn/VSCode/back/appTest\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6:test": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/config/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/wn/VSCode/back/appTest",
      "filename": "/home/wn/VSCode/back/appTest/src/config/database.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "test",
      "root": "/home/wn/VSCode/back/appTest",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/wn/VSCode/back/appTest/src/config/database.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/wn/VSCode/back/appTest/src/config/database.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/wn/VSCode/back/appTest/src/config/",
        "sourceFileName": "database.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst mongoose = require(\"mongoose\");\n\nconst mongodbUrl = process.env.MONGODB_URL || \"mongodb://localhost/test\";\n\nconst connect = () => mongoose.connect(mongodbUrl, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n});\n\nconst close = () => mongoose.connection.close();\n\nmodule.export = {\n  connect,\n  close\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhdGFiYXNlLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsIm1vbmdvZGJVcmwiLCJwcm9jZXNzIiwiZW52IiwiTU9OR09EQl9VUkwiLCJjb25uZWN0IiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5IiwiY2xvc2UiLCJjb25uZWN0aW9uIiwibW9kdWxlIiwiZXhwb3J0Il0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLFVBQUQsQ0FBeEI7O0FBRUEsTUFBTUMsVUFBVSxHQUFHQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsV0FBWixJQUEyQiwwQkFBOUM7O0FBRUEsTUFBTUMsT0FBTyxHQUFHLE1BQU1OLFFBQVEsQ0FBQ00sT0FBVCxDQUFpQkosVUFBakIsRUFBNkI7QUFDakRLLEVBQUFBLGVBQWUsRUFBRSxJQURnQztBQUVqREMsRUFBQUEsa0JBQWtCLEVBQUU7QUFGNkIsQ0FBN0IsQ0FBdEI7O0FBS0EsTUFBTUMsS0FBSyxHQUFHLE1BQU1ULFFBQVEsQ0FBQ1UsVUFBVCxDQUFvQkQsS0FBcEIsRUFBcEI7O0FBRUFFLE1BQU0sQ0FBQ0MsTUFBUCxHQUFnQjtBQUNkTixFQUFBQSxPQURjO0FBRWRHLEVBQUFBO0FBRmMsQ0FBaEIiLCJzb3VyY2VSb290IjoiL2hvbWUvd24vVlNDb2RlL2JhY2svYXBwVGVzdC9zcmMvY29uZmlnLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZShcIm1vbmdvb3NlXCIpO1xuXG5jb25zdCBtb25nb2RiVXJsID0gcHJvY2Vzcy5lbnYuTU9OR09EQl9VUkwgfHwgXCJtb25nb2RiOi8vbG9jYWxob3N0L3Rlc3RcIjtcblxuY29uc3QgY29ubmVjdCA9ICgpID0+IG1vbmdvb3NlLmNvbm5lY3QobW9uZ29kYlVybCwge1xuICB1c2VOZXdVcmxQYXJzZXI6IHRydWUsXG4gIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZVxufSk7XG5cbmNvbnN0IGNsb3NlID0gKCkgPT4gbW9uZ29vc2UuY29ubmVjdGlvbi5jbG9zZSgpO1xuXG5tb2R1bGUuZXhwb3J0ID0ge1xuICBjb25uZWN0LFxuICBjbG9zZVxufVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "database.js"
      ],
      "names": [
        "mongoose",
        "require",
        "mongodbUrl",
        "process",
        "env",
        "MONGODB_URL",
        "connect",
        "useNewUrlParser",
        "useUnifiedTopology",
        "close",
        "connection",
        "module",
        "export"
      ],
      "mappings": ";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AAEA,MAAMC,UAAU,GAAGC,OAAO,CAACC,GAAR,CAAYC,WAAZ,IAA2B,0BAA9C;;AAEA,MAAMC,OAAO,GAAG,MAAMN,QAAQ,CAACM,OAAT,CAAiBJ,UAAjB,EAA6B;AACjDK,EAAAA,eAAe,EAAE,IADgC;AAEjDC,EAAAA,kBAAkB,EAAE;AAF6B,CAA7B,CAAtB;;AAKA,MAAMC,KAAK,GAAG,MAAMT,QAAQ,CAACU,UAAT,CAAoBD,KAApB,EAApB;;AAEAE,MAAM,CAACC,MAAP,GAAgB;AACdN,EAAAA,OADc;AAEdG,EAAAA;AAFc,CAAhB",
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/config/",
      "sourcesContent": [
        "const mongoose = require(\"mongoose\");\n\nconst mongodbUrl = process.env.MONGODB_URL || \"mongodb://localhost/test\";\n\nconst connect = () => mongoose.connect(mongodbUrl, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n});\n\nconst close = () => mongoose.connection.close();\n\nmodule.export = {\n  connect,\n  close\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1600893226222
  },
  "{\"sourceRoot\":\"/home/wn/VSCode/back/appTest/src/config/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/wn/VSCode/back/appTest\",\"filename\":\"/home/wn/VSCode/back/appTest/src/config/database.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/home/wn/VSCode/back/appTest\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6:test": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/config/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/wn/VSCode/back/appTest",
      "filename": "/home/wn/VSCode/back/appTest/src/config/database.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "test",
      "root": "/home/wn/VSCode/back/appTest",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/wn/VSCode/back/appTest/src/config/database.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/wn/VSCode/back/appTest/src/config/database.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/wn/VSCode/back/appTest/src/config/",
        "sourceFileName": "database.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst mongoose = require(\"mongoose\");\n\nconst mongodbUrl = process.env.MONGODB_URL || \"mongodb://localhost/test\";\n\nconst connect = () => mongoose.connect(mongodbUrl, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n});\n\nconst close = () => mongoose.connection.close();\n\nmodule.export = {\n  connect,\n  close\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhdGFiYXNlLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsIm1vbmdvZGJVcmwiLCJwcm9jZXNzIiwiZW52IiwiTU9OR09EQl9VUkwiLCJjb25uZWN0IiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5IiwiY2xvc2UiLCJjb25uZWN0aW9uIiwibW9kdWxlIiwiZXhwb3J0Il0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLFVBQUQsQ0FBeEI7O0FBRUEsTUFBTUMsVUFBVSxHQUFHQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsV0FBWixJQUEyQiwwQkFBOUM7O0FBRUEsTUFBTUMsT0FBTyxHQUFHLE1BQU1OLFFBQVEsQ0FBQ00sT0FBVCxDQUFpQkosVUFBakIsRUFBNkI7QUFDakRLLEVBQUFBLGVBQWUsRUFBRSxJQURnQztBQUVqREMsRUFBQUEsa0JBQWtCLEVBQUU7QUFGNkIsQ0FBN0IsQ0FBdEI7O0FBS0EsTUFBTUMsS0FBSyxHQUFHLE1BQU1ULFFBQVEsQ0FBQ1UsVUFBVCxDQUFvQkQsS0FBcEIsRUFBcEI7O0FBRUFFLE1BQU0sQ0FBQ0MsTUFBUCxHQUFnQjtBQUNkTixFQUFBQSxPQURjO0FBRWRHLEVBQUFBO0FBRmMsQ0FBaEIiLCJzb3VyY2VSb290IjoiL2hvbWUvd24vVlNDb2RlL2JhY2svYXBwVGVzdC9zcmMvY29uZmlnLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZShcIm1vbmdvb3NlXCIpO1xuXG5jb25zdCBtb25nb2RiVXJsID0gcHJvY2Vzcy5lbnYuTU9OR09EQl9VUkwgfHwgXCJtb25nb2RiOi8vbG9jYWxob3N0L3Rlc3RcIjtcblxuY29uc3QgY29ubmVjdCA9ICgpID0+IG1vbmdvb3NlLmNvbm5lY3QobW9uZ29kYlVybCwge1xuICB1c2VOZXdVcmxQYXJzZXI6IHRydWUsXG4gIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZVxufSk7XG5cbmNvbnN0IGNsb3NlID0gKCkgPT4gbW9uZ29vc2UuY29ubmVjdGlvbi5jbG9zZSgpO1xuXG5tb2R1bGUuZXhwb3J0ID0ge1xuICBjb25uZWN0LFxuICBjbG9zZVxufVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "database.js"
      ],
      "names": [
        "mongoose",
        "require",
        "mongodbUrl",
        "process",
        "env",
        "MONGODB_URL",
        "connect",
        "useNewUrlParser",
        "useUnifiedTopology",
        "close",
        "connection",
        "module",
        "export"
      ],
      "mappings": ";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AAEA,MAAMC,UAAU,GAAGC,OAAO,CAACC,GAAR,CAAYC,WAAZ,IAA2B,0BAA9C;;AAEA,MAAMC,OAAO,GAAG,MAAMN,QAAQ,CAACM,OAAT,CAAiBJ,UAAjB,EAA6B;AACjDK,EAAAA,eAAe,EAAE,IADgC;AAEjDC,EAAAA,kBAAkB,EAAE;AAF6B,CAA7B,CAAtB;;AAKA,MAAMC,KAAK,GAAG,MAAMT,QAAQ,CAACU,UAAT,CAAoBD,KAApB,EAApB;;AAEAE,MAAM,CAACC,MAAP,GAAgB;AACdN,EAAAA,OADc;AAEdG,EAAAA;AAFc,CAAhB",
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/config/",
      "sourcesContent": [
        "const mongoose = require(\"mongoose\");\n\nconst mongodbUrl = process.env.MONGODB_URL || \"mongodb://localhost/test\";\n\nconst connect = () => mongoose.connect(mongodbUrl, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n});\n\nconst close = () => mongoose.connection.close();\n\nmodule.export = {\n  connect,\n  close\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1600893226222
  },
  "{\"sourceRoot\":\"/home/wn/VSCode/back/appTest/test/integration/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/wn/VSCode/back/appTest\",\"filename\":\"/home/wn/VSCode/back/appTest/test/integration/routes/products_spec.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/home/wn/VSCode/back/appTest\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6:test": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/wn/VSCode/back/appTest/test/integration/routes/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/wn/VSCode/back/appTest",
      "filename": "/home/wn/VSCode/back/appTest/test/integration/routes/products_spec.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "test",
      "root": "/home/wn/VSCode/back/appTest",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/wn/VSCode/back/appTest/test/integration/routes/products_spec.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/wn/VSCode/back/appTest/test/integration/routes/products_spec.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/wn/VSCode/back/appTest/test/integration/routes/",
        "sourceFileName": "products_spec.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst Product = require(\"../../../src/models/products\");\n\ndescribe(\"Routes: Products\", () => {\n  const defaultId = '56cb91bdc3464f14678934ca';\n  before(async () => {\n    app = await setupApp();\n    request = supertest(app);\n  });\n  const defaultProduct = {\n    name: 'Default product',\n    description: 'product description',\n    price: 100\n  };\n  const expectedProduct = {\n    __v: 0,\n    _id: '56cb91bdc3464f14678934ca',\n    name: 'Default product',\n    description: 'product description',\n    price: 100\n  };\n  describe('GET /products', () => {\n    it('should return a list of products', done => {\n      context('when an id is specified', done => {\n        it('should return 200 with one product', done => {\n          request.get(`/products/${defaultId}`).end((err, res) => {\n            expect(res.statusCode).to.eql(200);\n            expect(res.body).to.eql([expectedProduct]);\n            done(err);\n          });\n        });\n      });\n    });\n  });\n  describe('POST /products', () => {\n    context('when posting a product', () => {\n      it('should return a new product with status code 201', done => {\n        const customId = '56cb91bdc3464f14678934ba';\n        const newProduct = Object.assign({}, {\n          _id: customId,\n          __v: 0\n        }, defaultProduct);\n        const expectedSavedProduct = {\n          __v: 0,\n          _id: customId,\n          name: 'Default product',\n          description: 'product description',\n          price: 100\n        };\n        request.post('/products').send(newProduct).end((err, res) => {\n          expect(res.statusCode).to.eql(201);\n          expect(res.body).to.eql(expectedSavedProduct);\n          done(err);\n        });\n      });\n    });\n  });\n  describe('PUT /products/:id', () => {\n    context('when editing a product', () => {\n      it('should update the product and return 200 as status code', done => {\n        const customProduct = {\n          name: 'Custom name'\n        };\n        const updatedProduct = Object.assign({}, customProduct, defaultProduct);\n        request.put(`/products/${defaultId}`).send(updatedProduct).end((err, res) => {\n          expect(res.status).to.eql(200);\n          done(err);\n        });\n      });\n    });\n  });\n  describe('DELETE /products/:id', () => {\n    context('when deleting a product', () => {\n      it('should delete a product and return 204 as status code', done => {\n        request.delete(`/products/${defaultId}`).end((err, res) => {\n          expect(res.status).to.eql(204);\n          done(err);\n        });\n      });\n    });\n  });\n  after(async () => await app.database.close);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RzX3NwZWMuanMiXSwibmFtZXMiOlsiUHJvZHVjdCIsInJlcXVpcmUiLCJkZXNjcmliZSIsImRlZmF1bHRJZCIsImJlZm9yZSIsImFwcCIsInNldHVwQXBwIiwicmVxdWVzdCIsInN1cGVydGVzdCIsImRlZmF1bHRQcm9kdWN0IiwibmFtZSIsImRlc2NyaXB0aW9uIiwicHJpY2UiLCJleHBlY3RlZFByb2R1Y3QiLCJfX3YiLCJfaWQiLCJpdCIsImRvbmUiLCJjb250ZXh0IiwiZ2V0IiwiZW5kIiwiZXJyIiwicmVzIiwiZXhwZWN0Iiwic3RhdHVzQ29kZSIsInRvIiwiZXFsIiwiYm9keSIsImN1c3RvbUlkIiwibmV3UHJvZHVjdCIsIk9iamVjdCIsImFzc2lnbiIsImV4cGVjdGVkU2F2ZWRQcm9kdWN0IiwicG9zdCIsInNlbmQiLCJjdXN0b21Qcm9kdWN0IiwidXBkYXRlZFByb2R1Y3QiLCJwdXQiLCJzdGF0dXMiLCJkZWxldGUiLCJhZnRlciIsImRhdGFiYXNlIiwiY2xvc2UiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsOEJBQUQsQ0FBdkI7O0FBRUFDLFFBQVEsQ0FBQyxrQkFBRCxFQUFxQixNQUFNO0FBRWpDLFFBQU1DLFNBQVMsR0FBRywwQkFBbEI7QUFFQUMsRUFBQUEsTUFBTSxDQUFDLFlBQVk7QUFDakJDLElBQUFBLEdBQUcsR0FBRyxNQUFNQyxRQUFRLEVBQXBCO0FBQ0FDLElBQUFBLE9BQU8sR0FBR0MsU0FBUyxDQUFDSCxHQUFELENBQW5CO0FBQ0QsR0FISyxDQUFOO0FBS0EsUUFBTUksY0FBYyxHQUFHO0FBQ3JCQyxJQUFBQSxJQUFJLEVBQUUsaUJBRGU7QUFFckJDLElBQUFBLFdBQVcsRUFBRSxxQkFGUTtBQUdyQkMsSUFBQUEsS0FBSyxFQUFFO0FBSGMsR0FBdkI7QUFNQSxRQUFNQyxlQUFlLEdBQUc7QUFDdEJDLElBQUFBLEdBQUcsRUFBRSxDQURpQjtBQUV0QkMsSUFBQUEsR0FBRyxF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LFNBQVUsRUFEOUIsRUFFRytCLElBRkgsQ0FFUUUsY0FGUixFQUdHaEIsR0FISCxDQUdPLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFjO0FBQ2pCQyxVQUFBQSxNQUFNLENBQUNELEdBQUcsQ0FBQ2dCLE1BQUwsQ0FBTixDQUFtQmIsRUFBbkIsQ0FBc0JDLEdBQXRCLENBQTBCLEdBQTFCO0FBQ0FULFVBQUFBLElBQUksQ0FBQ0ksR0FBRCxDQUFKO0FBQ0gsU0FORDtBQU9ELE9BYkMsQ0FBRjtBQWNELEtBZk0sQ0FBUDtBQWdCRCxHQWpCTyxDQUFSO0FBbUJBbkIsRUFBQUEsUUFBUSxDQUFDLHNCQUFELEVBQXlCLE1BQU07QUFDckNnQixJQUFBQSxPQUFPLENBQUMseUJBQUQsRUFBNEIsTUFBTTtBQUN2Q0YsTUFBQUEsRUFBRSxDQUFDLHVEQUFELEVBQTBEQyxJQUFJLElBQUk7QUFDbEVWLFFBQUFBLE9BQU8sQ0FDSmdDLE1BREgsQ0FDVyxhQUFZcEMsU0FBVSxFQURqQyxFQUVHaUIsR0FGSCxDQUVPLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFjO0FBQ2pCQyxVQUFBQSxNQUFNLENBQUNELEdBQUcsQ0FBQ2dCLE1BQUwsQ0FBTixDQUFtQmIsRUFBbkIsQ0FBc0JDLEdBQXRCLENBQTBCLEdBQTFCO0FBQ0FULFVBQUFBLElBQUksQ0FBQ0ksR0FBRCxDQUFKO0FBQ0gsU0FMRDtBQU1ELE9BUEMsQ0FBRjtBQVFELEtBVE0sQ0FBUDtBQVVELEdBWE8sQ0FBUjtBQWFBbUIsRUFBQUEsS0FBSyxDQUFDLFlBQVksTUFBTW5DLEdBQUcsQ0FBQ29DLFFBQUosQ0FBYUMsS0FBaEMsQ0FBTDtBQUNELENBcEdPLENBQVIiLCJzb3VyY2VSb290IjoiL2hvbWUvd24vVlNDb2RlL2JhY2svYXBwVGVzdC90ZXN0L2ludGVncmF0aW9uL3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBQcm9kdWN0ID0gcmVxdWlyZShcIi4uLy4uLy4uL3NyYy9tb2RlbHMvcHJvZHVjdHNcIik7XG5cbmRlc2NyaWJlKFwiUm91dGVzOiBQcm9kdWN0c1wiLCAoKSA9PiB7XG4gIFxuICBjb25zdCBkZWZhdWx0SWQgPSAnNTZjYjkxYmRjMzQ2NGYxNDY3ODkzNGNhJztcbiAgXG4gIGJlZm9yZShhc3luYyAoKSA9PiB7XG4gICAgYXBwID0gYXdhaXQgc2V0dXBBcHAoKTtcbiAgICByZXF1ZXN0ID0gc3VwZXJ0ZXN0KGFwcCk7XG4gIH0pO1xuXG4gIGNvbnN0IGRlZmF1bHRQcm9kdWN0ID0ge1xuICAgIG5hbWU6ICdEZWZhdWx0IHByb2R1Y3QnLFxuICAgIGRlc2NyaXB0aW9uOiAncHJvZHVjdCBkZXNjcmlwdGlvbicsXG4gICAgcHJpY2U6IDEwMFxuICB9O1xuICBcbiAgY29uc3QgZXhwZWN0ZWRQcm9kdWN0ID0ge1xuICAgIF9fdjogMCxcbiAgICBfaWQ6ICc1NmNiOTFiZGMzNDY0ZjE0Njc4OTM0Y2EnLFxuICAgIG5hbWU6ICdEZWZhdWx0IHByb2R1Y3QnLFxuICAgIGRlc2NyaXB0aW9uOiAncHJvZHVjdCBkZXNjcmlwdGlvbicsXG4gICAgcHJpY2U6IDEwMFxuICB9O1xuICBcbiAgZGVzY3JpYmUoJ0dFVCAvcHJvZHVjdHMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gYSBsaXN0IG9mIHByb2R1Y3RzJywgZG9uZSA9PiB7XG4gICAgICBjb250ZXh0KCd3aGVuIGFuIGlkIGlzIHNwZWNpZmllZCcsIGRvbmUgPT4ge1xuICAgICAgICBpdCgnc2hvdWxkIHJldHVybiAyMDAgd2l0aCBvbmUgcHJvZHVjdCcsIGRvbmUgPT4ge1xuICAgICAgICAgIHJlcXVlc3RcbiAgICAgICAgICAgIC5nZXQoYC9wcm9kdWN0cy8ke2RlZmF1bHRJZH1gKVxuICAgICAgICAgICAgLmVuZCgoZXJyLCByZXMpID0+IHtcbiAgICAgICAgICAgICAgZXhwZWN0KHJlcy5zdGF0dXNDb2RlKS50by5lcWwoMjAwKTtcbiAgICAgICAgICAgICAgZXhwZWN0KHJlcy5ib2R5KS50by5lcWwoW2V4cGVjdGVkUHJvZHVjdF0pO1xuICAgICAgICAgICAgICBkb25lKGVycik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuICBcbiAgZGVzY3JpYmUoJ1BPU1QgL3Byb2R1Y3RzJywgKCkgPT4ge1xuICAgIGNvbnRleHQoJ3doZW4gcG9zdGluZyBhIHByb2R1Y3QnLCAoKSA9PiB7XG4gICAgICBpdCgnc2hvdWxkIHJldHVybiBhIG5ldyBwcm9kdWN0IHdpdGggc3RhdHVzIGNvZGUgMjAxJywgZG9uZSA9PiB7XG4gICAgICBjb25zdCBjdXN0b21JZCA9ICc1NmNiOTFiZGMzNDY0ZjE0Njc4OTM0YmEnO1xuICAgICAgY29uc3QgbmV3UHJvZHVjdCA9IE9iamVjdC5hc3NpZ24oe30seyBfaWQ6IGN1c3RvbUlkLCBfX3Y6MCB9LCBkZWZhdWx0UHJvZHVjdCk7XG4gICAgICBjb25zdCBleHBlY3RlZFNhdmVkUHJvZHVjdCA9IHtcbiAgICAgICAgX192OiAwLFxuICAgICAgICBfaWQ6IGN1c3RvbUlkLFxuICAgICAgICBuYW1lOiAnRGVmYXVsdCBwcm9kdWN0JyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdwcm9kdWN0IGRlc2NyaXB0aW9uJyxcbiAgICAgICAgcHJpY2U6IDEwMFxuICAgICAgfTtcblxuICAgICAgcmVxdWVzdFxuICAgICAgICAucG9zdCgnL3Byb2R1Y3RzJylcbiAgICAgICAgLnNlbmQobmV3UHJvZHVjdClcbiAgICAgICAgLmVuZCgoZXJyLCByZXMpID0+IHtcblxuICAgICAgZXhwZWN0KHJlcy5zdGF0dXNDb2RlKS50by5lcWwoMjAxKTtcblxuICAgICAgZXhwZWN0KHJlcy5ib2R5KS50by5lcWwoZXhwZWN0ZWRTYXZlZFByb2R1Y3QpO1xuICAgICAgZG9uZShlcnIpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG59KTtcbiAgXG4gIGRlc2NyaWJlKCdQVVQgL3Byb2R1Y3RzLzppZCcsICgpID0+IHtcbiAgICBjb250ZXh0KCd3aGVuIGVkaXRpbmcgYSBwcm9kdWN0JywgKCkgPT4ge1xuICAgICAgaXQoJ3Nob3VsZCB1cGRhdGUgdGhlIHByb2R1Y3QgYW5kIHJldHVybiAyMDAgYXMgc3RhdHVzIGNvZGUnLCBkb25lID0+IHtcbiAgICAgICAgY29uc3QgY3VzdG9tUHJvZHVjdCA9IHtcbiAgICAgICAgICBuYW1lOiAnQ3VzdG9tIG5hbWUnXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRQcm9kdWN0ID0gT2JqZWN0LmFzc2lnbih7fSwgY3VzdG9tUHJvZHVjdCwgZGVmYXVsdFByb2R1Y3QpXG4gICAgICAgIFxuICAgICAgICByZXF1ZXN0XG4gICAgICAgICAgLnB1dChgL3Byb2R1Y3RzLyR7ZGVmYXVsdElkfWApXG4gICAgICAgICAgLnNlbmQodXBkYXRlZFByb2R1Y3QpXG4gICAgICAgICAgLmVuZCgoZXJyLCByZXMpID0+IHtcbiAgICAgICAgICAgIGV4cGVjdChyZXMuc3RhdHVzKS50by5lcWwoMjAwKTtcbiAgICAgICAgICAgIGRvbmUoZXJyKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0RFTEVURSAvcHJvZHVjdHMvOmlkJywgKCkgPT4ge1xuICAgIGNvbnRleHQoJ3doZW4gZGVsZXRpbmcgYSBwcm9kdWN0JywgKCkgPT4ge1xuICAgICAgaXQoJ3Nob3VsZCBkZWxldGUgYSBwcm9kdWN0IGFuZCByZXR1cm4gMjA0IGFzIHN0YXR1cyBjb2RlJywgZG9uZSA9PiB7XG4gICAgICAgIHJlcXVlc3RcbiAgICAgICAgICAuZGVsZXRlKGAvcHJvZHVjdHMvJHtkZWZhdWx0SWR9YClcbiAgICAgICAgICAuZW5kKChlcnIsIHJlcykgPT4ge1xuICAgICAgICAgICAgZXhwZWN0KHJlcy5zdGF0dXMpLnRvLmVxbCgyMDQpO1xuICAgICAgICAgICAgZG9uZShlcnIpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTsgIFxuICBcbiAgYWZ0ZXIoYXN5bmMgKCkgPT4gYXdhaXQgYXBwLmRhdGFiYXNlLmNsb3NlKTtcbn0pOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "products_spec.js"
      ],
      "names": [
        "Product",
        "require",
        "describe",
        "defaultId",
        "before",
        "app",
        "setupApp",
        "request",
        "supertest",
        "defaultProduct",
        "name",
        "description",
        "price",
        "expectedProduct",
        "__v",
        "_id",
        "it",
        "done",
        "context",
        "get",
        "end",
        "err",
        "res",
        "expect",
        "statusCode",
        "to",
        "eql",
        "body",
        "customId",
        "newProduct",
        "Object",
        "assign",
        "expectedSavedProduct",
        "post",
        "send",
        "customProduct",
        "updatedProduct",
        "put",
        "status",
        "delete",
        "after",
        "database",
        "close"
      ],
      "mappings": "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",
      "sourceRoot": "/home/wn/VSCode/back/appTest/test/integration/routes/",
      "sourcesContent": [
        "const Product = require(\"../../../src/models/products\");\n\ndescribe(\"Routes: Products\", () => {\n  \n  const defaultId = '56cb91bdc3464f14678934ca';\n  \n  before(async () => {\n    app = await setupApp();\n    request = supertest(app);\n  });\n\n  const defaultProduct = {\n    name: 'Default product',\n    description: 'product description',\n    price: 100\n  };\n  \n  const expectedProduct = {\n    __v: 0,\n    _id: '56cb91bdc3464f14678934ca',\n    name: 'Default product',\n    description: 'product description',\n    price: 100\n  };\n  \n  describe('GET /products', () => {\n    it('should return a list of products', done => {\n      context('when an id is specified', done => {\n        it('should return 200 with one product', done => {\n          request\n            .get(`/products/${defaultId}`)\n            .end((err, res) => {\n              expect(res.statusCode).to.eql(200);\n              expect(res.body).to.eql([expectedProduct]);\n              done(err);\n          });\n        });\n      });\n    });\n  });\n  \n  describe('POST /products', () => {\n    context('when posting a product', () => {\n      it('should return a new product with status code 201', done => {\n      const customId = '56cb91bdc3464f14678934ba';\n      const newProduct = Object.assign({},{ _id: customId, __v:0 }, defaultProduct);\n      const expectedSavedProduct = {\n        __v: 0,\n        _id: customId,\n        name: 'Default product',\n        description: 'product description',\n        price: 100\n      };\n\n      request\n        .post('/products')\n        .send(newProduct)\n        .end((err, res) => {\n\n      expect(res.statusCode).to.eql(201);\n\n      expect(res.body).to.eql(expectedSavedProduct);\n      done(err);\n      });\n    });\n  });\n\n});\n  \n  describe('PUT /products/:id', () => {\n    context('when editing a product', () => {\n      it('should update the product and return 200 as status code', done => {\n        const customProduct = {\n          name: 'Custom name'\n        };\n        const updatedProduct = Object.assign({}, customProduct, defaultProduct)\n        \n        request\n          .put(`/products/${defaultId}`)\n          .send(updatedProduct)\n          .end((err, res) => {\n            expect(res.status).to.eql(200);\n            done(err);\n        });\n      });\n    });\n  });\n\n  describe('DELETE /products/:id', () => {\n    context('when deleting a product', () => {\n      it('should delete a product and return 204 as status code', done => {\n        request\n          .delete(`/products/${defaultId}`)\n          .end((err, res) => {\n            expect(res.status).to.eql(204);\n            done(err);\n        });\n      });\n    });\n  });  \n  \n  after(async () => await app.database.close);\n});"
      ]
    },
    "sourceType": "script",
    "mtime": 1601159970527
  },
  "{\"sourceRoot\":\"/home/wn/VSCode/back/appTest/test/unit/controllers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/wn/VSCode/back/appTest\",\"filename\":\"/home/wn/VSCode/back/appTest/test/unit/controllers/products_spec.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/home/wn/VSCode/back/appTest\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6:test": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/wn/VSCode/back/appTest/test/unit/controllers/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/wn/VSCode/back/appTest",
      "filename": "/home/wn/VSCode/back/appTest/test/unit/controllers/products_spec.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "test",
      "root": "/home/wn/VSCode/back/appTest",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/wn/VSCode/back/appTest/test/unit/controllers/products_spec.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/wn/VSCode/back/appTest/test/unit/controllers/products_spec.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/wn/VSCode/back/appTest/test/unit/controllers/",
        "sourceFileName": "products_spec.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst ProductsController = require(\"../../../src/controllers/products\");\n\nconst Product = require(\"../../../src/models/products\");\n\nconst sinon = require(\"sinon\");\n\ndescribe(\"Controllers: Products\", () => {\n  const defaultRequest = {\n    params: {}\n  };\n  const defaultProduct = [{\n    name: \"Default product\",\n    description: \"product description\",\n    price: 100\n  }];\n  describe(\"get() products\", () => {\n    it(\"should return a list of products\", async () => {\n      const response = {\n        send: sinon.spy()\n      };\n      Product.find = sinon.stub();\n      Product.find.withArgs({}).resolves(defaultProduct);\n      const productController = new ProductsController(Product);\n      await productController.get(defaultRequest, response);\n      sinon.assert.calledWith(response.send, defaultProduct);\n    });\n    it(\"should return 400 when an error occurs\", async () => {\n      const request = {};\n      const response = {\n        send: sinon.spy(),\n        status: sinon.stub()\n      };\n      response.status.withArgs(400).returns(response);\n      Product.find = sinon.stub();\n      Product.find.withArgs({}).rejects({\n        message: \"Error\"\n      });\n      const productsController = new ProductsController(Product);\n      await productsController.get(request, response);\n      sinon.assert.calledWith(response.send, \"Error\");\n    });\n  });\n  describe('getById()', () => {\n    it('should call send with one product', async () => {\n      const fakeId = 'a-fake-id';\n      const request = {\n        params: {\n          id: fakeId\n        }\n      };\n      const response = {\n        send: sinon.spy()\n      };\n      Product.find = sinon.stub();\n      Product.find.withArgs({\n        _id: fakeId\n      }).resolves(defaultProduct);\n      const productsController = new ProductsController(Product);\n      await productsController.getById(request, response);\n      sinon.assert.calledWith(response.send, defaultProduct);\n    });\n  });\n  describe('create() product', () => {\n    it('should save a new product successfully', async () => {\n      const requestWithBody = Object.assign({}, {\n        body: defaultProduct[0]\n      }, defaultRequest);\n      const response = {\n        send: sinon.spy(),\n        status: sinon.stub()\n      };\n\n      class fakeProduct {\n        save() {}\n\n      }\n\n      response.status.withArgs(201).returns(response);\n      sinon.stub(fakeProduct.prototype, 'save').withArgs().resolves();\n      const productsController = new ProductsController(fakeProduct);\n      await productsController.create(requestWithBody, response);\n      sinon.assert.calledWith(response.send);\n    });\n    context('when an error occurs', () => {\n      it('should return 422', async () => {\n        const response = {\n          send: sinon.spy(),\n          status: sinon.stub()\n        };\n\n        class fakeProduct {\n          save() {}\n\n        }\n\n        response.status.withArgs(422).returns(response);\n        sinon.stub(fakeProduct.prototype, 'save').withArgs().rejects({\n          message: 'Error'\n        });\n        const productsController = new ProductsController(fakeProduct);\n        await productsController.create(defaultRequest, response);\n        sinon.assert.calledWith(response.status, 422);\n      });\n    });\n  });\n  describe('update() product', () => {\n    it('should respond with 200 when the product has been updated', async () => {\n      const fakeId = 'a-fake-id';\n      const updatedProduct = {\n        _id: fakeId,\n        name: 'Updated product',\n        description: 'Updated description',\n        price: 150\n      };\n      const request = {\n        params: {\n          id: fakeId\n        },\n        body: updatedProduct\n      };\n      const response = {\n        sendStatus: sinon.spy()\n      };\n\n      class fakeProduct {\n        static updateOne() {}\n\n      }\n\n      const updateOneStub = sinon.stub(fakeProduct, 'updateOne');\n      updateOneStub.withArgs({\n        _id: fakeId\n      }, updatedProduct).resolves(updatedProduct);\n      const productsController = new ProductsController(fakeProduct);\n      await productsController.update(request, response);\n      sinon.assert.calledWith(response.sendStatus, 200);\n    });\n    context('when an error occurs', () => {\n      it('should return 422', async () => {\n        const fakeId = 'a-fake-id';\n        const updatedProduct = {\n          _id: fakeId,\n          name: 'Updated product',\n          description: 'Updated description',\n          price: 150\n        };\n        const request = {\n          params: {\n            id: fakeId\n          },\n          body: updatedProduct\n        };\n        const response = {\n          send: sinon.spy(),\n          status: sinon.stub()\n        };\n\n        class fakeProduct {\n          static updateOne() {}\n\n        }\n\n        const updateOneStub = sinon.stub(fakeProduct, 'updateOne');\n        updateOneStub.withArgs({\n          _id: fakeId\n        }, updatedProduct).rejects({\n          message: 'Error'\n        });\n        response.status.withArgs(422).returns(response);\n        const productsController = new ProductsController(fakeProduct);\n        await productsController.update(request, response);\n        sinon.assert.calledWith(response.send, 'Error');\n      });\n    });\n  });\n  describe('delete() product', () => {\n    it('should respond with 204 when the product has been deleted', async () => {\n      const fakeId = 'a-fake-id';\n      const request = {\n        params: {\n          id: fakeId\n        }\n      };\n      const response = {\n        sendStatus: sinon.spy()\n      };\n\n      class fakeProduct {\n        static deleteOne() {}\n\n      }\n\n      const deleteOneStub = sinon.stub(fakeProduct, 'deleteOne');\n      deleteOneStub.withArgs({\n        _id: fakeId\n      }).resolves([1]);\n      const productsController = new ProductsController(fakeProduct);\n      await productsController.remove(request, response);\n      sinon.assert.calledWith(response.sendStatus, 204);\n    });\n    context('when an error occurs', () => {\n      it('should return 400', async () => {\n        const fakeId = 'a-fake-id';\n        const request = {\n          params: {\n            id: fakeId\n          }\n        };\n        const response = {\n          send: sinon.spy(),\n          status: sinon.stub()\n        };\n\n        class fakeProduct {\n          static deleteOne() {}\n\n        }\n\n        const deleteOneStub = sinon.stub(fakeProduct, 'deleteOne');\n        deleteOneStub.withArgs({\n          _id: fakeId\n        }).rejects({\n          message: 'Error'\n        });\n        response.status.withArgs(400).returns(response);\n        const productsController = new ProductsController(fakeProduct);\n        await productsController.remove(request, response);\n        sinon.assert.calledWith(response.send, 'Error');\n      });\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RzX3NwZWMuanMiXSwibmFtZXMiOlsiUHJvZHVjdHNDb250cm9sbGVyIiwicmVxdWlyZSIsIlByb2R1Y3QiLCJzaW5vbiIsImRlc2NyaWJlIiwiZGVmYXVsdFJlcXVlc3QiLCJwYXJhbXMiLCJkZWZhdWx0UHJvZHVjdCIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsInByaWNlIiwiaXQiLCJyZXNwb25zZSIsInNlbmQiLCJzcHkiLCJmaW5kIiwic3R1YiIsIndpdGhBcmdzIiwicmVzb2x2ZXMiLCJwcm9kdWN0Q29udHJvbGxlciIsImdldCIsImFzc2VydCIsImNhbGxlZFdpdGgiLCJyZXF1ZXN0Iiwic3RhdHVzIiwicmV0dXJucyIsInJlamVjdHMiLCJtZXNzYWdlIiwicHJvZHVjdHNDb250cm9sbGVyIiwiZmFrZUlkIiwiaWQiLCJfaWQiLCJnZXRCeUlkIiwicmVxdWVzdFdpdGhCb2R5IiwiT2JqZWN0IiwiYXNzaWduIiwiYm9keSIsImZha2VQcm9kdWN0Iiwic2F2ZSIsInByb3RvdHlwZSIsImNyZWF0ZSIsImNvbnRleHQiLCJ1cGRhdGVkUHJvZHVjdCIsInNlbmRTdGF0dXMiLCJ1cGRhdGVPbmUiLCJ1cGRhdGVPbmVTdHViIiwidXBkYXRlIiwiZGVsZXRlT25lIiwiZGVsZXRlT25lU3R1YiIsInJlbW92ZSJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxrQkFBa0IsR0FBR0MsT0FBTyxDQUFDLG1DQUFELENBQWxDOztBQUNBLE1BQU1DLE9BQU8sR0FBR0QsT0FBTyxDQUFDLDhCQUFELENBQXZCOztBQUNBLE1BQU1FLEtBQUssR0FBR0YsT0FBTyxDQUFDLE9BQUQsQ0FBckI7O0FBRUFHLFFBQVEsQ0FBQyx1QkFBRCxFQUEwQixNQUFNO0FBQ3RDLFFBQU1DLGNBQWMsR0FBRztBQUNyQkMsSUFBQUEsTUFBTSxFQUFFO0FBRGEsR0FBdkI7QUFHQSxRQUFNQyxjQUFjLEdBQUcsQ0FBQztBQUN0QkMsSUFBQUEsSUFBSSxFQUFFLGlCQURnQjtBQUV0QkMs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QUFrQjtBQUNoQixpQkFBT1UsU0FBUCxHQUFtQixDQUFFOztBQURMOztBQUlsQixjQUFNQyxhQUFhLEdBQUc3QyxLQUFLLENBQUNhLElBQU4sQ0FBV3FCLFdBQVgsRUFBd0IsV0FBeEIsQ0FBdEI7QUFFQVcsUUFBQUEsYUFBYSxDQUFDL0IsUUFBZCxDQUF1QjtBQUFFYyxVQUFBQSxHQUFHLEVBQUVGO0FBQVAsU0FBdkIsRUFBd0NILE9BQXhDLENBQWdEO0FBQUVDLFVBQUFBLE9BQU8sRUFBRTtBQUFYLFNBQWhEO0FBQ0FmLFFBQUFBLFFBQVEsQ0FBQ1ksTUFBVCxDQUFnQlAsUUFBaEIsQ0FBeUIsR0FBekIsRUFBOEJRLE9BQTlCLENBQXNDYixRQUF0QztBQUVBLGNBQU1nQixrQkFBa0IsR0FBRyxJQUFJNUIsa0JBQUosQ0FBdUJxQyxXQUF2QixDQUEzQjtBQUVBLGNBQU1ULGtCQUFrQixDQUFDcUIsTUFBbkIsQ0FBMEIxQixPQUExQixFQUFtQ1gsUUFBbkMsQ0FBTjtBQUNBVCxRQUFBQSxLQUFLLENBQUNrQixNQUFOLENBQWFDLFVBQWIsQ0FBd0JWLFFBQVEsQ0FBQ0MsSUFBakMsRUFBdUMsT0FBdkM7QUFDRCxPQXpCQyxDQUFGO0FBMEJELEtBM0JNLENBQVA7QUE0QkQsR0FwRE8sQ0FBUjtBQXFERCxDQTNPTyxDQUFSIiwic291cmNlUm9vdCI6Ii9ob21lL3duL1ZTQ29kZS9iYWNrL2FwcFRlc3QvdGVzdC91bml0L2NvbnRyb2xsZXJzLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFByb2R1Y3RzQ29udHJvbGxlciA9IHJlcXVpcmUoXCIuLi8uLi8uLi9zcmMvY29udHJvbGxlcnMvcHJvZHVjdHNcIik7XG5jb25zdCBQcm9kdWN0ID0gcmVxdWlyZShcIi4uLy4uLy4uL3NyYy9tb2RlbHMvcHJvZHVjdHNcIik7XG5jb25zdCBzaW5vbiA9IHJlcXVpcmUoXCJzaW5vblwiKTtcblxuZGVzY3JpYmUoXCJDb250cm9sbGVyczogUHJvZHVjdHNcIiwgKCkgPT4ge1xuICBjb25zdCBkZWZhdWx0UmVxdWVzdCA9IHtcbiAgICBwYXJhbXM6IHt9XG4gIH07XG4gIGNvbnN0IGRlZmF1bHRQcm9kdWN0ID0gW3tcbiAgICBuYW1lOiBcIkRlZmF1bHQgcHJvZHVjdFwiLFxuICAgIGRlc2NyaXB0aW9uOiBcInByb2R1Y3QgZGVzY3JpcHRpb25cIixcbiAgICBwcmljZTogMTAwXG4gIH1dO1xuXG4gIGRlc2NyaWJlKFwiZ2V0KCkgcHJvZHVjdHNcIiwgKCkgPT4ge1xuICAgIGl0KFwic2hvdWxkIHJldHVybiBhIGxpc3Qgb2YgcHJvZHVjdHNcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgIHNlbmQ6IHNpbm9uLnNweSgpXG4gICAgICB9O1xuXG4gICAgICBQcm9kdWN0LmZpbmQgPSBzaW5vbi5zdHViKCk7XG4gICAgICBQcm9kdWN0LmZpbmQud2l0aEFyZ3Moe30pLnJlc29sdmVzKGRlZmF1bHRQcm9kdWN0KTtcblxuICAgICAgY29uc3QgcHJvZHVjdENvbnRyb2xsZXIgPSBuZXcgUHJvZHVjdHNDb250cm9sbGVyKFByb2R1Y3QpO1xuICAgICAgYXdhaXQgcHJvZHVjdENvbnRyb2xsZXIuZ2V0KGRlZmF1bHRSZXF1ZXN0LCByZXNwb25zZSk7XG5cbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKHJlc3BvbnNlLnNlbmQsIGRlZmF1bHRQcm9kdWN0KTtcbiAgICB9KTtcbiAgICBpdChcInNob3VsZCByZXR1cm4gNDAwIHdoZW4gYW4gZXJyb3Igb2NjdXJzXCIsIGFzeW5jICgpID0+IHsgICAgICBcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSB7fTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICBzZW5kOiBzaW5vbi5zcHkoKSxcbiAgICAgICAgc3RhdHVzOiBzaW5vbi5zdHViKClcbiAgICAgIH07XG4gICAgICByZXNwb25zZS5zdGF0dXMud2l0aEFyZ3MoNDAwKS5yZXR1cm5zKHJlc3BvbnNlKTtcbiAgICAgIFByb2R1Y3QuZmluZCA9IHNpbm9uLnN0dWIoKTtcbiAgICAgIFByb2R1Y3QuZmluZC53aXRoQXJncyh7fSkucmVqZWN0cyh7IG1lc3NhZ2U6IFwiRXJyb3JcIiB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgcHJvZHVjdHNDb250cm9sbGVyID0gbmV3IFByb2R1Y3RzQ29udHJvbGxlcihQcm9kdWN0KTtcblxuICAgICAgYXdhaXQgcHJvZHVjdHNDb250cm9sbGVyLmdldChyZXF1ZXN0LCByZXNwb25zZSk7XG5cbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKHJlc3BvbnNlLnNlbmQsIFwiRXJyb3JcIik7XG4gICAgfSk7XG4gIH0pO1xuICBcbiAgZGVzY3JpYmUoJ2dldEJ5SWQoKScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNhbGwgc2VuZCB3aXRoIG9uZSBwcm9kdWN0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZmFrZUlkID0gJ2EtZmFrZS1pZCc7XG4gICAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICBpZDogZmFrZUlkXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgc2VuZDogc2lub24uc3B5KClcbiAgICAgIH07XG4gICAgICBQcm9kdWN0LmZpbmQgPSBzaW5vbi5zdHViKCk7XG5cbiAgICAgIFByb2R1Y3QuZmluZC53aXRoQXJncyh7IF9pZDogZmFrZUlkIH0pLnJlc29sdmVzKGRlZmF1bHRQcm9kdWN0KTtcblxuICAgICAgY29uc3QgcHJvZHVjdHNDb250cm9sbGVyID0gbmV3IFByb2R1Y3RzQ29udHJvbGxlcihQcm9kdWN0KTtcbiAgICAgIGF3YWl0IHByb2R1Y3RzQ29udHJvbGxlci5nZXRCeUlkKHJlcXVlc3QsIHJlc3BvbnNlKTtcblxuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgocmVzcG9uc2Uuc2VuZCwgZGVmYXVsdFByb2R1Y3QpO1xuICAgIH0pO1xuICB9KTtcbiAgXG4gIGRlc2NyaWJlKCdjcmVhdGUoKSBwcm9kdWN0JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgc2F2ZSBhIG5ldyBwcm9kdWN0IHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlcXVlc3RXaXRoQm9keSA9IE9iamVjdC5hc3NpZ24oXG4gICAgICAgIHt9LFxuICAgICAgICB7IGJvZHk6IGRlZmF1bHRQcm9kdWN0WzBdIH0sXG4gICAgICAgIGRlZmF1bHRSZXF1ZXN0XG4gICAgICApO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgIHNlbmQ6IHNpbm9uLnNweSgpLFxuICAgICAgICBzdGF0dXM6IHNpbm9uLnN0dWIoKVxuICAgICAgfTtcbiAgICAgIGNsYXNzIGZha2VQcm9kdWN0IHtcbiAgICAgICAgc2F2ZSgpIHt9XG4gICAgICB9XG4gICAgICByZXNwb25zZS5zdGF0dXMud2l0aEFyZ3MoMjAxKS5yZXR1cm5zKHJlc3BvbnNlKTtcbiAgICAgIHNpbm9uXG4gICAgICAgIC5zdHViKGZha2VQcm9kdWN0LnByb3RvdHlwZSwgJ3NhdmUnKVxuICAgICAgICAud2l0aEFyZ3MoKVxuICAgICAgICAucmVzb2x2ZXMoKTtcbiAgICAgIGNvbnN0IHByb2R1Y3RzQ29udHJvbGxlciA9IG5ldyBQcm9kdWN0c0NvbnRyb2xsZXIoZmFrZVByb2R1Y3QpO1xuICAgICAgYXdhaXQgcHJvZHVjdHNDb250cm9sbGVyLmNyZWF0ZShyZXF1ZXN0V2l0aEJvZHksIHJlc3BvbnNlKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKHJlc3BvbnNlLnNlbmQpO1xuICAgIH0pO1xuICAgIGNvbnRleHQoJ3doZW4gYW4gZXJyb3Igb2NjdXJzJywgKCkgPT4ge1xuICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gNDIyJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgICBzZW5kOiBzaW5vbi5zcHkoKSxcbiAgICAgICAgICBzdGF0dXM6IHNpbm9uLnN0dWIoKVxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgY2xhc3MgZmFrZVByb2R1Y3Qge1xuICAgICAgICAgIHNhdmUoKSB7fVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXNwb25zZS5zdGF0dXMud2l0aEFyZ3MoNDIyKS5yZXR1cm5zKHJlc3BvbnNlKTtcbiAgICAgICAgc2lub25cbiAgICAgICAgICAuc3R1YihmYWtlUHJvZHVjdC5wcm90b3R5cGUsICdzYXZlJylcbiAgICAgICAgICAud2l0aEFyZ3MoKVxuICAgICAgICAgIC5yZWplY3RzKHsgbWVzc2FnZTogJ0Vycm9yJyB9KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHByb2R1Y3RzQ29udHJvbGxlciA9IG5ldyBQcm9kdWN0c0NvbnRyb2xsZXIoZmFrZVByb2R1Y3QpO1xuICAgICAgICBhd2FpdCBwcm9kdWN0c0NvbnRyb2xsZXIuY3JlYXRlKGRlZmF1bHRSZXF1ZXN0LCByZXNwb25zZSk7XG4gICAgICAgIFxuICAgICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChyZXNwb25zZS5zdGF0dXMsIDQyMik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG4gIFxuICBkZXNjcmliZSgndXBkYXRlKCkgcHJvZHVjdCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJlc3BvbmQgd2l0aCAyMDAgd2hlbiB0aGUgcHJvZHVjdCBoYXMgYmVlbiB1cGRhdGVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZmFrZUlkID0gJ2EtZmFrZS1pZCc7XG4gICAgICBjb25zdCB1cGRhdGVkUHJvZHVjdCA9IHtcbiAgICAgICAgX2lkOiBmYWtlSWQsXG4gICAgICAgIG5hbWU6ICdVcGRhdGVkIHByb2R1Y3QnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1VwZGF0ZWQgZGVzY3JpcHRpb24nLFxuICAgICAgICBwcmljZTogMTUwXG4gICAgICB9O1xuICAgICAgY29uc3QgcmVxdWVzdCA9IHtcbiAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgIGlkOiBmYWtlSWRcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogdXBkYXRlZFByb2R1Y3RcbiAgICAgIH07XG4gICAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgc2VuZFN0YXR1czogc2lub24uc3B5KClcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGNsYXNzIGZha2VQcm9kdWN0IHtcbiAgICAgICAgc3RhdGljIHVwZGF0ZU9uZSgpIHt9XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IHVwZGF0ZU9uZVN0dWIgPSBzaW5vbi5zdHViKGZha2VQcm9kdWN0LCAndXBkYXRlT25lJyk7XG4gICAgICBcbiAgICAgIHVwZGF0ZU9uZVN0dWIud2l0aEFyZ3MoeyBfaWQ6IGZha2VJZCB9LCB1cGRhdGVkUHJvZHVjdCkucmVzb2x2ZXModXBkYXRlZFByb2R1Y3QpO1xuICAgICAgXG4gICAgICBjb25zdCBwcm9kdWN0c0NvbnRyb2xsZXIgPSBuZXcgUHJvZHVjdHNDb250cm9sbGVyKGZha2VQcm9kdWN0KTtcbiAgICAgIGF3YWl0IHByb2R1Y3RzQ29udHJvbGxlci51cGRhdGUocmVxdWVzdCwgcmVzcG9uc2UpO1xuICAgICAgXG4gICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChyZXNwb25zZS5zZW5kU3RhdHVzLCAyMDApO1xuICAgIH0pO1xuICAgIGNvbnRleHQoJ3doZW4gYW4gZXJyb3Igb2NjdXJzJywgKCkgPT4ge1xuICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gNDIyJywgYXN5bmMoKSA9PiB7XG4gICAgICAgIGNvbnN0IGZha2VJZCA9ICdhLWZha2UtaWQnO1xuICAgICAgICBjb25zdCB1cGRhdGVkUHJvZHVjdCA9IHtcbiAgICAgICAgICBfaWQ6IGZha2VJZCxcbiAgICAgICAgICBuYW1lOiAnVXBkYXRlZCBwcm9kdWN0JyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1VwZGF0ZWQgZGVzY3JpcHRpb24nLFxuICAgICAgICAgIHByaWNlOiAxNTBcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHtcbiAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgIGlkOiBmYWtlSWRcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJvZHk6IHVwZGF0ZWRQcm9kdWN0XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAgIHNlbmQ6IHNpbm9uLnNweSgpLFxuICAgICAgICAgIHN0YXR1czogc2lub24uc3R1YigpXG4gICAgICAgIH07XG4gICAgICAgIGNsYXNzIGZha2VQcm9kdWN0IHtcbiAgICAgICAgICBzdGF0aWMgdXBkYXRlT25lKCkge31cbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1cGRhdGVPbmVTdHViID0gc2lub24uc3R1YihmYWtlUHJvZHVjdCwgJ3VwZGF0ZU9uZScpO1xuICAgICAgICBcbiAgICAgICAgdXBkYXRlT25lU3R1YlxuICAgICAgICAgIC53aXRoQXJncyh7IF9pZDogZmFrZUlkIH0sIHVwZGF0ZWRQcm9kdWN0KVxuICAgICAgICAgIC5yZWplY3RzKHsgbWVzc2FnZTogJ0Vycm9yJyB9KTtcbiAgICAgICAgXG4gICAgICAgICAgcmVzcG9uc2Uuc3RhdHVzLndpdGhBcmdzKDQyMikucmV0dXJucyhyZXNwb25zZSk7XG4gIFxuICAgICAgICBjb25zdCBwcm9kdWN0c0NvbnRyb2xsZXIgPSBuZXcgUHJvZHVjdHNDb250cm9sbGVyKGZha2VQcm9kdWN0KTtcbiAgXG4gICAgICAgIGF3YWl0IHByb2R1Y3RzQ29udHJvbGxlci51cGRhdGUocmVxdWVzdCwgcmVzcG9uc2UpO1xuICAgICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChyZXNwb25zZS5zZW5kLCAnRXJyb3InKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTsgICAgIFxuICBcbiAgZGVzY3JpYmUoJ2RlbGV0ZSgpIHByb2R1Y3QnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXNwb25kIHdpdGggMjA0IHdoZW4gdGhlIHByb2R1Y3QgaGFzIGJlZW4gZGVsZXRlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGZha2VJZCA9ICdhLWZha2UtaWQnO1xuICAgICAgY29uc3QgcmVxdWVzdCA9IHtcbiAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgIGlkOiBmYWtlSWRcbiAgICAgIH1cbiAgICAgIH07XG4gICAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgc2VuZFN0YXR1czogc2lub24uc3B5KClcbiAgICAgIH07XG5cbiAgICAgIGNsYXNzIGZha2VQcm9kdWN0IHtcbiAgICAgICAgc3RhdGljIGRlbGV0ZU9uZSgpIHt9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRlbGV0ZU9uZVN0dWIgPSBzaW5vbi5zdHViKGZha2VQcm9kdWN0LCAnZGVsZXRlT25lJyk7XG4gICAgICBkZWxldGVPbmVTdHViLndpdGhBcmdzKHsgX2lkOiBmYWtlSWQgfSkucmVzb2x2ZXMoWzFdKTtcblxuICAgICAgY29uc3QgcHJvZHVjdHNDb250cm9sbGVyID0gbmV3IFByb2R1Y3RzQ29udHJvbGxlcihmYWtlUHJvZHVjdCk7XG5cbiAgICAgIGF3YWl0IHByb2R1Y3RzQ29udHJvbGxlci5yZW1vdmUocmVxdWVzdCwgcmVzcG9uc2UpO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgocmVzcG9uc2Uuc2VuZFN0YXR1cywgMjA0KTtcbiAgICB9KTtcbiAgICBjb250ZXh0KCd3aGVuIGFuIGVycm9yIG9jY3VycycsICgpID0+IHtcbiAgICAgIGl0KCdzaG91bGQgcmV0dXJuIDQwMCcsIGFzeW5jKCkgPT4ge1xuICAgICAgICBjb25zdCBmYWtlSWQgPSAnYS1mYWtlLWlkJztcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHtcbiAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgIGlkOiBmYWtlSWRcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAgIHNlbmQ6IHNpbm9uLnNweSgpLFxuICAgICAgICAgIHN0YXR1czogc2lub24uc3R1YigpXG4gICAgICAgIH07XG5cbiAgICAgICAgY2xhc3MgZmFrZVByb2R1Y3Qge1xuICAgICAgICAgIHN0YXRpYyBkZWxldGVPbmUoKSB7fVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZGVsZXRlT25lU3R1YiA9IHNpbm9uLnN0dWIoZmFrZVByb2R1Y3QsICdkZWxldGVPbmUnKTtcblxuICAgICAgICBkZWxldGVPbmVTdHViLndpdGhBcmdzKHsgX2lkOiBmYWtlSWQgfSkucmVqZWN0cyh7IG1lc3NhZ2U6ICdFcnJvcicgfSk7XG4gICAgICAgIHJlc3BvbnNlLnN0YXR1cy53aXRoQXJncyg0MDApLnJldHVybnMocmVzcG9uc2UpO1xuXG4gICAgICAgIGNvbnN0IHByb2R1Y3RzQ29udHJvbGxlciA9IG5ldyBQcm9kdWN0c0NvbnRyb2xsZXIoZmFrZVByb2R1Y3QpO1xuXG4gICAgICAgIGF3YWl0IHByb2R1Y3RzQ29udHJvbGxlci5yZW1vdmUocmVxdWVzdCwgcmVzcG9uc2UpO1xuICAgICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChyZXNwb25zZS5zZW5kLCAnRXJyb3InKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "products_spec.js"
      ],
      "names": [
        "ProductsController",
        "require",
        "Product",
        "sinon",
        "describe",
        "defaultRequest",
        "params",
        "defaultProduct",
        "name",
        "description",
        "price",
        "it",
        "response",
        "send",
        "spy",
        "find",
        "stub",
        "withArgs",
        "resolves",
        "productController",
        "get",
        "assert",
        "calledWith",
        "request",
        "status",
        "returns",
        "rejects",
        "message",
        "productsController",
        "fakeId",
        "id",
        "_id",
        "getById",
        "requestWithBody",
        "Object",
        "assign",
        "body",
        "fakeProduct",
        "save",
        "prototype",
        "create",
        "context",
        "updatedProduct",
        "sendStatus",
        "updateOne",
        "updateOneStub",
        "update",
        "deleteOne",
        "deleteOneStub",
        "remove"
      ],
      "mappings": "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",
      "sourceRoot": "/home/wn/VSCode/back/appTest/test/unit/controllers/",
      "sourcesContent": [
        "const ProductsController = require(\"../../../src/controllers/products\");\nconst Product = require(\"../../../src/models/products\");\nconst sinon = require(\"sinon\");\n\ndescribe(\"Controllers: Products\", () => {\n  const defaultRequest = {\n    params: {}\n  };\n  const defaultProduct = [{\n    name: \"Default product\",\n    description: \"product description\",\n    price: 100\n  }];\n\n  describe(\"get() products\", () => {\n    it(\"should return a list of products\", async () => {\n      const response = {\n        send: sinon.spy()\n      };\n\n      Product.find = sinon.stub();\n      Product.find.withArgs({}).resolves(defaultProduct);\n\n      const productController = new ProductsController(Product);\n      await productController.get(defaultRequest, response);\n\n      sinon.assert.calledWith(response.send, defaultProduct);\n    });\n    it(\"should return 400 when an error occurs\", async () => {      \n      const request = {};\n      const response = {\n        send: sinon.spy(),\n        status: sinon.stub()\n      };\n      response.status.withArgs(400).returns(response);\n      Product.find = sinon.stub();\n      Product.find.withArgs({}).rejects({ message: \"Error\" });\n      \n      const productsController = new ProductsController(Product);\n\n      await productsController.get(request, response);\n\n      sinon.assert.calledWith(response.send, \"Error\");\n    });\n  });\n  \n  describe('getById()', () => {\n    it('should call send with one product', async () => {\n      const fakeId = 'a-fake-id';\n      const request = {\n        params: {\n          id: fakeId\n        }\n      };\n      const response = {\n        send: sinon.spy()\n      };\n      Product.find = sinon.stub();\n\n      Product.find.withArgs({ _id: fakeId }).resolves(defaultProduct);\n\n      const productsController = new ProductsController(Product);\n      await productsController.getById(request, response);\n\n      sinon.assert.calledWith(response.send, defaultProduct);\n    });\n  });\n  \n  describe('create() product', () => {\n    it('should save a new product successfully', async () => {\n      const requestWithBody = Object.assign(\n        {},\n        { body: defaultProduct[0] },\n        defaultRequest\n      );\n      const response = {\n        send: sinon.spy(),\n        status: sinon.stub()\n      };\n      class fakeProduct {\n        save() {}\n      }\n      response.status.withArgs(201).returns(response);\n      sinon\n        .stub(fakeProduct.prototype, 'save')\n        .withArgs()\n        .resolves();\n      const productsController = new ProductsController(fakeProduct);\n      await productsController.create(requestWithBody, response);\n      sinon.assert.calledWith(response.send);\n    });\n    context('when an error occurs', () => {\n      it('should return 422', async () => {\n        const response = {\n          send: sinon.spy(),\n          status: sinon.stub()\n        };\n        \n        class fakeProduct {\n          save() {}\n        }\n        \n        response.status.withArgs(422).returns(response);\n        sinon\n          .stub(fakeProduct.prototype, 'save')\n          .withArgs()\n          .rejects({ message: 'Error' });\n        \n        const productsController = new ProductsController(fakeProduct);\n        await productsController.create(defaultRequest, response);\n        \n        sinon.assert.calledWith(response.status, 422);\n      });\n    });\n  });\n  \n  describe('update() product', () => {\n    it('should respond with 200 when the product has been updated', async () => {\n      const fakeId = 'a-fake-id';\n      const updatedProduct = {\n        _id: fakeId,\n        name: 'Updated product',\n        description: 'Updated description',\n        price: 150\n      };\n      const request = {\n        params: {\n        id: fakeId\n        },\n        body: updatedProduct\n      };\n      const response = {\n        sendStatus: sinon.spy()\n      };\n      \n      class fakeProduct {\n        static updateOne() {}\n      }\n      \n      const updateOneStub = sinon.stub(fakeProduct, 'updateOne');\n      \n      updateOneStub.withArgs({ _id: fakeId }, updatedProduct).resolves(updatedProduct);\n      \n      const productsController = new ProductsController(fakeProduct);\n      await productsController.update(request, response);\n      \n      sinon.assert.calledWith(response.sendStatus, 200);\n    });\n    context('when an error occurs', () => {\n      it('should return 422', async() => {\n        const fakeId = 'a-fake-id';\n        const updatedProduct = {\n          _id: fakeId,\n          name: 'Updated product',\n          description: 'Updated description',\n          price: 150\n        };\n        const request = {\n          params: {\n            id: fakeId\n          },\n          body: updatedProduct\n        };\n        const response = {\n          send: sinon.spy(),\n          status: sinon.stub()\n        };\n        class fakeProduct {\n          static updateOne() {}\n        }\n        const updateOneStub = sinon.stub(fakeProduct, 'updateOne');\n        \n        updateOneStub\n          .withArgs({ _id: fakeId }, updatedProduct)\n          .rejects({ message: 'Error' });\n        \n          response.status.withArgs(422).returns(response);\n  \n        const productsController = new ProductsController(fakeProduct);\n  \n        await productsController.update(request, response);\n        sinon.assert.calledWith(response.send, 'Error');\n      });\n    });\n  });     \n  \n  describe('delete() product', () => {\n    it('should respond with 204 when the product has been deleted', async () => {\n      const fakeId = 'a-fake-id';\n      const request = {\n        params: {\n        id: fakeId\n      }\n      };\n      const response = {\n        sendStatus: sinon.spy()\n      };\n\n      class fakeProduct {\n        static deleteOne() {}\n      }\n\n      const deleteOneStub = sinon.stub(fakeProduct, 'deleteOne');\n      deleteOneStub.withArgs({ _id: fakeId }).resolves([1]);\n\n      const productsController = new ProductsController(fakeProduct);\n\n      await productsController.remove(request, response);\n      sinon.assert.calledWith(response.sendStatus, 204);\n    });\n    context('when an error occurs', () => {\n      it('should return 400', async() => {\n        const fakeId = 'a-fake-id';\n        const request = {\n          params: {\n            id: fakeId\n          }\n        };\n        const response = {\n          send: sinon.spy(),\n          status: sinon.stub()\n        };\n\n        class fakeProduct {\n          static deleteOne() {}\n        }\n\n        const deleteOneStub = sinon.stub(fakeProduct, 'deleteOne');\n\n        deleteOneStub.withArgs({ _id: fakeId }).rejects({ message: 'Error' });\n        response.status.withArgs(400).returns(response);\n\n        const productsController = new ProductsController(fakeProduct);\n\n        await productsController.remove(request, response);\n        sinon.assert.calledWith(response.send, 'Error');\n      });\n    });\n  });\n});\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1601146233772
  },
  "{\"sourceRoot\":\"/home/wn/VSCode/back/appTest/src/models/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/wn/VSCode/back/appTest\",\"filename\":\"/home/wn/VSCode/back/appTest/src/models/products.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/home/wn/VSCode/back/appTest\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6:test": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/models/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/wn/VSCode/back/appTest",
      "filename": "/home/wn/VSCode/back/appTest/src/models/products.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "test",
      "root": "/home/wn/VSCode/back/appTest",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/wn/VSCode/back/appTest/src/models/products.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/wn/VSCode/back/appTest/src/models/products.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/wn/VSCode/back/appTest/src/models/",
        "sourceFileName": "products.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst mongoose = require(\"mongoose\");\n\nconst schema = mongoose.Schema({\n  name: String,\n  description: String,\n  price: Number\n});\nconst Product = mongoose.model(\"Product\", schema);\nmodule.exports = Product;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RzLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsInNjaGVtYSIsIlNjaGVtYSIsIm5hbWUiLCJTdHJpbmciLCJkZXNjcmlwdGlvbiIsInByaWNlIiwiTnVtYmVyIiwiUHJvZHVjdCIsIm1vZGVsIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyxVQUFELENBQXhCOztBQUVBLE1BQU1DLE1BQU0sR0FBR0YsUUFBUSxDQUFDRyxNQUFULENBQWdCO0FBQzdCQyxFQUFBQSxJQUFJLEVBQUVDLE1BRHVCO0FBRTdCQyxFQUFBQSxXQUFXLEVBQUVELE1BRmdCO0FBRzdCRSxFQUFBQSxLQUFLLEVBQUVDO0FBSHNCLENBQWhCLENBQWY7QUFNQSxNQUFNQyxPQUFPLEdBQUdULFFBQVEsQ0FBQ1UsS0FBVCxDQUFlLFNBQWYsRUFBMEJSLE1BQTFCLENBQWhCO0FBRUFTLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQkgsT0FBakIiLCJzb3VyY2VSb290IjoiL2hvbWUvd24vVlNDb2RlL2JhY2svYXBwVGVzdC9zcmMvbW9kZWxzLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZShcIm1vbmdvb3NlXCIpO1xuXG5jb25zdCBzY2hlbWEgPSBtb25nb29zZS5TY2hlbWEoe1xuICBuYW1lOiBTdHJpbmcsXG4gIGRlc2NyaXB0aW9uOiBTdHJpbmcsXG4gIHByaWNlOiBOdW1iZXJcbn0pO1xuXG5jb25zdCBQcm9kdWN0ID0gbW9uZ29vc2UubW9kZWwoXCJQcm9kdWN0XCIsIHNjaGVtYSk7XG5cbm1vZHVsZS5leHBvcnRzID0gUHJvZHVjdDtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "products.js"
      ],
      "names": [
        "mongoose",
        "require",
        "schema",
        "Schema",
        "name",
        "String",
        "description",
        "price",
        "Number",
        "Product",
        "model",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AAEA,MAAMC,MAAM,GAAGF,QAAQ,CAACG,MAAT,CAAgB;AAC7BC,EAAAA,IAAI,EAAEC,MADuB;AAE7BC,EAAAA,WAAW,EAAED,MAFgB;AAG7BE,EAAAA,KAAK,EAAEC;AAHsB,CAAhB,CAAf;AAMA,MAAMC,OAAO,GAAGT,QAAQ,CAACU,KAAT,CAAe,SAAf,EAA0BR,MAA1B,CAAhB;AAEAS,MAAM,CAACC,OAAP,GAAiBH,OAAjB",
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/models/",
      "sourcesContent": [
        "const mongoose = require(\"mongoose\");\n\nconst schema = mongoose.Schema({\n  name: String,\n  description: String,\n  price: Number\n});\n\nconst Product = mongoose.model(\"Product\", schema);\n\nmodule.exports = Product;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1600977605464
  },
  "{\"sourceRoot\":\"/home/wn/VSCode/back/appTest/src/models/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/wn/VSCode/back/appTest\",\"filename\":\"/home/wn/VSCode/back/appTest/src/models/products.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/home/wn/VSCode/back/appTest\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6:test": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/models/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/wn/VSCode/back/appTest",
      "filename": "/home/wn/VSCode/back/appTest/src/models/products.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "test",
      "root": "/home/wn/VSCode/back/appTest",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/wn/VSCode/back/appTest/src/models/products.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/wn/VSCode/back/appTest/src/models/products.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/wn/VSCode/back/appTest/src/models/",
        "sourceFileName": "products.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst mongoose = require(\"mongoose\");\n\nconst schema = mongoose.Schema({\n  name: String,\n  description: String,\n  price: Number\n});\nconst Product = mongoose.model(\"Product\", schema);\nmodule.exports = Product;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RzLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsInNjaGVtYSIsIlNjaGVtYSIsIm5hbWUiLCJTdHJpbmciLCJkZXNjcmlwdGlvbiIsInByaWNlIiwiTnVtYmVyIiwiUHJvZHVjdCIsIm1vZGVsIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyxVQUFELENBQXhCOztBQUVBLE1BQU1DLE1BQU0sR0FBR0YsUUFBUSxDQUFDRyxNQUFULENBQWdCO0FBQzdCQyxFQUFBQSxJQUFJLEVBQUVDLE1BRHVCO0FBRTdCQyxFQUFBQSxXQUFXLEVBQUVELE1BRmdCO0FBRzdCRSxFQUFBQSxLQUFLLEVBQUVDO0FBSHNCLENBQWhCLENBQWY7QUFNQSxNQUFNQyxPQUFPLEdBQUdULFFBQVEsQ0FBQ1UsS0FBVCxDQUFlLFNBQWYsRUFBMEJSLE1BQTFCLENBQWhCO0FBRUFTLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQkgsT0FBakIiLCJzb3VyY2VSb290IjoiL2hvbWUvd24vVlNDb2RlL2JhY2svYXBwVGVzdC9zcmMvbW9kZWxzLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZShcIm1vbmdvb3NlXCIpO1xuXG5jb25zdCBzY2hlbWEgPSBtb25nb29zZS5TY2hlbWEoe1xuICBuYW1lOiBTdHJpbmcsXG4gIGRlc2NyaXB0aW9uOiBTdHJpbmcsXG4gIHByaWNlOiBOdW1iZXJcbn0pO1xuXG5jb25zdCBQcm9kdWN0ID0gbW9uZ29vc2UubW9kZWwoXCJQcm9kdWN0XCIsIHNjaGVtYSk7XG5cbm1vZHVsZS5leHBvcnRzID0gUHJvZHVjdDtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "products.js"
      ],
      "names": [
        "mongoose",
        "require",
        "schema",
        "Schema",
        "name",
        "String",
        "description",
        "price",
        "Number",
        "Product",
        "model",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AAEA,MAAMC,MAAM,GAAGF,QAAQ,CAACG,MAAT,CAAgB;AAC7BC,EAAAA,IAAI,EAAEC,MADuB;AAE7BC,EAAAA,WAAW,EAAED,MAFgB;AAG7BE,EAAAA,KAAK,EAAEC;AAHsB,CAAhB,CAAf;AAMA,MAAMC,OAAO,GAAGT,QAAQ,CAACU,KAAT,CAAe,SAAf,EAA0BR,MAA1B,CAAhB;AAEAS,MAAM,CAACC,OAAP,GAAiBH,OAAjB",
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/models/",
      "sourcesContent": [
        "const mongoose = require(\"mongoose\");\n\nconst schema = mongoose.Schema({\n  name: String,\n  description: String,\n  price: Number\n});\n\nconst Product = mongoose.model(\"Product\", schema);\n\nmodule.exports = Product;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1600977605464
  },
  "{\"sourceRoot\":\"/home/wn/VSCode/back/appTest/src/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/wn/VSCode/back/appTest\",\"filename\":\"/home/wn/VSCode/back/appTest/src/database.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/home/wn/VSCode/back/appTest\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6:test": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/wn/VSCode/back/appTest",
      "filename": "/home/wn/VSCode/back/appTest/src/database.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "test",
      "root": "/home/wn/VSCode/back/appTest",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/wn/VSCode/back/appTest/src/database.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/wn/VSCode/back/appTest/src/database.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/wn/VSCode/back/appTest/src/",
        "sourceFileName": "database.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst mongoose = require(\"mongoose\");\n\nconst config = require(\"config\"); // const mongodbUrl = process.env.MONGODB_URL || \"mongodb://localhost/test\";\n\n\nconst mongodbUrl = config.get(\"database.mongoUrl\");\n\nconst connect = () => mongoose.connect(mongodbUrl, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n});\n\nconst close = () => mongoose.connection.close();\n\nmodule.export = {\n  connect,\n  close\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhdGFiYXNlLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsImNvbmZpZyIsIm1vbmdvZGJVcmwiLCJnZXQiLCJjb25uZWN0IiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5IiwiY2xvc2UiLCJjb25uZWN0aW9uIiwibW9kdWxlIiwiZXhwb3J0Il0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLFVBQUQsQ0FBeEI7O0FBQ0EsTUFBTUMsTUFBTSxHQUFHRCxPQUFPLENBQUMsUUFBRCxDQUF0QixDLENBRUE7OztBQUNBLE1BQU1FLFVBQVUsR0FBR0QsTUFBTSxDQUFDRSxHQUFQLENBQVcsbUJBQVgsQ0FBbkI7O0FBRUEsTUFBTUMsT0FBTyxHQUFHLE1BQU1MLFFBQVEsQ0FBQ0ssT0FBVCxDQUFpQkYsVUFBakIsRUFBNkI7QUFDakRHLEVBQUFBLGVBQWUsRUFBRSxJQURnQztBQUVqREMsRUFBQUEsa0JBQWtCLEVBQUU7QUFGNkIsQ0FBN0IsQ0FBdEI7O0FBS0EsTUFBTUMsS0FBSyxHQUFHLE1BQU1SLFFBQVEsQ0FBQ1MsVUFBVCxDQUFvQkQsS0FBcEIsRUFBcEI7O0FBRUFFLE1BQU0sQ0FBQ0MsTUFBUCxHQUFnQjtBQUNkTixFQUFBQSxPQURjO0FBRWRHLEVBQUFBO0FBRmMsQ0FBaEIiLCJzb3VyY2VSb290IjoiL2hvbWUvd24vVlNDb2RlL2JhY2svYXBwVGVzdC9zcmMvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKFwibW9uZ29vc2VcIik7XG5jb25zdCBjb25maWcgPSByZXF1aXJlKFwiY29uZmlnXCIpO1xuXG4vLyBjb25zdCBtb25nb2RiVXJsID0gcHJvY2Vzcy5lbnYuTU9OR09EQl9VUkwgfHwgXCJtb25nb2RiOi8vbG9jYWxob3N0L3Rlc3RcIjtcbmNvbnN0IG1vbmdvZGJVcmwgPSBjb25maWcuZ2V0KFwiZGF0YWJhc2UubW9uZ29VcmxcIik7XG5cbmNvbnN0IGNvbm5lY3QgPSAoKSA9PiBtb25nb29zZS5jb25uZWN0KG1vbmdvZGJVcmwsIHtcbiAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxuICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWVcbn0pO1xuXG5jb25zdCBjbG9zZSA9ICgpID0+IG1vbmdvb3NlLmNvbm5lY3Rpb24uY2xvc2UoKTtcblxubW9kdWxlLmV4cG9ydCA9IHtcbiAgY29ubmVjdCxcbiAgY2xvc2Vcbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "database.js"
      ],
      "names": [
        "mongoose",
        "require",
        "config",
        "mongodbUrl",
        "get",
        "connect",
        "useNewUrlParser",
        "useUnifiedTopology",
        "close",
        "connection",
        "module",
        "export"
      ],
      "mappings": ";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AACA,MAAMC,MAAM,GAAGD,OAAO,CAAC,QAAD,CAAtB,C,CAEA;;;AACA,MAAME,UAAU,GAAGD,MAAM,CAACE,GAAP,CAAW,mBAAX,CAAnB;;AAEA,MAAMC,OAAO,GAAG,MAAML,QAAQ,CAACK,OAAT,CAAiBF,UAAjB,EAA6B;AACjDG,EAAAA,eAAe,EAAE,IADgC;AAEjDC,EAAAA,kBAAkB,EAAE;AAF6B,CAA7B,CAAtB;;AAKA,MAAMC,KAAK,GAAG,MAAMR,QAAQ,CAACS,UAAT,CAAoBD,KAApB,EAApB;;AAEAE,MAAM,CAACC,MAAP,GAAgB;AACdN,EAAAA,OADc;AAEdG,EAAAA;AAFc,CAAhB",
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/",
      "sourcesContent": [
        "const mongoose = require(\"mongoose\");\nconst config = require(\"config\");\n\n// const mongodbUrl = process.env.MONGODB_URL || \"mongodb://localhost/test\";\nconst mongodbUrl = config.get(\"database.mongoUrl\");\n\nconst connect = () => mongoose.connect(mongodbUrl, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n});\n\nconst close = () => mongoose.connection.close();\n\nmodule.export = {\n  connect,\n  close\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1601213372461
  },
  "{\"sourceRoot\":\"/home/wn/VSCode/back/appTest/src/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/wn/VSCode/back/appTest\",\"filename\":\"/home/wn/VSCode/back/appTest/src/database.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/home/wn/VSCode/back/appTest\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6:test": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/wn/VSCode/back/appTest",
      "filename": "/home/wn/VSCode/back/appTest/src/database.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "test",
      "root": "/home/wn/VSCode/back/appTest",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/wn/VSCode/back/appTest/src/database.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/wn/VSCode/back/appTest/src/database.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/wn/VSCode/back/appTest/src/",
        "sourceFileName": "database.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst mongoose = require(\"mongoose\");\n\nconst config = require(\"config\"); // const mongodbUrl = process.env.MONGODB_URL || \"mongodb://localhost/test\";\n\n\nconst mongodbUrl = config.get(\"database.mongoUrl\");\n\nconst connect = () => mongoose.connect(mongodbUrl, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n});\n\nconst close = () => mongoose.connection.close();\n\nmodule.export = {\n  connect,\n  close\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhdGFiYXNlLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsImNvbmZpZyIsIm1vbmdvZGJVcmwiLCJnZXQiLCJjb25uZWN0IiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5IiwiY2xvc2UiLCJjb25uZWN0aW9uIiwibW9kdWxlIiwiZXhwb3J0Il0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLFVBQUQsQ0FBeEI7O0FBQ0EsTUFBTUMsTUFBTSxHQUFHRCxPQUFPLENBQUMsUUFBRCxDQUF0QixDLENBRUE7OztBQUNBLE1BQU1FLFVBQVUsR0FBR0QsTUFBTSxDQUFDRSxHQUFQLENBQVcsbUJBQVgsQ0FBbkI7O0FBRUEsTUFBTUMsT0FBTyxHQUFHLE1BQU1MLFFBQVEsQ0FBQ0ssT0FBVCxDQUFpQkYsVUFBakIsRUFBNkI7QUFDakRHLEVBQUFBLGVBQWUsRUFBRSxJQURnQztBQUVqREMsRUFBQUEsa0JBQWtCLEVBQUU7QUFGNkIsQ0FBN0IsQ0FBdEI7O0FBS0EsTUFBTUMsS0FBSyxHQUFHLE1BQU1SLFFBQVEsQ0FBQ1MsVUFBVCxDQUFvQkQsS0FBcEIsRUFBcEI7O0FBRUFFLE1BQU0sQ0FBQ0MsTUFBUCxHQUFnQjtBQUNkTixFQUFBQSxPQURjO0FBRWRHLEVBQUFBO0FBRmMsQ0FBaEIiLCJzb3VyY2VSb290IjoiL2hvbWUvd24vVlNDb2RlL2JhY2svYXBwVGVzdC9zcmMvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKFwibW9uZ29vc2VcIik7XG5jb25zdCBjb25maWcgPSByZXF1aXJlKFwiY29uZmlnXCIpO1xuXG4vLyBjb25zdCBtb25nb2RiVXJsID0gcHJvY2Vzcy5lbnYuTU9OR09EQl9VUkwgfHwgXCJtb25nb2RiOi8vbG9jYWxob3N0L3Rlc3RcIjtcbmNvbnN0IG1vbmdvZGJVcmwgPSBjb25maWcuZ2V0KFwiZGF0YWJhc2UubW9uZ29VcmxcIik7XG5cbmNvbnN0IGNvbm5lY3QgPSAoKSA9PiBtb25nb29zZS5jb25uZWN0KG1vbmdvZGJVcmwsIHtcbiAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxuICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWVcbn0pO1xuXG5jb25zdCBjbG9zZSA9ICgpID0+IG1vbmdvb3NlLmNvbm5lY3Rpb24uY2xvc2UoKTtcblxubW9kdWxlLmV4cG9ydCA9IHtcbiAgY29ubmVjdCxcbiAgY2xvc2Vcbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "database.js"
      ],
      "names": [
        "mongoose",
        "require",
        "config",
        "mongodbUrl",
        "get",
        "connect",
        "useNewUrlParser",
        "useUnifiedTopology",
        "close",
        "connection",
        "module",
        "export"
      ],
      "mappings": ";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AACA,MAAMC,MAAM,GAAGD,OAAO,CAAC,QAAD,CAAtB,C,CAEA;;;AACA,MAAME,UAAU,GAAGD,MAAM,CAACE,GAAP,CAAW,mBAAX,CAAnB;;AAEA,MAAMC,OAAO,GAAG,MAAML,QAAQ,CAACK,OAAT,CAAiBF,UAAjB,EAA6B;AACjDG,EAAAA,eAAe,EAAE,IADgC;AAEjDC,EAAAA,kBAAkB,EAAE;AAF6B,CAA7B,CAAtB;;AAKA,MAAMC,KAAK,GAAG,MAAMR,QAAQ,CAACS,UAAT,CAAoBD,KAApB,EAApB;;AAEAE,MAAM,CAACC,MAAP,GAAgB;AACdN,EAAAA,OADc;AAEdG,EAAAA;AAFc,CAAhB",
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/",
      "sourcesContent": [
        "const mongoose = require(\"mongoose\");\nconst config = require(\"config\");\n\n// const mongodbUrl = process.env.MONGODB_URL || \"mongodb://localhost/test\";\nconst mongodbUrl = config.get(\"database.mongoUrl\");\n\nconst connect = () => mongoose.connect(mongodbUrl, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n});\n\nconst close = () => mongoose.connection.close();\n\nmodule.export = {\n  connect,\n  close\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1601213372461
  },
  "{\"sourceRoot\":\"/home/wn/VSCode/back/appTest/test/unit/controllers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/wn/VSCode/back/appTest\",\"filename\":\"/home/wn/VSCode/back/appTest/test/unit/controllers/users_spec.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/home/wn/VSCode/back/appTest\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6:test": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/wn/VSCode/back/appTest/test/unit/controllers/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/wn/VSCode/back/appTest",
      "filename": "/home/wn/VSCode/back/appTest/test/unit/controllers/users_spec.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "test",
      "root": "/home/wn/VSCode/back/appTest",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/wn/VSCode/back/appTest/test/unit/controllers/users_spec.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/wn/VSCode/back/appTest/test/unit/controllers/users_spec.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/wn/VSCode/back/appTest/test/unit/controllers/",
        "sourceFileName": "users_spec.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst UsersController = require(\"../../../src/controllers/users\");\n\nconst sinon = require(\"sinon\");\n\nconst jwt = require(\"jsonwebtoken\");\n\nconst config = require(\"config\");\n\nconst bcrypt = require(\"bcrypt\");\n\nconst User = require(\"../../../src/models/users\");\n\ndescribe('Controller: Users', () => {\n  const defaultUser = [{\n    __v: 0,\n    _id: '56cb91bdc3464f14678934ca',\n    name: 'Default User',\n    email: 'user@mail.com',\n    password: 'password',\n    role: 'user'\n  }];\n  const defaultRequest = {\n    params: {}\n  };\n  describe('get() users', () => {\n    it('should return a list of users', async () => {\n      const response = {\n        send: sinon.spy()\n      };\n      User.find = sinon.stub();\n      User.find.withArgs({}).resolves(defaultUser);\n      const usersController = new UsersController(User);\n      await usersController.get(defaultRequest, response);\n      sinon.assert.calledWith(response.send, defaultUser);\n    });\n    it('should return 400 when an error occurs', async () => {\n      const request = {};\n      const response = {\n        send: sinon.spy(),\n        status: sinon.stub()\n      };\n      response.status.withArgs(400).returns(response);\n      User.find = sinon.stub();\n      User.find.withArgs({}).rejects({\n        message: 'Error'\n      });\n      const usersController = new UsersController(User);\n      await usersController.get(request, response);\n      sinon.assert.calledWith(response.send, 'Error');\n    });\n  });\n  describe('getById()', () => {\n    it('should call send with one user', async () => {\n      const fakeId = 'a-fake-id';\n      const request = {\n        params: {\n          id: fakeId\n        }\n      };\n      const response = {\n        send: sinon.spy()\n      };\n      User.find = sinon.stub();\n      User.find.withArgs({\n        _id: fakeId\n      }).resolves(defaultUser);\n      const usersController = new UsersController(User);\n      await usersController.getById(request, response);\n      sinon.assert.calledWith(response.send, defaultUser);\n    });\n  });\n  describe('create() user', () => {\n    it('should call send with a new user', async () => {\n      const requestWithBody = Object.assign({}, {\n        body: defaultUser[0]\n      }, defaultRequest);\n      const response = {\n        send: sinon.spy(),\n        status: sinon.stub()\n      };\n\n      class fakeUser {\n        save() {}\n\n      }\n\n      response.status.withArgs(201).returns(response);\n      sinon.stub(fakeUser.prototype, 'save').withArgs().resolves();\n      const usersController = new UsersController(fakeUser);\n      await usersController.create(requestWithBody, response);\n      sinon.assert.calledWith(response.send);\n    });\n  });\n  context('when an error occurs', () => {\n    it('should return 422', async () => {\n      const response = {\n        send: sinon.spy(),\n        status: sinon.stub()\n      };\n\n      class fakeUser {\n        save() {}\n\n      }\n\n      response.status.withArgs(422).returns(response);\n      sinon.stub(fakeUser.prototype, 'save').withArgs().rejects({\n        message: 'Error'\n      });\n      const usersController = new UsersController(fakeUser);\n      await usersController.create(defaultRequest, response);\n      sinon.assert.calledWith(response.status, 422);\n    });\n  });\n  describe('update() user', () => {\n    it('should respond with 200 when the user has been updated', async () => {\n      const fakeId = 'a-fake-id';\n      const updatedUser = {\n        _id: fakeId,\n        name: 'Updated User',\n        email: 'user@mail.com',\n        password: 'password',\n        role: 'user'\n      };\n      const request = {\n        params: {\n          id: fakeId\n        },\n        body: updatedUser\n      };\n      const response = {\n        sendStatus: sinon.spy()\n      };\n\n      class fakeUser {\n        static findById() {}\n\n        save() {}\n\n      }\n\n      const fakeUserInstance = new fakeUser();\n      const saveSpy = sinon.spy(fakeUser.prototype, 'save');\n      const findByIdStub = sinon.stub(fakeUser, 'findById');\n      findByIdStub.withArgs(fakeId).resolves(fakeUserInstance);\n      const usersController = new UsersController(fakeUser);\n      await usersController.update(request, response);\n      sinon.assert.calledWith(response.sendStatus, 200);\n      sinon.assert.calledOnce(saveSpy);\n    });\n    context('when an error occurs', () => {\n      it('should return 422', async () => {\n        const fakeId = 'a-fake-id';\n        const updatedUser = {\n          _id: fakeId,\n          name: 'Updated User',\n          email: 'user@mail.com',\n          password: 'password',\n          role: 'user'\n        };\n        const request = {\n          params: {\n            id: fakeId\n          },\n          body: updatedUser\n        };\n        const response = {\n          send: sinon.spy(),\n          status: sinon.stub()\n        };\n\n        class fakeUser {\n          static findById() {}\n\n        }\n\n        const findByIdStub = sinon.stub(fakeUser, 'findById');\n        findByIdStub.withArgs(fakeId).rejects({\n          message: 'Error'\n        });\n        response.status.withArgs(422).returns(response);\n        const usersController = new UsersController(fakeUser);\n        await usersController.update(request, response);\n        sinon.assert.calledWith(response.send, 'Error');\n      });\n    });\n  });\n  describe('delete() user', () => {\n    it('should respond with 204 when the user has been deleted', async () => {\n      const fakeId = 'a-fake-id';\n      const request = {\n        params: {\n          id: fakeId\n        }\n      };\n      const response = {\n        sendStatus: sinon.spy()\n      };\n\n      class fakeUser {\n        static remove() {}\n\n      }\n\n      const removeStub = sinon.stub(fakeUser, 'remove');\n      removeStub.withArgs({\n        _id: fakeId\n      }).resolves([1]);\n      const usersController = new UsersController(fakeUser);\n      await usersController.remove(request, response);\n      sinon.assert.calledWith(response.sendStatus, 204);\n    });\n    context('when an error occurs', () => {\n      it('should return 400', async () => {\n        const fakeId = 'a-fake-id';\n        const request = {\n          params: {\n            id: fakeId\n          }\n        };\n        const response = {\n          send: sinon.spy(),\n          status: sinon.stub()\n        };\n\n        class fakeUser {\n          static remove() {}\n\n        }\n\n        const removeStub = sinon.stub(fakeUser, 'remove');\n        removeStub.withArgs({\n          _id: fakeId\n        }).rejects({\n          message: 'Error'\n        });\n        response.status.withArgs(400).returns(response);\n        const usersController = new UsersController(fakeUser);\n        await usersController.remove(request, response);\n        sinon.assert.calledWith(response.send, 'Error');\n      });\n    });\n  });\n  describe('authenticate', () => {\n    it('should authenticate a user', async () => {\n      const fakeUserModel = {\n        findOne: sinon.stub()\n      };\n      const user = {\n        name: 'Jhon Doe',\n        email: 'jhondoe@mail.com',\n        password: '12345',\n        role: 'admin'\n      };\n      const userWithEncryptedPassword = { ...user,\n        password: bcrypt.hashSync(user.password, 10)\n      };\n      fakeUserModel.findOne.withArgs({\n        email: user.email\n      }).resolves({ ...userWithEncryptedPassword,\n        toJSON: () => ({\n          email: user.email\n        })\n      });\n      const jwtToken = jwt.sign(userWithEncryptedPassword, config.get('auth.key'), {\n        expiresIn: config.get('auth.tokenExpiresIn')\n      });\n      const fakeReq = {\n        body: user\n      };\n      const fakeRes = {\n        send: sinon.spy()\n      };\n      const usersController = new UsersController(fakeUserModel);\n      await usersController.authenticate(fakeReq, fakeRes);\n      sinon.assert.calledWith(fakeRes.send, {\n        token: jwtToken\n      });\n    });\n    it('should return 401 when the user can not be found', async () => {\n      const fakeUserModel = {\n        findOne: sinon.stub()\n      };\n      fakeUserModel.findOne.resolves(null);\n      const user = {\n        name: 'Jhon Doe',\n        email: 'jhondoe@mail.com',\n        password: '12345',\n        role: 'admin'\n      };\n      const fakeReq = {\n        body: user\n      };\n      const fakeRes = {\n        sendStatus: sinon.spy()\n      };\n      const usersController = new UsersController(fakeUserModel);\n      await usersController.authenticate(fakeReq, fakeRes);\n      sinon.assert.calledWith(fakeRes.sendStatus, 401);\n    });\n    it('should return 401 when the password does not match', async () => {\n      const fakeUserModel = {\n        findOne: sinon.stub()\n      };\n      const user = {\n        name: 'Jhon Doe',\n        email: 'jhondoe@mail.com',\n        password: '12345',\n        role: 'admin'\n      };\n      const userWithDifferentPassword = { ...user,\n        password: bcrypt.hashSync('another_password', 10)\n      };\n      fakeUserModel.findOne.withArgs({\n        email: user.email\n      }).resolves({ ...userWithDifferentPassword\n      });\n      const fakeReq = {\n        body: user\n      };\n      const fakeRes = {\n        sendStatus: sinon.spy()\n      };\n      const usersController = new UsersController(fakeUserModel);\n      await usersController.authenticate(fakeReq, fakeRes);\n      sinon.assert.calledWith(fakeRes.sendStatus, 401);\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJzX3NwZWMuanMiXSwibmFtZXMiOlsiVXNlcnNDb250cm9sbGVyIiwicmVxdWlyZSIsInNpbm9uIiwiand0IiwiY29uZmlnIiwiYmNyeXB0IiwiVXNlciIsImRlc2NyaWJlIiwiZGVmYXVsdFVzZXIiLCJfX3YiLCJfaWQiLCJuYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsInJvbGUiLCJkZWZhdWx0UmVxdWVzdCIsInBhcmFtcyIsIml0IiwicmVzcG9uc2UiLCJzZW5kIiwic3B5IiwiZmluZCIsInN0dWIiLCJ3aXRoQXJncyIsInJlc29sdmVzIiwidXNlcnNDb250cm9sbGVyIiwiZ2V0IiwiYXNzZXJ0IiwiY2FsbGVkV2l0aCIsInJlcXVlc3QiLCJzdGF0dXMiLCJyZXR1cm5zIiwicmVqZWN0cyIsIm1lc3NhZ2UiLCJmYWtlSWQiLCJpZCIsImdldEJ5SWQiLCJyZXF1ZXN0V2l0aEJvZHkiLCJPYmplY3QiLCJhc3NpZ24iLCJib2R5IiwiZmFrZVVzZXIiLCJzYXZlIiwicHJvdG90eXBlIiwiY3JlYXRlIiwiY29udGV4dCIsInVwZGF0ZWRVc2VyIiwic2VuZFN0YXR1cyIsImZpbmRCeUlkIiwiZmFrZVVzZXJJbnN0YW5jZSIsInNhdmVTcHkiLCJmaW5kQnlJZFN0dWIiLCJ1cGRhdGUiLCJjYWxsZWRPbmNlIiwicmVtb3ZlIiwicmVtb3ZlU3R1YiIsImZha2VVc2VyTW9kZWwiLCJmaW5kT25lIiwidXNlciIsInVzZXJXaXRoRW5jcnlwdGVkUGFzc3dvcmQiLCJoYXNoU3luYyIsInRvSlNPTiIsImp3dFRva2VuIiwic2lnbiIsImV4cGlyZXNJbiIsImZha2VSZXEiLCJmYWtlUmVzIiwiYXV0aGVudGljYXRlIiwidG9rZW4iLCJ1c2VyV2l0aERpZmZlcmVudFBhc3N3b3JkIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLGVBQWUsR0FBR0MsT0FBTyxDQUFDLGdDQUFELENBQS9COztBQUNBLE1BQU1DLEtBQUssR0FBR0QsT0FBTyxDQUFDLE9BQUQsQ0FBckI7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a0IsR0FBTjtBQURFLE9BQWhCO0FBR0EsWUFBTUssZUFBZSxHQUFHLElBQUl6QixlQUFKLENBQW9Cd0QsYUFBcEIsQ0FBeEI7QUFFQSxZQUFNL0IsZUFBZSxDQUFDMEMsWUFBaEIsQ0FBNkJGLE9BQTdCLEVBQXNDQyxPQUF0QyxDQUFOO0FBQ0FoRSxNQUFBQSxLQUFLLENBQUN5QixNQUFOLENBQWFDLFVBQWIsQ0FBd0JzQyxPQUFPLENBQUNuQixVQUFoQyxFQUE0QyxHQUE1QztBQUNELEtBM0JDLENBQUY7QUE0QkQsR0EvRU8sQ0FBUjtBQWtGRCxDQTlVTyxDQUFSIiwic291cmNlUm9vdCI6Ii9ob21lL3duL1ZTQ29kZS9iYWNrL2FwcFRlc3QvdGVzdC91bml0L2NvbnRyb2xsZXJzLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFVzZXJzQ29udHJvbGxlciA9IHJlcXVpcmUoXCIuLi8uLi8uLi9zcmMvY29udHJvbGxlcnMvdXNlcnNcIik7XG5jb25zdCBzaW5vbiA9IHJlcXVpcmUoXCJzaW5vblwiKTtcbmNvbnN0IGp3dCA9IHJlcXVpcmUoXCJqc29ud2VidG9rZW5cIik7XG5jb25zdCBjb25maWcgPSByZXF1aXJlKFwiY29uZmlnXCIpO1xuY29uc3QgYmNyeXB0ID0gcmVxdWlyZShcImJjcnlwdFwiKTtcbmNvbnN0IFVzZXIgPSByZXF1aXJlKFwiLi4vLi4vLi4vc3JjL21vZGVscy91c2Vyc1wiKTtcblxuZGVzY3JpYmUoJ0NvbnRyb2xsZXI6IFVzZXJzJywgKCkgPT4ge1xuICBjb25zdCBkZWZhdWx0VXNlciA9IFtcbiAgICB7XG4gICAgICBfX3Y6IDAsXG4gICAgICBfaWQ6ICc1NmNiOTFiZGMzNDY0ZjE0Njc4OTM0Y2EnLFxuICAgICAgbmFtZTogJ0RlZmF1bHQgVXNlcicsXG4gICAgICBlbWFpbDogJ3VzZXJAbWFpbC5jb20nLFxuICAgICAgcGFzc3dvcmQ6ICdwYXNzd29yZCcsXG4gICAgICByb2xlOiAndXNlcidcbiAgICB9XG4gIF07XG5cbiAgY29uc3QgZGVmYXVsdFJlcXVlc3QgPSB7XG4gICAgcGFyYW1zOiB7fVxuICB9O1xuXG4gIGRlc2NyaWJlKCdnZXQoKSB1c2VycycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiBhIGxpc3Qgb2YgdXNlcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgc2VuZDogc2lub24uc3B5KClcbiAgICAgIH07XG4gICAgICBVc2VyLmZpbmQgPSBzaW5vbi5zdHViKCk7XG5cbiAgICAgIFVzZXIuZmluZC53aXRoQXJncyh7fSkucmVzb2x2ZXMoZGVmYXVsdFVzZXIpO1xuXG4gICAgICBjb25zdCB1c2Vyc0NvbnRyb2xsZXIgPSBuZXcgVXNlcnNDb250cm9sbGVyKFVzZXIpO1xuXG4gICAgICBhd2FpdCB1c2Vyc0NvbnRyb2xsZXIuZ2V0KGRlZmF1bHRSZXF1ZXN0LCByZXNwb25zZSk7XG4gICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChyZXNwb25zZS5zZW5kLCBkZWZhdWx0VXNlcik7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gNDAwIHdoZW4gYW4gZXJyb3Igb2NjdXJzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdCA9IHt9O1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgIHNlbmQ6IHNpbm9uLnNweSgpLFxuICAgICAgICBzdGF0dXM6IHNpbm9uLnN0dWIoKVxuICAgICAgfTtcblxuICAgICAgcmVzcG9uc2Uuc3RhdHVzLndpdGhBcmdzKDQwMCkucmV0dXJucyhyZXNwb25zZSk7XG4gICAgICBVc2VyLmZpbmQgPSBzaW5vbi5zdHViKCk7XG4gICAgICBVc2VyLmZpbmQud2l0aEFyZ3Moe30pLnJlamVjdHMoeyBtZXNzYWdlOiAnRXJyb3InIH0pO1xuXG4gICAgICBjb25zdCB1c2Vyc0NvbnRyb2xsZXIgPSBuZXcgVXNlcnNDb250cm9sbGVyKFVzZXIpO1xuXG4gICAgICBhd2FpdCB1c2Vyc0NvbnRyb2xsZXIuZ2V0KHJlcXVlc3QsIHJlc3BvbnNlKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKHJlc3BvbnNlLnNlbmQsICdFcnJvcicpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnZ2V0QnlJZCgpJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY2FsbCBzZW5kIHdpdGggb25lIHVzZXInLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBmYWtlSWQgPSAnYS1mYWtlLWlkJztcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICAgIHBhcmFtczoge1xuICAgICAgICAgIGlkOiBmYWtlSWRcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICBzZW5kOiBzaW5vbi5zcHkoKVxuICAgICAgfTtcblxuICAgICAgVXNlci5maW5kID0gc2lub24uc3R1YigpO1xuICAgICAgVXNlci5maW5kLndpdGhBcmdzKHsgX2lkOiBmYWtlSWQgfSkucmVzb2x2ZXMoZGVmYXVsdFVzZXIpO1xuXG4gICAgICBjb25zdCB1c2Vyc0NvbnRyb2xsZXIgPSBuZXcgVXNlcnNDb250cm9sbGVyKFVzZXIpO1xuXG4gICAgICBhd2FpdCB1c2Vyc0NvbnRyb2xsZXIuZ2V0QnlJZChyZXF1ZXN0LCByZXNwb25zZSk7XG4gICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChyZXNwb25zZS5zZW5kLCBkZWZhdWx0VXNlcik7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdjcmVhdGUoKSB1c2VyJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY2FsbCBzZW5kIHdpdGggYSBuZXcgdXNlcicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlcXVlc3RXaXRoQm9keSA9IE9iamVjdC5hc3NpZ24oXG4gICAgICAgIHt9LFxuICAgICAgICB7IGJvZHk6IGRlZmF1bHRVc2VyWzBdIH0sXG4gICAgICAgIGRlZmF1bHRSZXF1ZXN0XG4gICAgICApO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgIHNlbmQ6IHNpbm9uLnNweSgpLFxuICAgICAgICBzdGF0dXM6IHNpbm9uLnN0dWIoKVxuICAgICAgfTtcblxuICAgICAgY2xhc3MgZmFrZVVzZXIge1xuICAgICAgICBzYXZlKCkgeyB9XG4gICAgICB9XG5cbiAgICAgIHJlc3BvbnNlLnN0YXR1cy53aXRoQXJncygyMDEpLnJldHVybnMocmVzcG9uc2UpO1xuICAgICAgc2lub25cbiAgICAgICAgLnN0dWIoZmFrZVVzZXIucHJvdG90eXBlLCAnc2F2ZScpXG4gICAgICAgIC53aXRoQXJncygpXG4gICAgICAgIC5yZXNvbHZlcygpO1xuXG4gICAgICBjb25zdCB1c2Vyc0NvbnRyb2xsZXIgPSBuZXcgVXNlcnNDb250cm9sbGVyKGZha2VVc2VyKTtcblxuICAgICAgYXdhaXQgdXNlcnNDb250cm9sbGVyLmNyZWF0ZShyZXF1ZXN0V2l0aEJvZHksIHJlc3BvbnNlKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKHJlc3BvbnNlLnNlbmQpO1xuICAgIH0pO1xuICB9KTtcblxuICBjb250ZXh0KCd3aGVuIGFuIGVycm9yIG9jY3VycycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiA0MjInLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgc2VuZDogc2lub24uc3B5KCksXG4gICAgICAgIHN0YXR1czogc2lub24uc3R1YigpXG4gICAgICB9O1xuXG4gICAgICBjbGFzcyBmYWtlVXNlciB7XG4gICAgICAgIHNhdmUoKSB7IH1cbiAgICAgIH1cblxuICAgICAgcmVzcG9uc2Uuc3RhdHVzLndpdGhBcmdzKDQyMikucmV0dXJucyhyZXNwb25zZSk7XG4gICAgICBzaW5vblxuICAgICAgICAuc3R1YihmYWtlVXNlci5wcm90b3R5cGUsICdzYXZlJylcbiAgICAgICAgLndpdGhBcmdzKClcbiAgICAgICAgLnJlamVjdHMoeyBtZXNzYWdlOiAnRXJyb3InIH0pO1xuXG4gICAgICBjb25zdCB1c2Vyc0NvbnRyb2xsZXIgPSBuZXcgVXNlcnNDb250cm9sbGVyKGZha2VVc2VyKTtcblxuICAgICAgYXdhaXQgdXNlcnNDb250cm9sbGVyLmNyZWF0ZShkZWZhdWx0UmVxdWVzdCwgcmVzcG9uc2UpO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgocmVzcG9uc2Uuc3RhdHVzLCA0MjIpO1xuXG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCd1cGRhdGUoKSB1c2VyJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmVzcG9uZCB3aXRoIDIwMCB3aGVuIHRoZSB1c2VyIGhhcyBiZWVuIHVwZGF0ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBmYWtlSWQgPSAnYS1mYWtlLWlkJztcbiAgICAgIGNvbnN0IHVwZGF0ZWRVc2VyID0ge1xuICAgICAgICBfaWQ6IGZha2VJZCxcbiAgICAgICAgbmFtZTogJ1VwZGF0ZWQgVXNlcicsXG4gICAgICAgIGVtYWlsOiAndXNlckBtYWlsLmNvbScsXG4gICAgICAgIHBhc3N3b3JkOiAncGFzc3dvcmQnLFxuICAgICAgICByb2xlOiAndXNlcidcbiAgICAgIH07XG4gICAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICBpZDogZmFrZUlkXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IHVwZGF0ZWRVc2VyXG4gICAgICB9O1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgIHNlbmRTdGF0dXM6IHNpbm9uLnNweSgpXG4gICAgICB9O1xuXG4gICAgICBjbGFzcyBmYWtlVXNlciB7XG4gICAgICAgIHN0YXRpYyBmaW5kQnlJZCgpIHsgfVxuICAgICAgICBzYXZlKCkgeyB9XG4gICAgICB9XG4gICAgICBjb25zdCBmYWtlVXNlckluc3RhbmNlID0gbmV3IGZha2VVc2VyKCk7XG5cbiAgICAgIGNvbnN0IHNhdmVTcHkgPSBzaW5vbi5zcHkoZmFrZVVzZXIucHJvdG90eXBlLCAnc2F2ZScpO1xuICAgICAgY29uc3QgZmluZEJ5SWRTdHViID0gc2lub24uc3R1YihmYWtlVXNlciwgJ2ZpbmRCeUlkJyk7XG4gICAgICBmaW5kQnlJZFN0dWIud2l0aEFyZ3MoZmFrZUlkKS5yZXNvbHZlcyhmYWtlVXNlckluc3RhbmNlKTtcblxuICAgICAgY29uc3QgdXNlcnNDb250cm9sbGVyID0gbmV3IFVzZXJzQ29udHJvbGxlcihmYWtlVXNlcik7XG4gICAgICBhd2FpdCB1c2Vyc0NvbnRyb2xsZXIudXBkYXRlKHJlcXVlc3QsIHJlc3BvbnNlKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKHJlc3BvbnNlLnNlbmRTdGF0dXMsIDIwMCk7XG4gICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkT25jZShzYXZlU3B5KTtcbiAgICB9KTtcblxuICAgIGNvbnRleHQoJ3doZW4gYW4gZXJyb3Igb2NjdXJzJywgKCkgPT4ge1xuICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gNDIyJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBmYWtlSWQgPSAnYS1mYWtlLWlkJztcbiAgICAgICAgY29uc3QgdXBkYXRlZFVzZXIgPSB7XG4gICAgICAgICAgX2lkOiBmYWtlSWQsXG4gICAgICAgICAgbmFtZTogJ1VwZGF0ZWQgVXNlcicsXG4gICAgICAgICAgZW1haWw6ICd1c2VyQG1haWwuY29tJyxcbiAgICAgICAgICBwYXNzd29yZDogJ3Bhc3N3b3JkJyxcbiAgICAgICAgICByb2xlOiAndXNlcidcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHtcbiAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgIGlkOiBmYWtlSWRcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJvZHk6IHVwZGF0ZWRVc2VyXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAgIHNlbmQ6IHNpbm9uLnNweSgpLFxuICAgICAgICAgIHN0YXR1czogc2lub24uc3R1YigpXG4gICAgICAgIH07XG5cbiAgICAgICAgY2xhc3MgZmFrZVVzZXIge1xuICAgICAgICAgIHN0YXRpYyBmaW5kQnlJZCgpIHsgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZmluZEJ5SWRTdHViID0gc2lub24uc3R1YihmYWtlVXNlciwgJ2ZpbmRCeUlkJyk7XG4gICAgICAgIGZpbmRCeUlkU3R1Yi53aXRoQXJncyhmYWtlSWQpLnJlamVjdHMoeyBtZXNzYWdlOiAnRXJyb3InIH0pO1xuICAgICAgICByZXNwb25zZS5zdGF0dXMud2l0aEFyZ3MoNDIyKS5yZXR1cm5zKHJlc3BvbnNlKTtcblxuICAgICAgICBjb25zdCB1c2Vyc0NvbnRyb2xsZXIgPSBuZXcgVXNlcnNDb250cm9sbGVyKGZha2VVc2VyKTtcblxuICAgICAgICBhd2FpdCB1c2Vyc0NvbnRyb2xsZXIudXBkYXRlKHJlcXVlc3QsIHJlc3BvbnNlKTtcbiAgICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgocmVzcG9uc2Uuc2VuZCwgJ0Vycm9yJyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2RlbGV0ZSgpIHVzZXInLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXNwb25kIHdpdGggMjA0IHdoZW4gdGhlIHVzZXIgaGFzIGJlZW4gZGVsZXRlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGZha2VJZCA9ICdhLWZha2UtaWQnO1xuICAgICAgY29uc3QgcmVxdWVzdCA9IHtcbiAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgaWQ6IGZha2VJZFxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgIHNlbmRTdGF0dXM6IHNpbm9uLnNweSgpXG4gICAgICB9O1xuXG4gICAgICBjbGFzcyBmYWtlVXNlciB7XG4gICAgICAgIHN0YXRpYyByZW1vdmUoKSB7IH1cbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVtb3ZlU3R1YiA9IHNpbm9uLnN0dWIoZmFrZVVzZXIsICdyZW1vdmUnKTtcblxuICAgICAgcmVtb3ZlU3R1Yi53aXRoQXJncyh7IF9pZDogZmFrZUlkIH0pLnJlc29sdmVzKFsxXSk7XG5cbiAgICAgIGNvbnN0IHVzZXJzQ29udHJvbGxlciA9IG5ldyBVc2Vyc0NvbnRyb2xsZXIoZmFrZVVzZXIpO1xuXG4gICAgICBhd2FpdCB1c2Vyc0NvbnRyb2xsZXIucmVtb3ZlKHJlcXVlc3QsIHJlc3BvbnNlKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKHJlc3BvbnNlLnNlbmRTdGF0dXMsIDIwNCk7XG4gICAgfSk7XG5cbiAgICBjb250ZXh0KCd3aGVuIGFuIGVycm9yIG9jY3VycycsICgpID0+IHtcbiAgICAgIGl0KCdzaG91bGQgcmV0dXJuIDQwMCcsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgZmFrZUlkID0gJ2EtZmFrZS1pZCc7XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICBpZDogZmFrZUlkXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgICBzZW5kOiBzaW5vbi5zcHkoKSxcbiAgICAgICAgICBzdGF0dXM6IHNpbm9uLnN0dWIoKVxuICAgICAgICB9O1xuXG4gICAgICAgIGNsYXNzIGZha2VVc2VyIHtcbiAgICAgICAgICBzdGF0aWMgcmVtb3ZlKCkgeyB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZW1vdmVTdHViID0gc2lub24uc3R1YihmYWtlVXNlciwgJ3JlbW92ZScpO1xuICAgICAgICByZW1vdmVTdHViLndpdGhBcmdzKHsgX2lkOiBmYWtlSWQgfSkucmVqZWN0cyh7IG1lc3NhZ2U6ICdFcnJvcicgfSk7XG4gICAgICAgIHJlc3BvbnNlLnN0YXR1cy53aXRoQXJncyg0MDApLnJldHVybnMocmVzcG9uc2UpO1xuXG4gICAgICAgIGNvbnN0IHVzZXJzQ29udHJvbGxlciA9IG5ldyBVc2Vyc0NvbnRyb2xsZXIoZmFrZVVzZXIpO1xuXG4gICAgICAgIGF3YWl0IHVzZXJzQ29udHJvbGxlci5yZW1vdmUocmVxdWVzdCwgcmVzcG9uc2UpO1xuICAgICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChyZXNwb25zZS5zZW5kLCAnRXJyb3InKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnYXV0aGVudGljYXRlJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgYXV0aGVudGljYXRlIGEgdXNlcicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGZha2VVc2VyTW9kZWwgPSB7XG4gICAgICAgIGZpbmRPbmU6IHNpbm9uLnN0dWIoKVxuICAgICAgfTtcbiAgICAgIGNvbnN0IHVzZXIgPSB7XG4gICAgICAgIG5hbWU6ICdKaG9uIERvZScsXG4gICAgICAgIGVtYWlsOiAnamhvbmRvZUBtYWlsLmNvbScsXG4gICAgICAgIHBhc3N3b3JkOiAnMTIzNDUnLFxuICAgICAgICByb2xlOiAnYWRtaW4nXG4gICAgICB9O1xuICAgICAgY29uc3QgdXNlcldpdGhFbmNyeXB0ZWRQYXNzd29yZCA9IHsgLi4udXNlciwgcGFzc3dvcmQ6IGJjcnlwdC5oYXNoU3luYyh1c2VyLnBhc3N3b3JkLCAxMCkgfTtcbiAgICAgIGZha2VVc2VyTW9kZWwuZmluZE9uZS53aXRoQXJncyh7IGVtYWlsOiB1c2VyLmVtYWlsIH0pLnJlc29sdmVzKHtcbiAgICAgICAgLi4udXNlcldpdGhFbmNyeXB0ZWRQYXNzd29yZCxcbiAgICAgICAgdG9KU09OOiAoKSA9PiAoeyBlbWFpbDogdXNlci5lbWFpbCB9KVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGp3dFRva2VuID0gand0LnNpZ24odXNlcldpdGhFbmNyeXB0ZWRQYXNzd29yZCwgY29uZmlnLmdldCgnYXV0aC5rZXknKSwge1xuICAgICAgICBleHBpcmVzSW46IGNvbmZpZy5nZXQoJ2F1dGgudG9rZW5FeHBpcmVzSW4nKVxuICAgICAgfSk7XG4gICAgICBjb25zdCBmYWtlUmVxID0ge1xuICAgICAgICBib2R5OiB1c2VyXG4gICAgICB9O1xuICAgICAgY29uc3QgZmFrZVJlcyA9IHtcbiAgICAgICAgc2VuZDogc2lub24uc3B5KClcbiAgICAgIH07XG4gICAgICBjb25zdCB1c2Vyc0NvbnRyb2xsZXIgPSBuZXcgVXNlcnNDb250cm9sbGVyKGZha2VVc2VyTW9kZWwpO1xuICAgICAgYXdhaXQgdXNlcnNDb250cm9sbGVyLmF1dGhlbnRpY2F0ZShmYWtlUmVxLCBmYWtlUmVzKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGZha2VSZXMuc2VuZCwgeyB0b2tlbjogand0VG9rZW4gfSk7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gNDAxIHdoZW4gdGhlIHVzZXIgY2FuIG5vdCBiZSBmb3VuZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGZha2VVc2VyTW9kZWwgPSB7XG4gICAgICAgIGZpbmRPbmU6IHNpbm9uLnN0dWIoKVxuICAgICAgfTtcbiAgICAgIGZha2VVc2VyTW9kZWwuZmluZE9uZS5yZXNvbHZlcyhudWxsKTtcbiAgICAgIGNvbnN0IHVzZXIgPSB7XG4gICAgICAgIG5hbWU6ICdKaG9uIERvZScsXG4gICAgICAgIGVtYWlsOiAnamhvbmRvZUBtYWlsLmNvbScsXG4gICAgICAgIHBhc3N3b3JkOiAnMTIzNDUnLFxuICAgICAgICByb2xlOiAnYWRtaW4nXG4gICAgICB9O1xuICAgICAgY29uc3QgZmFrZVJlcSA9IHtcbiAgICAgICAgYm9keTogdXNlclxuICAgICAgfTtcbiAgICAgIGNvbnN0IGZha2VSZXMgPSB7XG4gICAgICAgIHNlbmRTdGF0dXM6IHNpbm9uLnNweSgpXG4gICAgICB9O1xuICAgICAgY29uc3QgdXNlcnNDb250cm9sbGVyID0gbmV3IFVzZXJzQ29udHJvbGxlcihmYWtlVXNlck1vZGVsKTtcbiAgICAgIGF3YWl0IHVzZXJzQ29udHJvbGxlci5hdXRoZW50aWNhdGUoZmFrZVJlcSwgZmFrZVJlcyk7XG4gICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChmYWtlUmVzLnNlbmRTdGF0dXMsIDQwMSk7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gNDAxIHdoZW4gdGhlIHBhc3N3b3JkIGRvZXMgbm90IG1hdGNoJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZmFrZVVzZXJNb2RlbCA9IHtcbiAgICAgICAgZmluZE9uZTogc2lub24uc3R1YigpXG4gICAgICB9O1xuICAgICAgY29uc3QgdXNlciA9IHtcbiAgICAgICAgbmFtZTogJ0pob24gRG9lJyxcbiAgICAgICAgZW1haWw6ICdqaG9uZG9lQG1haWwuY29tJyxcbiAgICAgICAgcGFzc3dvcmQ6ICcxMjM0NScsXG4gICAgICAgIHJvbGU6ICdhZG1pbidcbiAgICAgIH07XG4gICAgICBjb25zdCB1c2VyV2l0aERpZmZlcmVudFBhc3N3b3JkID0ge1xuICAgICAgICAuLi51c2VyLFxuICAgICAgICBwYXNzd29yZDogYmNyeXB0Lmhhc2hTeW5jKCdhbm90aGVyX3Bhc3N3b3JkJywgMTApXG4gICAgICB9O1xuICAgICAgZmFrZVVzZXJNb2RlbC5maW5kT25lLndpdGhBcmdzKHsgZW1haWw6IHVzZXIuZW1haWwgfSkucmVzb2x2ZXMoe1xuICAgICAgICAuLi51c2VyV2l0aERpZmZlcmVudFBhc3N3b3JkXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGZha2VSZXEgPSB7XG4gICAgICAgIGJvZHk6IHVzZXJcbiAgICAgIH07XG4gICAgICBjb25zdCBmYWtlUmVzID0ge1xuICAgICAgICBzZW5kU3RhdHVzOiBzaW5vbi5zcHkoKVxuICAgICAgfTtcbiAgICAgIGNvbnN0IHVzZXJzQ29udHJvbGxlciA9IG5ldyBVc2Vyc0NvbnRyb2xsZXIoZmFrZVVzZXJNb2RlbCk7XG5cbiAgICAgIGF3YWl0IHVzZXJzQ29udHJvbGxlci5hdXRoZW50aWNhdGUoZmFrZVJlcSwgZmFrZVJlcyk7XG4gICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChmYWtlUmVzLnNlbmRTdGF0dXMsIDQwMSk7XG4gICAgfSk7XG4gIH0pO1xuXG5cbn0pOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "users_spec.js"
      ],
      "names": [
        "UsersController",
        "require",
        "sinon",
        "jwt",
        "config",
        "bcrypt",
        "User",
        "describe",
        "defaultUser",
        "__v",
        "_id",
        "name",
        "email",
        "password",
        "role",
        "defaultRequest",
        "params",
        "it",
        "response",
        "send",
        "spy",
        "find",
        "stub",
        "withArgs",
        "resolves",
        "usersController",
        "get",
        "assert",
        "calledWith",
        "request",
        "status",
        "returns",
        "rejects",
        "message",
        "fakeId",
        "id",
        "getById",
        "requestWithBody",
        "Object",
        "assign",
        "body",
        "fakeUser",
        "save",
        "prototype",
        "create",
        "context",
        "updatedUser",
        "sendStatus",
        "findById",
        "fakeUserInstance",
        "saveSpy",
        "findByIdStub",
        "update",
        "calledOnce",
        "remove",
        "removeStub",
        "fakeUserModel",
        "findOne",
        "user",
        "userWithEncryptedPassword",
        "hashSync",
        "toJSON",
        "jwtToken",
        "sign",
        "expiresIn",
        "fakeReq",
        "fakeRes",
        "authenticate",
        "token",
        "userWithDifferentPassword"
      ],
      "mappings": ";;AAAA,MAAMA,eAAe,GAAGC,OAAO,CAAC,gCAAD,CAA/B;;AACA,MAAMC,KAAK,GAAGD,OAAO,CAAC,OAAD,CAArB;;AACA,MAAME,GAAG,GAAGF,OAAO,CAAC,cAAD,CAAnB;;AACA,MAAMG,MAAM,GAAGH,OAAO,CAAC,QAAD,CAAtB;;AACA,MAAMI,MAAM,GAAGJ,OAAO,CAAC,QAAD,CAAtB;;AACA,MAAMK,IAAI,GAAGL,OAAO,CAAC,2BAAD,CAApB;;AAEAM,QAAQ,CAAC,mBAAD,EAAsB,MAAM;AAClC,QAAMC,WAAW,GAAG,CAClB;AACEC,IAAAA,GAAG,EAAE,CADP;AAEEC,IAAAA,GAAG,EAAE,0BAFP;AAGEC,IAAAA,IAAI,EAAE,cAHR;AAIEC,IAAAA,KAAK,EAAE,eAJT;AAKEC,IAAAA,QAAQ,EAAE,UALZ;AAMEC,IAAAA,IAAI,EAAE;AANR,GADkB,CAApB;AAWA,QAAMC,cAAc,GAAG;AACrBC,IAAAA,MAAM,EAAE;AADa,GAAvB;AAIAT,EAAAA,QAAQ,CAAC,aAAD,EAAgB,MAAM;AAC5BU,IAAAA,EAAE,CAAC,+BAAD,EAAkC,YAAY;AAC9C,YAAMC,QAAQ,GAAG;AACfC,QAAAA,IAAI,EAAEjB,KAAK,CAACkB,GAAN;AADS,OAAjB;AAGAd,MAAAA,IAAI,CAACe,IAAL,GAAYnB,KAAK,CAACoB,IAAN,EAAZ;AAEAhB,MAAAA,IAAI,CAACe,IAAL,CAAUE,QAAV,CAAmB,EAAnB,EAAuBC,QAAvB,CAAgChB,WAAhC;AAEA,YAAMiB,eAAe,GAAG,IAAIzB,eAAJ,CAAoBM,IAApB,CAAxB;AAEA,YAAMmB,eAAe,CAACC,GAAhB,CAAoBX,cAApB,EAAoCG,QAApC,CAAN;AACAhB,MAAAA,KAAK,CAACyB,MAAN,CAAaC,UAAb,CAAwBV,QAAQ,CAACC,IAAjC,EAAuCX,WAAvC;AACD,KAZC,CAAF;AAaAS,IAAAA,EAAE,CAAC,wCAAD,EAA2C,YAAY;AACvD,YAAMY,OAAO,GAAG,EAAhB;AACA,YAAMX,QAAQ,GAAG;AACfC,QAAAA,IAAI,EAAEjB,KAAK,CAACkB,GAAN,EADS;AAEfU,QAAAA,MAAM,EAAE5B,KAAK,CAACoB,IAAN;AAFO,OAAjB;AAKAJ,MAAAA,QAAQ,CAACY,MAAT,CAAgBP,QAAhB,CAAyB,GAAzB,EAA8BQ,OAA9B,CAAsCb,QAAtC;AACAZ,MAAAA,IAAI,CAACe,IAAL,GAAYnB,KAAK,CAACoB,IAAN,EAAZ;AACAhB,MAAAA,IAAI,CAACe,IAAL,CAAUE,QAAV,CAAmB,EAAnB,EAAuBS,OAAvB,CAA+B;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAA/B;AAEA,YAAMR,eAAe,GAAG,IAAIzB,eAAJ,CAAoBM,IAApB,CAAxB;AAEA,YAAMmB,eAAe,CAACC,GAAhB,CAAoBG,OAApB,EAA6BX,QAA7B,CAAN;AACAhB,MAAAA,KAAK,CAACyB,MAAN,CAAaC,UAAb,CAAwBV,QAAQ,CAACC,IAAjC,EAAuC,OAAvC;AACD,KAfC,CAAF;AAgBD,GA9BO,CAAR;AAgCAZ,EAAAA,QAAQ,CAAC,WAAD,EAAc,MAAM;AAC1BU,IAAAA,EAAE,CAAC,gCAAD,EAAmC,YAAY;AAC/C,YAAMiB,MAAM,GAAG,WAAf;AACA,YAAML,OAAO,GAAG;AACdb,QAAAA,MAAM,EAAE;AACNmB,UAAAA,EAAE,EAAED;AADE;AADM,OAAhB;AAKA,YAAMhB,QAAQ,GAAG;AACfC,QAAAA,IAAI,EAAEjB,KAAK,CAACkB,GAAN;AADS,OAAjB;AAIAd,MAAAA,IAAI,CAACe,IAAL,GAAYnB,KAAK,CAACoB,IAAN,EAAZ;AACAhB,MAAAA,IAAI,CAACe,IAAL,CAAUE,QAAV,CAAmB;AAAEb,QAAAA,GAAG,EAAEwB;AAAP,OAAnB,EAAoCV,QAApC,CAA6ChB,WAA7C;AAEA,YAAMiB,eAAe,GAAG,IAAIzB,eAAJ,CAAoBM,IAApB,CAAxB;AAEA,YAAMmB,eAAe,CAACW,OAAhB,CAAwBP,OAAxB,EAAiCX,QAAjC,CAAN;AACAhB,MAAAA,KAAK,CAACyB,MAAN,CAAaC,UAAb,CAAwBV,QAAQ,CAACC,IAAjC,EAAuCX,WAAvC;AACD,KAlBC,CAAF;AAmBD,GApBO,CAAR;AAsBAD,EAAAA,QAAQ,CAAC,eAAD,EAAkB,MAAM;AAC9BU,IAAAA,EAAE,CAAC,kCAAD,EAAqC,YAAY;AACjD,YAAMoB,eAAe,GAAGC,MAAM,CAACC,MAAP,CACtB,EADsB,EAEtB;AAAEC,QAAAA,IAAI,EAAEhC,WAAW,CAAC,CAAD;AAAnB,OAFsB,EAGtBO,cAHsB,CAAxB;AAKA,YAAMG,QAAQ,GAAG;AACfC,QAAAA,IAAI,EAAEjB,KAAK,CAACkB,GAAN,EADS;AAEfU,QAAAA,MAAM,EAAE5B,KAAK,CAACoB,IAAN;AAFO,OAAjB;;AAKA,YAAMmB,QAAN,CAAe;AACbC,QAAAA,IAAI,GAAG,CAAG;;AADG;;AAIfxB,MAAAA,QAAQ,CAACY,MAAT,CAAgBP,QAAhB,CAAyB,GAAzB,EAA8BQ,OAA9B,CAAsCb,QAAtC;AACAhB,MAAAA,KAAK,CACFoB,IADH,CACQmB,QAAQ,CAACE,SADjB,EAC4B,MAD5B,EAEGpB,QAFH,GAGGC,QAHH;AAKA,YAAMC,eAAe,GAAG,IAAIzB,eAAJ,CAAoByC,QAApB,CAAxB;AAEA,YAAMhB,eAAe,CAACmB,MAAhB,CAAuBP,eAAvB,EAAwCnB,QAAxC,CAAN;AACAhB,MAAAA,KAAK,CAACyB,MAAN,CAAaC,UAAb,CAAwBV,QAAQ,CAACC,IAAjC;AACD,KAzBC,CAAF;AA0BD,GA3BO,CAAR;AA6BA0B,EAAAA,OAAO,CAAC,sBAAD,EAAyB,MAAM;AACpC5B,IAAAA,EAAE,CAAC,mBAAD,EAAsB,YAAY;AAClC,YAAMC,QAAQ,GAAG;AACfC,QAAAA,IAAI,EAAEjB,KAAK,CAACkB,GAAN,EADS;AAEfU,QAAAA,MAAM,EAAE5B,KAAK,CAACoB,IAAN;AAFO,OAAjB;;AAKA,YAAMmB,QAAN,CAAe;AACbC,QAAAA,IAAI,GAAG,CAAG;;AADG;;AAIfxB,MAAAA,QAAQ,CAACY,MAAT,CAAgBP,QAAhB,CAAyB,GAAzB,EAA8BQ,OAA9B,CAAsCb,QAAtC;AACAhB,MAAAA,KAAK,CACFoB,IADH,CACQmB,QAAQ,CAACE,SADjB,EAC4B,MAD5B,EAEGpB,QAFH,GAGGS,OAHH,CAGW;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAHX;AAKA,YAAMR,eAAe,GAAG,IAAIzB,eAAJ,CAAoByC,QAApB,CAAxB;AAEA,YAAMhB,eAAe,CAACmB,MAAhB,CAAuB7B,cAAvB,EAAuCG,QAAvC,CAAN;AACAhB,MAAAA,KAAK,CAACyB,MAAN,CAAaC,UAAb,CAAwBV,QAAQ,CAACY,MAAjC,EAAyC,GAAzC;AAED,KArBC,CAAF;AAsBD,GAvBM,CAAP;AAyBAvB,EAAAA,QAAQ,CAAC,eAAD,EAAkB,MAAM;AAC9BU,IAAAA,EAAE,CAAC,wDAAD,EAA2D,YAAY;AACvE,YAAMiB,MAAM,GAAG,WAAf;AACA,YAAMY,WAAW,GAAG;AAClBpC,QAAAA,GAAG,EAAEwB,MADa;AAElBvB,QAAAA,IAAI,EAAE,cAFY;AAGlBC,QAAAA,KAAK,EAAE,eAHW;AAIlBC,QAAAA,QAAQ,EAAE,UAJQ;AAKlBC,QAAAA,IAAI,EAAE;AALY,OAApB;AAOA,YAAMe,OAAO,GAAG;AACdb,QAAAA,MAAM,EAAE;AACNmB,UAAAA,EAAE,EAAED;AADE,SADM;AAIdM,QAAAA,IAAI,EAAEM;AAJQ,OAAhB;AAMA,YAAM5B,QAAQ,GAAG;AACf6B,QAAAA,UAAU,EAAE7C,KAAK,CAACkB,GAAN;AADG,OAAjB;;AAIA,YAAMqB,QAAN,CAAe;AACb,eAAOO,QAAP,GAAkB,CAAG;;AACrBN,QAAAA,IAAI,GAAG,CAAG;;AAFG;;AAIf,YAAMO,gBAAgB,GAAG,IAAIR,QAAJ,EAAzB;AAEA,YAAMS,OAAO,GAAGhD,KAAK,CAACkB,GAAN,CAAUqB,QAAQ,CAACE,SAAnB,EAA8B,MAA9B,CAAhB;AACA,YAAMQ,YAAY,GAAGjD,KAAK,CAACoB,IAAN,CAAWmB,QAAX,EAAqB,UAArB,CAArB;AACAU,MAAAA,YAAY,CAAC5B,QAAb,CAAsBW,MAAtB,EAA8BV,QAA9B,CAAuCyB,gBAAvC;AAEA,YAAMxB,eAAe,GAAG,IAAIzB,eAAJ,CAAoByC,QAApB,CAAxB;AACA,YAAMhB,eAAe,CAAC2B,MAAhB,CAAuBvB,OAAvB,EAAgCX,QAAhC,CAAN;AACAhB,MAAAA,KAAK,CAACyB,MAAN,CAAaC,UAAb,CAAwBV,QAAQ,CAAC6B,UAAjC,EAA6C,GAA7C;AACA7C,MAAAA,KAAK,CAACyB,MAAN,CAAa0B,UAAb,CAAwBH,OAAxB;AACD,KAjCC,CAAF;AAmCAL,IAAAA,OAAO,CAAC,sBAAD,EAAyB,MAAM;AACpC5B,MAAAA,EAAE,CAAC,mBAAD,EAAsB,YAAY;AAClC,cAAMiB,MAAM,GAAG,WAAf;AACA,cAAMY,WAAW,GAAG;AAClBpC,UAAAA,GAAG,EAAEwB,MADa;AAElBvB,UAAAA,IAAI,EAAE,cAFY;AAGlBC,UAAAA,KAAK,EAAE,eAHW;AAIlBC,UAAAA,QAAQ,EAAE,UAJQ;AAKlBC,UAAAA,IAAI,EAAE;AALY,SAApB;AAOA,cAAMe,OAAO,GAAG;AACdb,UAAAA,MAAM,EAAE;AACNmB,YAAAA,EAAE,EAAED;AADE,WADM;AAIdM,UAAAA,IAAI,EAAEM;AAJQ,SAAhB;AAMA,cAAM5B,QAAQ,GAAG;AACfC,UAAAA,IAAI,EAAEjB,KAAK,CAACkB,GAAN,EADS;AAEfU,UAAAA,MAAM,EAAE5B,KAAK,CAACoB,IAAN;AAFO,SAAjB;;AAKA,cAAMmB,QAAN,CAAe;AACb,iBAAOO,QAAP,GAAkB,CAAG;;AADR;;AAIf,cAAMG,YAAY,GAAGjD,KAAK,CAACoB,IAAN,CAAWmB,QAAX,EAAqB,UAArB,CAArB;AACAU,QAAAA,YAAY,CAAC5B,QAAb,CAAsBW,MAAtB,EAA8BF,OAA9B,CAAsC;AAAEC,UAAAA,OAAO,EAAE;AAAX,SAAtC;AACAf,QAAAA,QAAQ,CAACY,MAAT,CAAgBP,QAAhB,CAAyB,GAAzB,EAA8BQ,OAA9B,CAAsCb,QAAtC;AAEA,cAAMO,eAAe,GAAG,IAAIzB,eAAJ,CAAoByC,QAApB,CAAxB;AAEA,cAAMhB,eAAe,CAAC2B,MAAhB,CAAuBvB,OAAvB,EAAgCX,QAAhC,CAAN;AACAhB,QAAAA,KAAK,CAACyB,MAAN,CAAaC,UAAb,CAAwBV,QAAQ,CAACC,IAAjC,EAAuC,OAAvC;AACD,OAhCC,CAAF;AAiCD,KAlCM,CAAP;AAmCD,GAvEO,CAAR;AAyEAZ,EAAAA,QAAQ,CAAC,eAAD,EAAkB,MAAM;AAC9BU,IAAAA,EAAE,CAAC,wDAAD,EAA2D,YAAY;AACvE,YAAMiB,MAAM,GAAG,WAAf;AACA,YAAML,OAAO,GAAG;AACdb,QAAAA,MAAM,EAAE;AACNmB,UAAAA,EAAE,EAAED;AADE;AADM,OAAhB;AAKA,YAAMhB,QAAQ,GAAG;AACf6B,QAAAA,UAAU,EAAE7C,KAAK,CAACkB,GAAN;AADG,OAAjB;;AAIA,YAAMqB,QAAN,CAAe;AACb,eAAOa,MAAP,GAAgB,CAAG;;AADN;;AAIf,YAAMC,UAAU,GAAGrD,KAAK,CAACoB,IAAN,CAAWmB,QAAX,EAAqB,QAArB,CAAnB;AAEAc,MAAAA,UAAU,CAAChC,QAAX,CAAoB;AAAEb,QAAAA,GAAG,EAAEwB;AAAP,OAApB,EAAqCV,QAArC,CAA8C,CAAC,CAAD,CAA9C;AAEA,YAAMC,eAAe,GAAG,IAAIzB,eAAJ,CAAoByC,QAApB,CAAxB;AAEA,YAAMhB,eAAe,CAAC6B,MAAhB,CAAuBzB,OAAvB,EAAgCX,QAAhC,CAAN;AACAhB,MAAAA,KAAK,CAACyB,MAAN,CAAaC,UAAb,CAAwBV,QAAQ,CAAC6B,UAAjC,EAA6C,GAA7C;AACD,KAvBC,CAAF;AAyBAF,IAAAA,OAAO,CAAC,sBAAD,EAAyB,MAAM;AACpC5B,MAAAA,EAAE,CAAC,mBAAD,EAAsB,YAAY;AAClC,cAAMiB,MAAM,GAAG,WAAf;AACA,cAAML,OAAO,GAAG;AACdb,UAAAA,MAAM,EAAE;AACNmB,YAAAA,EAAE,EAAED;AADE;AADM,SAAhB;AAKA,cAAMhB,QAAQ,GAAG;AACfC,UAAAA,IAAI,EAAEjB,KAAK,CAACkB,GAAN,EADS;AAEfU,UAAAA,MAAM,EAAE5B,KAAK,CAACoB,IAAN;AAFO,SAAjB;;AAKA,cAAMmB,QAAN,CAAe;AACb,iBAAOa,MAAP,GAAgB,CAAG;;AADN;;AAIf,cAAMC,UAAU,GAAGrD,KAAK,CAACoB,IAAN,CAAWmB,QAAX,EAAqB,QAArB,CAAnB;AACAc,QAAAA,UAAU,CAAChC,QAAX,CAAoB;AAAEb,UAAAA,GAAG,EAAEwB;AAAP,SAApB,EAAqCF,OAArC,CAA6C;AAAEC,UAAAA,OAAO,EAAE;AAAX,SAA7C;AACAf,QAAAA,QAAQ,CAACY,MAAT,CAAgBP,QAAhB,CAAyB,GAAzB,EAA8BQ,OAA9B,CAAsCb,QAAtC;AAEA,cAAMO,eAAe,GAAG,IAAIzB,eAAJ,CAAoByC,QAApB,CAAxB;AAEA,cAAMhB,eAAe,CAAC6B,MAAhB,CAAuBzB,OAAvB,EAAgCX,QAAhC,CAAN;AACAhB,QAAAA,KAAK,CAACyB,MAAN,CAAaC,UAAb,CAAwBV,QAAQ,CAACC,IAAjC,EAAuC,OAAvC;AACD,OAxBC,CAAF;AAyBD,KA1BM,CAAP;AA2BD,GArDO,CAAR;AAuDAZ,EAAAA,QAAQ,CAAC,cAAD,EAAiB,MAAM;AAC7BU,IAAAA,EAAE,CAAC,4BAAD,EAA+B,YAAY;AAC3C,YAAMuC,aAAa,GAAG;AACpBC,QAAAA,OAAO,EAAEvD,KAAK,CAACoB,IAAN;AADW,OAAtB;AAGA,YAAMoC,IAAI,GAAG;AACX/C,QAAAA,IAAI,EAAE,UADK;AAEXC,QAAAA,KAAK,EAAE,kBAFI;AAGXC,QAAAA,QAAQ,EAAE,OAHC;AAIXC,QAAAA,IAAI,EAAE;AAJK,OAAb;AAMA,YAAM6C,yBAAyB,GAAG,EAAE,GAAGD,IAAL;AAAW7C,QAAAA,QAAQ,EAAER,MAAM,CAACuD,QAAP,CAAgBF,IAAI,CAAC7C,QAArB,EAA+B,EAA/B;AAArB,OAAlC;AACA2C,MAAAA,aAAa,CAACC,OAAd,CAAsBlC,QAAtB,CAA+B;AAAEX,QAAAA,KAAK,EAAE8C,IAAI,CAAC9C;AAAd,OAA/B,EAAsDY,QAAtD,CAA+D,EAC7D,GAAGmC,yBAD0D;AAE7DE,QAAAA,MAAM,EAAE,OAAO;AAAEjD,UAAAA,KAAK,EAAE8C,IAAI,CAAC9C;AAAd,SAAP;AAFqD,OAA/D;AAKA,YAAMkD,QAAQ,GAAG3D,GAAG,CAAC4D,IAAJ,CAASJ,yBAAT,EAAoCvD,MAAM,CAACsB,GAAP,CAAW,UAAX,CAApC,EAA4D;AAC3EsC,QAAAA,SAAS,EAAE5D,MAAM,CAACsB,GAAP,CAAW,qBAAX;AADgE,OAA5D,CAAjB;AAGA,YAAMuC,OAAO,GAAG;AACdzB,QAAAA,IAAI,EAAEkB;AADQ,OAAhB;AAGA,YAAMQ,OAAO,GAAG;AACd/C,QAAAA,IAAI,EAAEjB,KAAK,CAACkB,GAAN;AADQ,OAAhB;AAGA,YAAMK,eAAe,GAAG,IAAIzB,eAAJ,CAAoBwD,aAApB,CAAxB;AACA,YAAM/B,eAAe,CAAC0C,YAAhB,CAA6BF,OAA7B,EAAsCC,OAAtC,CAAN;AACAhE,MAAAA,KAAK,CAACyB,MAAN,CAAaC,UAAb,CAAwBsC,OAAO,CAAC/C,IAAhC,EAAsC;AAAEiD,QAAAA,KAAK,EAAEN;AAAT,OAAtC;AACD,KA5BC,CAAF;AA6BA7C,IAAAA,EAAE,CAAC,kDAAD,EAAqD,YAAY;AACjE,YAAMuC,aAAa,GAAG;AACpBC,QAAAA,OAAO,EAAEvD,KAAK,CAACoB,IAAN;AADW,OAAtB;AAGAkC,MAAAA,aAAa,CAACC,OAAd,CAAsBjC,QAAtB,CAA+B,IAA/B;AACA,YAAMkC,IAAI,GAAG;AACX/C,QAAAA,IAAI,EAAE,UADK;AAEXC,QAAAA,KAAK,EAAE,kBAFI;AAGXC,QAAAA,QAAQ,EAAE,OAHC;AAIXC,QAAAA,IAAI,EAAE;AAJK,OAAb;AAMA,YAAMmD,OAAO,GAAG;AACdzB,QAAAA,IAAI,EAAEkB;AADQ,OAAhB;AAGA,YAAMQ,OAAO,GAAG;AACdnB,QAAAA,UAAU,EAAE7C,KAAK,CAACkB,GAAN;AADE,OAAhB;AAGA,YAAMK,eAAe,GAAG,IAAIzB,eAAJ,CAAoBwD,aAApB,CAAxB;AACA,YAAM/B,eAAe,CAAC0C,YAAhB,CAA6BF,OAA7B,EAAsCC,OAAtC,CAAN;AACAhE,MAAAA,KAAK,CAACyB,MAAN,CAAaC,UAAb,CAAwBsC,OAAO,CAACnB,UAAhC,EAA4C,GAA5C;AACD,KApBC,CAAF;AAqBA9B,IAAAA,EAAE,CAAC,oDAAD,EAAuD,YAAY;AACnE,YAAMuC,aAAa,GAAG;AACpBC,QAAAA,OAAO,EAAEvD,KAAK,CAACoB,IAAN;AADW,OAAtB;AAGA,YAAMoC,IAAI,GAAG;AACX/C,QAAAA,IAAI,EAAE,UADK;AAEXC,QAAAA,KAAK,EAAE,kBAFI;AAGXC,QAAAA,QAAQ,EAAE,OAHC;AAIXC,QAAAA,IAAI,EAAE;AAJK,OAAb;AAMA,YAAMuD,yBAAyB,GAAG,EAChC,GAAGX,IAD6B;AAEhC7C,QAAAA,QAAQ,EAAER,MAAM,CAACuD,QAAP,CAAgB,kBAAhB,EAAoC,EAApC;AAFsB,OAAlC;AAIAJ,MAAAA,aAAa,CAACC,OAAd,CAAsBlC,QAAtB,CAA+B;AAAEX,QAAAA,KAAK,EAAE8C,IAAI,CAAC9C;AAAd,OAA/B,EAAsDY,QAAtD,CAA+D,EAC7D,GAAG6C;AAD0D,OAA/D;AAGA,YAAMJ,OAAO,GAAG;AACdzB,QAAAA,IAAI,EAAEkB;AADQ,OAAhB;AAGA,YAAMQ,OAAO,GAAG;AACdnB,QAAAA,UAAU,EAAE7C,KAAK,CAACkB,GAAN;AADE,OAAhB;AAGA,YAAMK,eAAe,GAAG,IAAIzB,eAAJ,CAAoBwD,aAApB,CAAxB;AAEA,YAAM/B,eAAe,CAAC0C,YAAhB,CAA6BF,OAA7B,EAAsCC,OAAtC,CAAN;AACAhE,MAAAA,KAAK,CAACyB,MAAN,CAAaC,UAAb,CAAwBsC,OAAO,CAACnB,UAAhC,EAA4C,GAA5C;AACD,KA3BC,CAAF;AA4BD,GA/EO,CAAR;AAkFD,CA9UO,CAAR",
      "sourceRoot": "/home/wn/VSCode/back/appTest/test/unit/controllers/",
      "sourcesContent": [
        "const UsersController = require(\"../../../src/controllers/users\");\nconst sinon = require(\"sinon\");\nconst jwt = require(\"jsonwebtoken\");\nconst config = require(\"config\");\nconst bcrypt = require(\"bcrypt\");\nconst User = require(\"../../../src/models/users\");\n\ndescribe('Controller: Users', () => {\n  const defaultUser = [\n    {\n      __v: 0,\n      _id: '56cb91bdc3464f14678934ca',\n      name: 'Default User',\n      email: 'user@mail.com',\n      password: 'password',\n      role: 'user'\n    }\n  ];\n\n  const defaultRequest = {\n    params: {}\n  };\n\n  describe('get() users', () => {\n    it('should return a list of users', async () => {\n      const response = {\n        send: sinon.spy()\n      };\n      User.find = sinon.stub();\n\n      User.find.withArgs({}).resolves(defaultUser);\n\n      const usersController = new UsersController(User);\n\n      await usersController.get(defaultRequest, response);\n      sinon.assert.calledWith(response.send, defaultUser);\n    });\n    it('should return 400 when an error occurs', async () => {\n      const request = {};\n      const response = {\n        send: sinon.spy(),\n        status: sinon.stub()\n      };\n\n      response.status.withArgs(400).returns(response);\n      User.find = sinon.stub();\n      User.find.withArgs({}).rejects({ message: 'Error' });\n\n      const usersController = new UsersController(User);\n\n      await usersController.get(request, response);\n      sinon.assert.calledWith(response.send, 'Error');\n    });\n  });\n\n  describe('getById()', () => {\n    it('should call send with one user', async () => {\n      const fakeId = 'a-fake-id';\n      const request = {\n        params: {\n          id: fakeId\n        }\n      };\n      const response = {\n        send: sinon.spy()\n      };\n\n      User.find = sinon.stub();\n      User.find.withArgs({ _id: fakeId }).resolves(defaultUser);\n\n      const usersController = new UsersController(User);\n\n      await usersController.getById(request, response);\n      sinon.assert.calledWith(response.send, defaultUser);\n    });\n  });\n\n  describe('create() user', () => {\n    it('should call send with a new user', async () => {\n      const requestWithBody = Object.assign(\n        {},\n        { body: defaultUser[0] },\n        defaultRequest\n      );\n      const response = {\n        send: sinon.spy(),\n        status: sinon.stub()\n      };\n\n      class fakeUser {\n        save() { }\n      }\n\n      response.status.withArgs(201).returns(response);\n      sinon\n        .stub(fakeUser.prototype, 'save')\n        .withArgs()\n        .resolves();\n\n      const usersController = new UsersController(fakeUser);\n\n      await usersController.create(requestWithBody, response);\n      sinon.assert.calledWith(response.send);\n    });\n  });\n\n  context('when an error occurs', () => {\n    it('should return 422', async () => {\n      const response = {\n        send: sinon.spy(),\n        status: sinon.stub()\n      };\n\n      class fakeUser {\n        save() { }\n      }\n\n      response.status.withArgs(422).returns(response);\n      sinon\n        .stub(fakeUser.prototype, 'save')\n        .withArgs()\n        .rejects({ message: 'Error' });\n\n      const usersController = new UsersController(fakeUser);\n\n      await usersController.create(defaultRequest, response);\n      sinon.assert.calledWith(response.status, 422);\n\n    });\n  });\n\n  describe('update() user', () => {\n    it('should respond with 200 when the user has been updated', async () => {\n      const fakeId = 'a-fake-id';\n      const updatedUser = {\n        _id: fakeId,\n        name: 'Updated User',\n        email: 'user@mail.com',\n        password: 'password',\n        role: 'user'\n      };\n      const request = {\n        params: {\n          id: fakeId\n        },\n        body: updatedUser\n      };\n      const response = {\n        sendStatus: sinon.spy()\n      };\n\n      class fakeUser {\n        static findById() { }\n        save() { }\n      }\n      const fakeUserInstance = new fakeUser();\n\n      const saveSpy = sinon.spy(fakeUser.prototype, 'save');\n      const findByIdStub = sinon.stub(fakeUser, 'findById');\n      findByIdStub.withArgs(fakeId).resolves(fakeUserInstance);\n\n      const usersController = new UsersController(fakeUser);\n      await usersController.update(request, response);\n      sinon.assert.calledWith(response.sendStatus, 200);\n      sinon.assert.calledOnce(saveSpy);\n    });\n\n    context('when an error occurs', () => {\n      it('should return 422', async () => {\n        const fakeId = 'a-fake-id';\n        const updatedUser = {\n          _id: fakeId,\n          name: 'Updated User',\n          email: 'user@mail.com',\n          password: 'password',\n          role: 'user'\n        };\n        const request = {\n          params: {\n            id: fakeId\n          },\n          body: updatedUser\n        };\n        const response = {\n          send: sinon.spy(),\n          status: sinon.stub()\n        };\n\n        class fakeUser {\n          static findById() { }\n        }\n\n        const findByIdStub = sinon.stub(fakeUser, 'findById');\n        findByIdStub.withArgs(fakeId).rejects({ message: 'Error' });\n        response.status.withArgs(422).returns(response);\n\n        const usersController = new UsersController(fakeUser);\n\n        await usersController.update(request, response);\n        sinon.assert.calledWith(response.send, 'Error');\n      });\n    });\n  });\n\n  describe('delete() user', () => {\n    it('should respond with 204 when the user has been deleted', async () => {\n      const fakeId = 'a-fake-id';\n      const request = {\n        params: {\n          id: fakeId\n        }\n      };\n      const response = {\n        sendStatus: sinon.spy()\n      };\n\n      class fakeUser {\n        static remove() { }\n      }\n\n      const removeStub = sinon.stub(fakeUser, 'remove');\n\n      removeStub.withArgs({ _id: fakeId }).resolves([1]);\n\n      const usersController = new UsersController(fakeUser);\n\n      await usersController.remove(request, response);\n      sinon.assert.calledWith(response.sendStatus, 204);\n    });\n\n    context('when an error occurs', () => {\n      it('should return 400', async () => {\n        const fakeId = 'a-fake-id';\n        const request = {\n          params: {\n            id: fakeId\n          }\n        };\n        const response = {\n          send: sinon.spy(),\n          status: sinon.stub()\n        };\n\n        class fakeUser {\n          static remove() { }\n        }\n\n        const removeStub = sinon.stub(fakeUser, 'remove');\n        removeStub.withArgs({ _id: fakeId }).rejects({ message: 'Error' });\n        response.status.withArgs(400).returns(response);\n\n        const usersController = new UsersController(fakeUser);\n\n        await usersController.remove(request, response);\n        sinon.assert.calledWith(response.send, 'Error');\n      });\n    });\n  });\n\n  describe('authenticate', () => {\n    it('should authenticate a user', async () => {\n      const fakeUserModel = {\n        findOne: sinon.stub()\n      };\n      const user = {\n        name: 'Jhon Doe',\n        email: 'jhondoe@mail.com',\n        password: '12345',\n        role: 'admin'\n      };\n      const userWithEncryptedPassword = { ...user, password: bcrypt.hashSync(user.password, 10) };\n      fakeUserModel.findOne.withArgs({ email: user.email }).resolves({\n        ...userWithEncryptedPassword,\n        toJSON: () => ({ email: user.email })\n      });\n\n      const jwtToken = jwt.sign(userWithEncryptedPassword, config.get('auth.key'), {\n        expiresIn: config.get('auth.tokenExpiresIn')\n      });\n      const fakeReq = {\n        body: user\n      };\n      const fakeRes = {\n        send: sinon.spy()\n      };\n      const usersController = new UsersController(fakeUserModel);\n      await usersController.authenticate(fakeReq, fakeRes);\n      sinon.assert.calledWith(fakeRes.send, { token: jwtToken });\n    });\n    it('should return 401 when the user can not be found', async () => {\n      const fakeUserModel = {\n        findOne: sinon.stub()\n      };\n      fakeUserModel.findOne.resolves(null);\n      const user = {\n        name: 'Jhon Doe',\n        email: 'jhondoe@mail.com',\n        password: '12345',\n        role: 'admin'\n      };\n      const fakeReq = {\n        body: user\n      };\n      const fakeRes = {\n        sendStatus: sinon.spy()\n      };\n      const usersController = new UsersController(fakeUserModel);\n      await usersController.authenticate(fakeReq, fakeRes);\n      sinon.assert.calledWith(fakeRes.sendStatus, 401);\n    });\n    it('should return 401 when the password does not match', async () => {\n      const fakeUserModel = {\n        findOne: sinon.stub()\n      };\n      const user = {\n        name: 'Jhon Doe',\n        email: 'jhondoe@mail.com',\n        password: '12345',\n        role: 'admin'\n      };\n      const userWithDifferentPassword = {\n        ...user,\n        password: bcrypt.hashSync('another_password', 10)\n      };\n      fakeUserModel.findOne.withArgs({ email: user.email }).resolves({\n        ...userWithDifferentPassword\n      });\n      const fakeReq = {\n        body: user\n      };\n      const fakeRes = {\n        sendStatus: sinon.spy()\n      };\n      const usersController = new UsersController(fakeUserModel);\n\n      await usersController.authenticate(fakeReq, fakeRes);\n      sinon.assert.calledWith(fakeRes.sendStatus, 401);\n    });\n  });\n\n\n});"
      ]
    },
    "sourceType": "script",
    "mtime": 1601216887808
  },
  "{\"sourceRoot\":\"/home/wn/VSCode/back/appTest/src/controllers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/wn/VSCode/back/appTest\",\"filename\":\"/home/wn/VSCode/back/appTest/src/controllers/users.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/home/wn/VSCode/back/appTest\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6:test": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/controllers/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/wn/VSCode/back/appTest",
      "filename": "/home/wn/VSCode/back/appTest/src/controllers/users.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "test",
      "root": "/home/wn/VSCode/back/appTest",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/wn/VSCode/back/appTest/src/controllers/users.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/wn/VSCode/back/appTest/src/controllers/users.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/wn/VSCode/back/appTest/src/controllers/",
        "sourceFileName": "users.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nclass UsersController {\n  constructor(User, AuthService) {\n    this.User = User;\n    this.AuthService = AuthService;\n  }\n\n  async authenticate(req, res) {\n    const authService = new this.AuthService(this.User);\n    const user = await authService.authenticate(req.body);\n\n    if (!user) {\n      return res.sendStatus(401);\n    }\n\n    const token = this.AuthService.generateToken({\n      name: user.name,\n      email: user.email,\n      password: user.password,\n      role: user.role\n    }, config.get('auth.key'), {\n      expiresIn: config.get('auth.tokenExpiresIn')\n    });\n    return res.send({\n      token\n    });\n  }\n\n  async get(req, res) {\n    try {\n      const users = await this.User.find({});\n      res.send(users);\n    } catch (err) {\n      res.status(400).send(err.message);\n    }\n  }\n\n  async getById(req, res) {\n    const {\n      params: {\n        id\n      }\n    } = req;\n\n    try {\n      const user = await this.User.find({\n        _id: id\n      });\n      res.send(user);\n    } catch (err) {\n      res.status(400).send(err.message);\n    }\n  }\n\n  async create(req, res) {\n    const user = new this.User(req.body);\n\n    try {\n      await user.save();\n      res.status(201).send(user);\n    } catch (err) {\n      res.status(422).send(err.message);\n    }\n  }\n\n  async update(req, res) {\n    const body = req.body;\n\n    try {\n      const user = await this.User.findById(req.params.id);\n      user.name = body.name;\n      user.email = body.email;\n      user.role = body.role;\n      if (body.password) user.password = body.password;\n      await user.save();\n      res.sendStatus(200);\n    } catch (err) {\n      res.status(422).send(err.message);\n    }\n  }\n\n  async remove(req, res) {\n    try {\n      await this.User.deleteOne({\n        _id: req.params.id\n      });\n      res.sendStatus(200);\n    } catch (err) {\n      res.status(400).send(err.message);\n    }\n  }\n\n}\n\nmodule.exports = UsersController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJzLmpzIl0sIm5hbWVzIjpbIlVzZXJzQ29udHJvbGxlciIsImNvbnN0cnVjdG9yIiwiVXNlciIsIkF1dGhTZXJ2aWNlIiwiYXV0aGVudGljYXRlIiwicmVxIiwicmVzIiwiYXV0aFNlcnZpY2UiLCJ1c2VyIiwiYm9keSIsInNlbmRTdGF0dXMiLCJ0b2tlbiIsImdlbmVyYXRlVG9rZW4iLCJuYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsInJvbGUiLCJjb25maWciLCJnZXQiLCJleHBpcmVzSW4iLCJzZW5kIiwidXNlcnMiLCJmaW5kIiwiZXJyIiwic3RhdHVzIiwibWVzc2FnZSIsImdldEJ5SWQiLCJwYXJhbXMiLCJpZCIsIl9pZCIsImNyZWF0ZSIsInNhdmUiLCJ1cGRhdGUiLCJmaW5kQnlJZCIsInJlbW92ZSIsImRlbGV0ZU9uZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsZUFBTixDQUFzQjtBQUNwQkMsRUFBQUEsV0FBVyxDQUFDQyxJQUFELEVBQU9DLFdBQVAsRUFBb0I7QUFDN0IsU0FBS0QsSUFBTCxHQUFZQSxJQUFaO0FBQ0EsU0FBS0MsV0FBTCxHQUFtQkEsV0FBbkI7QUFDRDs7QUFFRCxRQUFNQyxZQUFOLENBQW1CQyxHQUFuQixFQUF3QkMsR0FBeEIsRUFBNkI7QUFDM0IsVUFBTUMsV0FBVyxHQUFHLElBQUksS0FBS0osV0FBVCxDQUFxQixLQUFLRCxJQUExQixDQUFwQjtBQUNBLFVBQU1NLElBQUksR0FBRyxNQUFNRCxXQUFXLENBQUNILFlBQVosQ0FBeUJDLEdBQUcsQ0FBQ0ksSUFBN0IsQ0FBbkI7O0FBQ0EsUUFBSSxDQUFDRCxJQUFMLEVBQVc7QUFDVCxhQUFPRixHQUFHLENBQUNJLFVBQUosQ0FBZSxHQUFmLENBQVA7QUFDRDs7QUFDRCxVQUFNQyxLQUFLLEdBQUcsS0FBS1IsV0FBTCxDQUFpQlMsYUFBakIsQ0FBK0I7QUFDM0NDLE1BQUFBLElBQUksRUFBRUwsSUFBSSxDQUFDSyxJQURnQztBQUUzQ0MsTUFBQUEsS0FBSyxFQUFFTixJQUFJLENBQUNNLEtBRitCO0FBRzNDQyxNQUFBQSxRQUFRLEVBQUVQLElBQUksQ0FBQ08sUUFINEI7QUFJM0NDLE1BQUFBLElBQUksRUFBRVIsSUFBSSxDQUFDUTtBQUpnQyxLQUEvQixFQUtYQyxNQUFNLENBQUNDLEdBQVAsQ0FBVyxVQUFYLENBTFcsRUFLYTtBQUN6QkMsTUFBQUEsU0FBUyxFQUFFRixNQUFNLENBQUNDLEdBQVAsQ0FBVyxxQkFBWDtBQURjLEtBTGIsQ0FBZDtBQVFBLFdBQU9aLEdBQUcsQ0FBQ2MsSUFBSixDQUFTO0FBQUVULE1BQUFBO0FBQUYsS0FBVCxDQUFQO0FBQ0Q7O0FBRUQsUUFBTU8sR0FBTixDQUFVYixHQUFWLEVBQWVDLEdBQWYsRUFBb0I7QUFDbEIsUUFBSTtBQUNGLFlBQU1lLEtBQUssR0FBRyxNQUFNLEtBQUtuQixJQUFMLENBQVVvQixJQUFWLENBQWUsRUFBZixDQUFwQjtBQUNBaEIsTUFBQUEsR0FBRyxDQUFDYyxJQUFKLENBQVNDLEtBQVQ7QUFDRCxLQUhELENBR0UsT0FBT0UsR0FBUCxFQUFZO0FBQ1pqQixNQUFBQSxHQUFHLENBQUNrQixNQUFKLENBQVcsR0FBWCxFQUFnQkosSUFBaEIsQ0FBcUJHLEdBQUcsQ0FBQ0UsT0FBekI7QUFDRDtBQUNGOztBQUVELFFBQU1DLE9BQU4sQ0FBY3JCLEdBQWQsRUFBbUJDLEdBQW5CLEVBQXdCO0FBQ3RCLFVBQU07QUFDSnFCLE1BQUFBLE1BQU0sRUFBRTtBQUFFQyxRQUFBQTtBQUFGO0FBREosUUFFRnZCLEdBRko7O0FBSUEsUUFBSTtBQUNGLFlBQU1HLElBQUksR0FBRyxNQUFNLEtBQUtOLElBQUwsQ0FBVW9CLElBQVYsQ0FBZTtBQUFFTyxRQUFBQSxHQUFHLEVBQUVEO0FBQVAsT0FBZixDQUFuQjtBQUNBdEIsTUFBQUEsR0FBRyxDQUFDYyxJQUFKLENBQVNaLElBQVQ7QUFDRCxLQUhELENBR0UsT0FBT2UsR0FBUCxFQUFZO0FBQ1pqQixNQUFBQSxHQUFHLENBQUNrQixNQUFKLENBQVcsR0FBWCxFQUFnQkosSUFBaEIsQ0FBcUJHLEdBQUcsQ0FBQ0UsT0FBekI7QUFDRDtBQUVGOztBQUNELFFBQU1LLE1BQU4sQ0FBYXpCLEdBQWIsRUFBa0JDLEdBQWxCLEVBQXVCO0FBQ3JCLFVBQU1FLElBQUksR0FBRyxJQUFJLEtBQUtOLElBQVQsQ0FBY0csR0FBRyxDQUFDSSxJQUFsQixDQUFiOztBQUVBLFFBQUk7QUFDRixZQUFNRCxJQUFJLENBQUN1QixJQUFMLEVBQU47QUFDQXpCLE1BQUFBLEdBQUcsQ0FBQ2tCLE1BQUosQ0FBVyxHQUFYLEVBQWdCSixJQUFoQixDQUFxQlosSUFBckI7QUFDRCxLQUhELENBR0UsT0FBT2UsR0FBUCxFQUFZO0FBQ1pqQixNQUFBQSxHQUFHLENBQUNrQixNQUFKLENBQVcsR0FBWCxFQUFnQkosSUFBaEIsQ0FBcUJHLEdBQUcsQ0FBQ0UsT0FBekI7QUFDRDtBQUVGOztBQUVELFFBQU1PLE1BQU4sQ0FBYTNCLEdBQWIsRUFBa0JDLEdBQWxCLEVBQXVCO0FBQ3JCLFVBQU1HLElBQUksR0FBR0osR0FBRyxDQUFDSSxJQUFqQjs7QUFDQSxRQUFJO0FBQ0YsWUFBTUQsSUFBSSxHQUFHLE1BQU0sS0FBS04sSUFBTCxDQUFVK0IsUUFBVixDQUFtQjVCLEdBQUcsQ0FBQ3NCLE1BQUosQ0FBV0MsRUFBOUIsQ0FBbkI7QUFFQXBCLE1BQUFBLElBQUksQ0FBQ0ssSUFBTCxHQUFZSixJQUFJLENBQUNJLElBQWpCO0FBQ0FMLE1BQUFBLElBQUksQ0FBQ00sS0FBTCxHQUFhTCxJQUFJLENBQUNLLEtBQWxCO0FBQ0FOLE1BQUFBLElBQUksQ0FBQ1EsSUFBTCxHQUFZUCxJQUFJLENBQUNPLElBQWpCO0FBQ0EsVUFBSVAsSUFBSSxDQUFDTSxRQUFULEVBQW1CUCxJQUFJLENBQUNPLFFBQUwsR0FBZ0JOLElBQUksQ0FBQ00sUUFBckI7QUFFbkIsWUFBTVAsSUFBSSxDQUFDdUIsSUFBTCxFQUFOO0FBQ0F6QixNQUFBQSxHQUFHLENBQUNJLFVBQUosQ0FBZSxHQUFmO0FBQ0QsS0FWRCxDQVVFLE9BQU9hLEdBQVAsRUFBWTtBQUNaakIsTUFBQUEsR0FBRyxDQUFDa0IsTUFBSixDQUFXLEdBQVgsRUFBZ0JKLElBQWhCLENBQXFCRyxHQUFHLENBQUNFLE9BQXpCO0FBQ0Q7QUFDRjs7QUFFRCxRQUFNUyxNQUFOLENBQWE3QixHQUFiLEVBQWtCQyxHQUFsQixFQUF1QjtBQUNyQixRQUFJO0FBQ0YsWUFBTSxLQUFLSixJQUFMLENBQVVpQyxTQUFWLENBQW9CO0FBQUVOLFFBQUFBLEdBQUcsRUFBRXhCLEdBQUcsQ0FBQ3NCLE1BQUosQ0FBV0M7QUFBbEIsT0FBcEIsQ0FBTjtBQUNBdEIsTUFBQUEsR0FBRyxDQUFDSSxVQUFKLENBQWUsR0FBZjtBQUNELEtBSEQsQ0FHRSxPQUFPYSxHQUFQLEVBQVk7QUFDWmpCLE1BQUFBLEdBQUcsQ0FBQ2tCLE1BQUosQ0FBVyxHQUFYLEVBQWdCSixJQUFoQixDQUFxQkcsR0FBRyxDQUFDRSxPQUF6QjtBQUNEO0FBQ0Y7O0FBakZtQjs7QUFxRnRCVyxNQUFNLENBQUNDLE9BQVAsR0FBaUJyQyxlQUFqQiIsInNvdXJjZVJvb3QiOiIvaG9tZS93bi9WU0NvZGUvYmFjay9hcHBUZXN0L3NyYy9jb250cm9sbGVycy8iLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBVc2Vyc0NvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3RvcihVc2VyLCBBdXRoU2VydmljZSkge1xuICAgIHRoaXMuVXNlciA9IFVzZXI7XG4gICAgdGhpcy5BdXRoU2VydmljZSA9IEF1dGhTZXJ2aWNlO1xuICB9XG5cbiAgYXN5bmMgYXV0aGVudGljYXRlKHJlcSwgcmVzKSB7XG4gICAgY29uc3QgYXV0aFNlcnZpY2UgPSBuZXcgdGhpcy5BdXRoU2VydmljZSh0aGlzLlVzZXIpO1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBhdXRoU2VydmljZS5hdXRoZW50aWNhdGUocmVxLmJvZHkpO1xuICAgIGlmICghdXNlcikge1xuICAgICAgcmV0dXJuIHJlcy5zZW5kU3RhdHVzKDQwMSk7XG4gICAgfVxuICAgIGNvbnN0IHRva2VuID0gdGhpcy5BdXRoU2VydmljZS5nZW5lcmF0ZVRva2VuKHtcbiAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgcGFzc3dvcmQ6IHVzZXIucGFzc3dvcmQsXG4gICAgICByb2xlOiB1c2VyLnJvbGVcbiAgICB9LCBjb25maWcuZ2V0KCdhdXRoLmtleScpLCB7XG4gICAgICBleHBpcmVzSW46IGNvbmZpZy5nZXQoJ2F1dGgudG9rZW5FeHBpcmVzSW4nKVxuICAgIH0pO1xuICAgIHJldHVybiByZXMuc2VuZCh7IHRva2VuIH0pO1xuICB9XG5cbiAgYXN5bmMgZ2V0KHJlcSwgcmVzKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVzZXJzID0gYXdhaXQgdGhpcy5Vc2VyLmZpbmQoe30pO1xuICAgICAgcmVzLnNlbmQodXNlcnMpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmVzLnN0YXR1cyg0MDApLnNlbmQoZXJyLm1lc3NhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldEJ5SWQocmVxLCByZXMpIHtcbiAgICBjb25zdCB7XG4gICAgICBwYXJhbXM6IHsgaWQgfVxuICAgIH0gPSByZXE7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHRoaXMuVXNlci5maW5kKHsgX2lkOiBpZCB9KTtcbiAgICAgIHJlcy5zZW5kKHVzZXIpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmVzLnN0YXR1cyg0MDApLnNlbmQoZXJyLm1lc3NhZ2UpO1xuICAgIH1cblxuICB9XG4gIGFzeW5jIGNyZWF0ZShyZXEsIHJlcykge1xuICAgIGNvbnN0IHVzZXIgPSBuZXcgdGhpcy5Vc2VyKHJlcS5ib2R5KTtcblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCB1c2VyLnNhdmUoKTtcbiAgICAgIHJlcy5zdGF0dXMoMjAxKS5zZW5kKHVzZXIpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmVzLnN0YXR1cyg0MjIpLnNlbmQoZXJyLm1lc3NhZ2UpO1xuICAgIH1cblxuICB9XG5cbiAgYXN5bmMgdXBkYXRlKHJlcSwgcmVzKSB7XG4gICAgY29uc3QgYm9keSA9IHJlcS5ib2R5O1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgdGhpcy5Vc2VyLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xuXG4gICAgICB1c2VyLm5hbWUgPSBib2R5Lm5hbWU7XG4gICAgICB1c2VyLmVtYWlsID0gYm9keS5lbWFpbDtcbiAgICAgIHVzZXIucm9sZSA9IGJvZHkucm9sZTtcbiAgICAgIGlmIChib2R5LnBhc3N3b3JkKSB1c2VyLnBhc3N3b3JkID0gYm9keS5wYXNzd29yZDtcblxuICAgICAgYXdhaXQgdXNlci5zYXZlKCk7XG4gICAgICByZXMuc2VuZFN0YXR1cygyMDApO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmVzLnN0YXR1cyg0MjIpLnNlbmQoZXJyLm1lc3NhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHJlbW92ZShyZXEsIHJlcykge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0aGlzLlVzZXIuZGVsZXRlT25lKHsgX2lkOiByZXEucGFyYW1zLmlkIH0pO1xuICAgICAgcmVzLnNlbmRTdGF0dXMoMjAwKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJlcy5zdGF0dXMoNDAwKS5zZW5kKGVyci5tZXNzYWdlKTtcbiAgICB9XG4gIH1cblxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFVzZXJzQ29udHJvbGxlcjsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "users.js"
      ],
      "names": [
        "UsersController",
        "constructor",
        "User",
        "AuthService",
        "authenticate",
        "req",
        "res",
        "authService",
        "user",
        "body",
        "sendStatus",
        "token",
        "generateToken",
        "name",
        "email",
        "password",
        "role",
        "config",
        "get",
        "expiresIn",
        "send",
        "users",
        "find",
        "err",
        "status",
        "message",
        "getById",
        "params",
        "id",
        "_id",
        "create",
        "save",
        "update",
        "findById",
        "remove",
        "deleteOne",
        "module",
        "exports"
      ],
      "mappings": "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",
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/controllers/",
      "sourcesContent": [
        "class UsersController {\n  constructor(User, AuthService) {\n    this.User = User;\n    this.AuthService = AuthService;\n  }\n\n  async authenticate(req, res) {\n    const authService = new this.AuthService(this.User);\n    const user = await authService.authenticate(req.body);\n    if (!user) {\n      return res.sendStatus(401);\n    }\n    const token = this.AuthService.generateToken({\n      name: user.name,\n      email: user.email,\n      password: user.password,\n      role: user.role\n    }, config.get('auth.key'), {\n      expiresIn: config.get('auth.tokenExpiresIn')\n    });\n    return res.send({ token });\n  }\n\n  async get(req, res) {\n    try {\n      const users = await this.User.find({});\n      res.send(users);\n    } catch (err) {\n      res.status(400).send(err.message);\n    }\n  }\n\n  async getById(req, res) {\n    const {\n      params: { id }\n    } = req;\n\n    try {\n      const user = await this.User.find({ _id: id });\n      res.send(user);\n    } catch (err) {\n      res.status(400).send(err.message);\n    }\n\n  }\n  async create(req, res) {\n    const user = new this.User(req.body);\n\n    try {\n      await user.save();\n      res.status(201).send(user);\n    } catch (err) {\n      res.status(422).send(err.message);\n    }\n\n  }\n\n  async update(req, res) {\n    const body = req.body;\n    try {\n      const user = await this.User.findById(req.params.id);\n\n      user.name = body.name;\n      user.email = body.email;\n      user.role = body.role;\n      if (body.password) user.password = body.password;\n\n      await user.save();\n      res.sendStatus(200);\n    } catch (err) {\n      res.status(422).send(err.message);\n    }\n  }\n\n  async remove(req, res) {\n    try {\n      await this.User.deleteOne({ _id: req.params.id });\n      res.sendStatus(200);\n    } catch (err) {\n      res.status(400).send(err.message);\n    }\n  }\n\n}\n\nmodule.exports = UsersController;"
      ]
    },
    "sourceType": "script",
    "mtime": 1601224716712
  },
  "{\"sourceRoot\":\"/home/wn/VSCode/back/appTest/src/controllers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/wn/VSCode/back/appTest\",\"filename\":\"/home/wn/VSCode/back/appTest/src/controllers/users.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/home/wn/VSCode/back/appTest\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6:test": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/controllers/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/wn/VSCode/back/appTest",
      "filename": "/home/wn/VSCode/back/appTest/src/controllers/users.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "test",
      "root": "/home/wn/VSCode/back/appTest",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/wn/VSCode/back/appTest/src/controllers/users.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/wn/VSCode/back/appTest/src/controllers/users.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/wn/VSCode/back/appTest/src/controllers/",
        "sourceFileName": "users.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst jwt = require(\"jsonwebtoken\");\n\nconst config = require(\"config\");\n\nconst bcrypt = require(\"bcrypt\");\n\nclass UsersController {\n  constructor(User, AuthService) {\n    this.User = User;\n    this.AuthService = AuthService;\n  }\n\n  async authenticate(req, res) {\n    const authService = new this.AuthService(this.User);\n    const user = await authService.authenticate(req.body);\n\n    if (!user) {\n      return res.sendStatus(401);\n    }\n\n    const token = jwt.sign({\n      name: user.name,\n      email: user.email,\n      password: user.password,\n      role: user.role\n    }, config.get('auth.key'), {\n      expiresIn: config.get('auth.tokenExpiresIn')\n    });\n    return res.send({\n      token\n    });\n  }\n\n  async get(req, res) {\n    try {\n      const users = await this.User.find({});\n      res.send(users);\n    } catch (err) {\n      res.status(400).send(err.message);\n    }\n  }\n\n  async getById(req, res) {\n    const {\n      params: {\n        id\n      }\n    } = req;\n\n    try {\n      const user = await this.User.find({\n        _id: id\n      });\n      res.send(user);\n    } catch (err) {\n      res.status(400).send(err.message);\n    }\n  }\n\n  async create(req, res) {\n    const user = new this.User(req.body);\n\n    try {\n      await user.save();\n      res.status(201).send(user);\n    } catch (err) {\n      res.status(422).send(err.message);\n    }\n  }\n\n  async update(req, res) {\n    const body = req.body;\n\n    try {\n      const user = await this.User.findById(req.params.id);\n      user.name = body.name;\n      user.email = body.email;\n      user.role = body.role;\n      if (body.password) user.password = body.password;\n      await user.save();\n      res.sendStatus(200);\n    } catch (err) {\n      res.status(422).send(err.message);\n    }\n  }\n\n  async remove(req, res) {\n    try {\n      await this.User.deleteOne({\n        _id: req.params.id\n      });\n      res.sendStatus(200);\n    } catch (err) {\n      res.status(400).send(err.message);\n    }\n  }\n\n}\n\nmodule.exports = UsersController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJzLmpzIl0sIm5hbWVzIjpbImp3dCIsInJlcXVpcmUiLCJjb25maWciLCJiY3J5cHQiLCJVc2Vyc0NvbnRyb2xsZXIiLCJjb25zdHJ1Y3RvciIsIlVzZXIiLCJBdXRoU2VydmljZSIsImF1dGhlbnRpY2F0ZSIsInJlcSIsInJlcyIsImF1dGhTZXJ2aWNlIiwidXNlciIsImJvZHkiLCJzZW5kU3RhdHVzIiwidG9rZW4iLCJzaWduIiwibmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJyb2xlIiwiZ2V0IiwiZXhwaXJlc0luIiwic2VuZCIsInVzZXJzIiwiZmluZCIsImVyciIsInN0YXR1cyIsIm1lc3NhZ2UiLCJnZXRCeUlkIiwicGFyYW1zIiwiaWQiLCJfaWQiLCJjcmVhdGUiLCJzYXZlIiwidXBkYXRlIiwiZmluZEJ5SWQiLCJyZW1vdmUiLCJkZWxldGVPbmUiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLEdBQUcsR0FBR0MsT0FBTyxDQUFDLGNBQUQsQ0FBbkI7O0FBQ0EsTUFBTUMsTUFBTSxHQUFHRCxPQUFPLENBQUMsUUFBRCxDQUF0Qjs7QUFDQSxNQUFNRSxNQUFNLEdBQUdGLE9BQU8sQ0FBQyxRQUFELENBQXRCOztBQUVBLE1BQU1HLGVBQU4sQ0FBc0I7QUFDcEJDLEVBQUFBLFdBQVcsQ0FBQ0MsSUFBRCxFQUFPQyxXQUFQLEVBQW9CO0FBQzdCLFNBQUtELElBQUwsR0FBWUEsSUFBWjtBQUNBLFNBQUtDLFdBQUwsR0FBbUJBLFdBQW5CO0FBQ0Q7O0FBRUQsUUFBTUMsWUFBTixDQUFtQkMsR0FBbkIsRUFBd0JDLEdBQXhCLEVBQTZCO0FBQzNCLFVBQU1DLFdBQVcsR0FBRyxJQUFJLEtBQUtKLFdBQVQsQ0FBcUIsS0FBS0QsSUFBMUIsQ0FBcEI7QUFDQSxVQUFNTSxJQUFJLEdBQUcsTUFBTUQsV0FBVyxDQUFDSCxZQUFaLENBQXlCQyxHQUFHLENBQUNJLElBQTdCLENBQW5COztBQUNBLFFBQUksQ0FBQ0QsSUFB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Q0FBQ00sUUFBVCxFQUFtQlAsSUFBSSxDQUFDTyxRQUFMLEdBQWdCTixJQUFJLENBQUNNLFFBQXJCO0FBRW5CLFlBQU1QLElBQUksQ0FBQ3NCLElBQUwsRUFBTjtBQUNBeEIsTUFBQUEsR0FBRyxDQUFDSSxVQUFKLENBQWUsR0FBZjtBQUNELEtBVkQsQ0FVRSxPQUFPWSxHQUFQLEVBQVk7QUFDWmhCLE1BQUFBLEdBQUcsQ0FBQ2lCLE1BQUosQ0FBVyxHQUFYLEVBQWdCSixJQUFoQixDQUFxQkcsR0FBRyxDQUFDRSxPQUF6QjtBQUNEO0FBQ0Y7O0FBRUQsUUFBTVMsTUFBTixDQUFhNUIsR0FBYixFQUFrQkMsR0FBbEIsRUFBdUI7QUFDckIsUUFBSTtBQUNGLFlBQU0sS0FBS0osSUFBTCxDQUFVZ0MsU0FBVixDQUFvQjtBQUFFTixRQUFBQSxHQUFHLEVBQUV2QixHQUFHLENBQUNxQixNQUFKLENBQVdDO0FBQWxCLE9BQXBCLENBQU47QUFDQXJCLE1BQUFBLEdBQUcsQ0FBQ0ksVUFBSixDQUFlLEdBQWY7QUFDRCxLQUhELENBR0UsT0FBT1ksR0FBUCxFQUFZO0FBQ1poQixNQUFBQSxHQUFHLENBQUNpQixNQUFKLENBQVcsR0FBWCxFQUFnQkosSUFBaEIsQ0FBcUJHLEdBQUcsQ0FBQ0UsT0FBekI7QUFDRDtBQUNGOztBQWpGbUI7O0FBcUZ0QlcsTUFBTSxDQUFDQyxPQUFQLEdBQWlCcEMsZUFBakIiLCJzb3VyY2VSb290IjoiL2hvbWUvd24vVlNDb2RlL2JhY2svYXBwVGVzdC9zcmMvY29udHJvbGxlcnMvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgand0ID0gcmVxdWlyZShcImpzb253ZWJ0b2tlblwiKTtcbmNvbnN0IGNvbmZpZyA9IHJlcXVpcmUoXCJjb25maWdcIik7XG5jb25zdCBiY3J5cHQgPSByZXF1aXJlKFwiYmNyeXB0XCIpO1xuXG5jbGFzcyBVc2Vyc0NvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3RvcihVc2VyLCBBdXRoU2VydmljZSkge1xuICAgIHRoaXMuVXNlciA9IFVzZXI7XG4gICAgdGhpcy5BdXRoU2VydmljZSA9IEF1dGhTZXJ2aWNlO1xuICB9XG5cbiAgYXN5bmMgYXV0aGVudGljYXRlKHJlcSwgcmVzKSB7XG4gICAgY29uc3QgYXV0aFNlcnZpY2UgPSBuZXcgdGhpcy5BdXRoU2VydmljZSh0aGlzLlVzZXIpO1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBhdXRoU2VydmljZS5hdXRoZW50aWNhdGUocmVxLmJvZHkpO1xuICAgIGlmICghdXNlcikge1xuICAgICAgcmV0dXJuIHJlcy5zZW5kU3RhdHVzKDQwMSk7XG4gICAgfVxuICAgIGNvbnN0IHRva2VuID0gand0LnNpZ24oe1xuICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICBwYXNzd29yZDogdXNlci5wYXNzd29yZCxcbiAgICAgIHJvbGU6IHVzZXIucm9sZVxuICAgIH0sIGNvbmZpZy5nZXQoJ2F1dGgua2V5JyksIHtcbiAgICAgIGV4cGlyZXNJbjogY29uZmlnLmdldCgnYXV0aC50b2tlbkV4cGlyZXNJbicpXG4gICAgfSk7XG4gICAgcmV0dXJuIHJlcy5zZW5kKHsgdG9rZW4gfSk7XG4gIH1cblxuICBhc3luYyBnZXQocmVxLCByZXMpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXNlcnMgPSBhd2FpdCB0aGlzLlVzZXIuZmluZCh7fSk7XG4gICAgICByZXMuc2VuZCh1c2Vycyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXMuc3RhdHVzKDQwMCkuc2VuZChlcnIubWVzc2FnZSk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0QnlJZChyZXEsIHJlcykge1xuICAgIGNvbnN0IHtcbiAgICAgIHBhcmFtczogeyBpZCB9XG4gICAgfSA9IHJlcTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgdGhpcy5Vc2VyLmZpbmQoeyBfaWQ6IGlkIH0pO1xuICAgICAgcmVzLnNlbmQodXNlcik7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXMuc3RhdHVzKDQwMCkuc2VuZChlcnIubWVzc2FnZSk7XG4gICAgfVxuXG4gIH1cbiAgYXN5bmMgY3JlYXRlKHJlcSwgcmVzKSB7XG4gICAgY29uc3QgdXNlciA9IG5ldyB0aGlzLlVzZXIocmVxLmJvZHkpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHVzZXIuc2F2ZSgpO1xuICAgICAgcmVzLnN0YXR1cygyMDEpLnNlbmQodXNlcik7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXMuc3RhdHVzKDQyMikuc2VuZChlcnIubWVzc2FnZSk7XG4gICAgfVxuXG4gIH1cblxuICBhc3luYyB1cGRhdGUocmVxLCByZXMpIHtcbiAgICBjb25zdCBib2R5ID0gcmVxLmJvZHk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB0aGlzLlVzZXIuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7XG5cbiAgICAgIHVzZXIubmFtZSA9IGJvZHkubmFtZTtcbiAgICAgIHVzZXIuZW1haWwgPSBib2R5LmVtYWlsO1xuICAgICAgdXNlci5yb2xlID0gYm9keS5yb2xlO1xuICAgICAgaWYgKGJvZHkucGFzc3dvcmQpIHVzZXIucGFzc3dvcmQgPSBib2R5LnBhc3N3b3JkO1xuXG4gICAgICBhd2FpdCB1c2VyLnNhdmUoKTtcbiAgICAgIHJlcy5zZW5kU3RhdHVzKDIwMCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXMuc3RhdHVzKDQyMikuc2VuZChlcnIubWVzc2FnZSk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgcmVtb3ZlKHJlcSwgcmVzKSB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHRoaXMuVXNlci5kZWxldGVPbmUoeyBfaWQ6IHJlcS5wYXJhbXMuaWQgfSk7XG4gICAgICByZXMuc2VuZFN0YXR1cygyMDApO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmVzLnN0YXR1cyg0MDApLnNlbmQoZXJyLm1lc3NhZ2UpO1xuICAgIH1cbiAgfVxuXG59XG5cbm1vZHVsZS5leHBvcnRzID0gVXNlcnNDb250cm9sbGVyOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "users.js"
      ],
      "names": [
        "jwt",
        "require",
        "config",
        "bcrypt",
        "UsersController",
        "constructor",
        "User",
        "AuthService",
        "authenticate",
        "req",
        "res",
        "authService",
        "user",
        "body",
        "sendStatus",
        "token",
        "sign",
        "name",
        "email",
        "password",
        "role",
        "get",
        "expiresIn",
        "send",
        "users",
        "find",
        "err",
        "status",
        "message",
        "getById",
        "params",
        "id",
        "_id",
        "create",
        "save",
        "update",
        "findById",
        "remove",
        "deleteOne",
        "module",
        "exports"
      ],
      "mappings": "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",
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/controllers/",
      "sourcesContent": [
        "const jwt = require(\"jsonwebtoken\");\nconst config = require(\"config\");\nconst bcrypt = require(\"bcrypt\");\n\nclass UsersController {\n  constructor(User, AuthService) {\n    this.User = User;\n    this.AuthService = AuthService;\n  }\n\n  async authenticate(req, res) {\n    const authService = new this.AuthService(this.User);\n    const user = await authService.authenticate(req.body);\n    if (!user) {\n      return res.sendStatus(401);\n    }\n    const token = jwt.sign({\n      name: user.name,\n      email: user.email,\n      password: user.password,\n      role: user.role\n    }, config.get('auth.key'), {\n      expiresIn: config.get('auth.tokenExpiresIn')\n    });\n    return res.send({ token });\n  }\n\n  async get(req, res) {\n    try {\n      const users = await this.User.find({});\n      res.send(users);\n    } catch (err) {\n      res.status(400).send(err.message);\n    }\n  }\n\n  async getById(req, res) {\n    const {\n      params: { id }\n    } = req;\n\n    try {\n      const user = await this.User.find({ _id: id });\n      res.send(user);\n    } catch (err) {\n      res.status(400).send(err.message);\n    }\n\n  }\n  async create(req, res) {\n    const user = new this.User(req.body);\n\n    try {\n      await user.save();\n      res.status(201).send(user);\n    } catch (err) {\n      res.status(422).send(err.message);\n    }\n\n  }\n\n  async update(req, res) {\n    const body = req.body;\n    try {\n      const user = await this.User.findById(req.params.id);\n\n      user.name = body.name;\n      user.email = body.email;\n      user.role = body.role;\n      if (body.password) user.password = body.password;\n\n      await user.save();\n      res.sendStatus(200);\n    } catch (err) {\n      res.status(422).send(err.message);\n    }\n  }\n\n  async remove(req, res) {\n    try {\n      await this.User.deleteOne({ _id: req.params.id });\n      res.sendStatus(200);\n    } catch (err) {\n      res.status(400).send(err.message);\n    }\n  }\n\n}\n\nmodule.exports = UsersController;"
      ]
    },
    "sourceType": "script",
    "mtime": 1601221490009
  },
  "{\"sourceRoot\":\"/home/wn/VSCode/back/appTest/src/models/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/wn/VSCode/back/appTest\",\"filename\":\"/home/wn/VSCode/back/appTest/src/models/users.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/home/wn/VSCode/back/appTest\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6:test": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/models/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/wn/VSCode/back/appTest",
      "filename": "/home/wn/VSCode/back/appTest/src/models/users.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "test",
      "root": "/home/wn/VSCode/back/appTest",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/wn/VSCode/back/appTest/src/models/users.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/wn/VSCode/back/appTest/src/models/users.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/wn/VSCode/back/appTest/src/models/",
        "sourceFileName": "users.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst mongoose = require(\"mongoose\");\n\nconst Util = require(\"util\");\n\nconst bcrypt = require(\"bcrypt\");\n\nconst hashAsync = Util.promisify(bcrypt.hash);\nconst schema = new mongoose.Schema({\n  name: String,\n  email: String,\n  password: String,\n  role: String\n});\nschema.pre('save', async function (next) {\n  if (!this.password || !this.isModified('password')) return next();\n\n  try {\n    const hashedPassword = await hashAsync(this.password, 10);\n    this.password = hashedPassword;\n  } catch (error) {\n    next(err);\n  }\n});\nschema.set('toJSON', {\n  transform: (doc, ret, options) => ({\n    _id: ret._id,\n    email: ret.email,\n    name: ret.name,\n    role: ret.role\n  })\n});\nconst User = mongoose.model('User', schema);\nmodule.exports = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJzLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsIlV0aWwiLCJiY3J5cHQiLCJoYXNoQXN5bmMiLCJwcm9taXNpZnkiLCJoYXNoIiwic2NoZW1hIiwiU2NoZW1hIiwibmFtZSIsIlN0cmluZyIsImVtYWlsIiwicGFzc3dvcmQiLCJyb2xlIiwicHJlIiwibmV4dCIsImlzTW9kaWZpZWQiLCJoYXNoZWRQYXNzd29yZCIsImVycm9yIiwiZXJyIiwic2V0IiwidHJhbnNmb3JtIiwiZG9jIiwicmV0Iiwib3B0aW9ucyIsIl9pZCIsIlVzZXIiLCJtb2RlbCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsVUFBRCxDQUF4Qjs7QUFDQSxNQUFNQyxJQUFJLEdBQUdELE9BQU8sQ0FBQyxNQUFELENBQXBCOztBQUNBLE1BQU1FLE1BQU0sR0FBR0YsT0FBTyxDQUFDLFFBQUQsQ0FBdEI7O0FBRUEsTUFBTUcsU0FBUyxHQUFHRixJQUFJLENBQUNHLFNBQUwsQ0FBZUYsTUFBTSxDQUFDRyxJQUF0QixDQUFsQjtBQUVBLE1BQU1DLE1BQU0sR0FBRyxJQUFJUCxRQUFRLENBQUNRLE1BQWIsQ0FBb0I7QUFDakNDLEVBQUFBLElBQUksRUFBRUMsTUFEMkI7QUFFakNDLEVBQUFBLEtBQUssRUFBRUQsTUFGMEI7QUFHakNFLEVBQUFBLFFBQVEsRUFBRUYsTUFIdUI7QUFJakNHLEVBQUFBLElBQUksRUFBRUg7QUFKMkIsQ0FBcEIsQ0FBZjtBQU9BSCxNQUFNLENBQUNPLEdBQVAsQ0FBVyxNQUFYLEVBQW1CLGdCQUFnQkMsSUFBaEIsRUFBc0I7QUFDdkMsTUFBSSxDQUFDLEtBQUtILFFBQU4sSUFBa0IsQ0FBQyxLQUFLSSxVQUFMLENBQWdCLFVBQWhCLENBQXZCLEVBQW9ELE9BQU9ELElBQUksRUFBWDs7QUFDcEQsTUFBSTtBQUNGLFVBQU1FLGNBQWMsR0FBRyxNQUFNYixTQUFTLENBQUMsS0FBS1EsUUFBTixFQUFnQixFQUFoQixDQUF0QztBQUNBLFNBQUtBLFFBQUwsR0FBZ0JLLGNBQWhCO0FBQ0QsR0FIRCxDQUdFLE9BQU9DLEtBQVAsRUFBYztBQUNkSCxJQUFBQSxJQUFJLENBQUNJLEdBQUQsQ0FBSjtBQUNEO0FBQ0YsQ0FSRDtBQVVBWixNQUFNLENBQUNhLEdBQVAsQ0FBVyxRQUFYLEVBQXFCO0FBQ25CQyxFQUFBQSxTQUFTLEVBQUUsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLE9BQVgsTUFBd0I7QUFDakNDLElBQUFBLEdBQUcsRUFBRUYsR0FBRyxDQUFDRSxHQUR3QjtBQUVqQ2QsSUFBQUEsS0FBSyxFQUFFWSxHQUFHLENBQUNaLEtBRnNCO0FBR2pDRixJQUFBQSxJQUFJLEVBQUVjLEdBQUcsQ0FBQ2QsSUFIdUI7QUFJakNJLElBQUFBLElBQUksRUFBRVUsR0FBRyxDQUFDVjtBQUp1QixHQUF4QjtBQURRLENBQXJCO0FBU0EsTUFBTWEsSUFBSSxHQUFHMUIsUUFBUSxDQUFDMkIsS0FBVCxDQUFlLE1BQWYsRUFBdUJwQixNQUF2QixDQUFiO0FBRUFxQixNQUFNLENBQUNDLE9BQVAsR0FBaUJILElBQWpCIiwic291cmNlUm9vdCI6Ii9ob21lL3duL1ZTQ29kZS9iYWNrL2FwcFRlc3Qvc3JjL21vZGVscy8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtb25nb29zZSA9IHJlcXVpcmUoXCJtb25nb29zZVwiKTtcbmNvbnN0IFV0aWwgPSByZXF1aXJlKFwidXRpbFwiKTtcbmNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoXCJiY3J5cHRcIik7XG5cbmNvbnN0IGhhc2hBc3luYyA9IFV0aWwucHJvbWlzaWZ5KGJjcnlwdC5oYXNoKTtcblxuY29uc3Qgc2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gIG5hbWU6IFN0cmluZyxcbiAgZW1haWw6IFN0cmluZyxcbiAgcGFzc3dvcmQ6IFN0cmluZyxcbiAgcm9sZTogU3RyaW5nXG59KTtcblxuc2NoZW1hLnByZSgnc2F2ZScsIGFzeW5jIGZ1bmN0aW9uIChuZXh0KSB7XG4gIGlmICghdGhpcy5wYXNzd29yZCB8fCAhdGhpcy5pc01vZGlmaWVkKCdwYXNzd29yZCcpKSByZXR1cm4gbmV4dCgpO1xuICB0cnkge1xuICAgIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgaGFzaEFzeW5jKHRoaXMucGFzc3dvcmQsIDEwKTtcbiAgICB0aGlzLnBhc3N3b3JkID0gaGFzaGVkUGFzc3dvcmQ7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbmV4dChlcnIpO1xuICB9XG59KTtcblxuc2NoZW1hLnNldCgndG9KU09OJywge1xuICB0cmFuc2Zvcm06IChkb2MsIHJldCwgb3B0aW9ucykgPT4gKHtcbiAgICBfaWQ6IHJldC5faWQsXG4gICAgZW1haWw6IHJldC5lbWFpbCxcbiAgICBuYW1lOiByZXQubmFtZSxcbiAgICByb2xlOiByZXQucm9sZVxuICB9KVxufSk7XG5cbmNvbnN0IFVzZXIgPSBtb25nb29zZS5tb2RlbCgnVXNlcicsIHNjaGVtYSk7XG5cbm1vZHVsZS5leHBvcnRzID0gVXNlcjsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "users.js"
      ],
      "names": [
        "mongoose",
        "require",
        "Util",
        "bcrypt",
        "hashAsync",
        "promisify",
        "hash",
        "schema",
        "Schema",
        "name",
        "String",
        "email",
        "password",
        "role",
        "pre",
        "next",
        "isModified",
        "hashedPassword",
        "error",
        "err",
        "set",
        "transform",
        "doc",
        "ret",
        "options",
        "_id",
        "User",
        "model",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;AACA,MAAME,MAAM,GAAGF,OAAO,CAAC,QAAD,CAAtB;;AAEA,MAAMG,SAAS,GAAGF,IAAI,CAACG,SAAL,CAAeF,MAAM,CAACG,IAAtB,CAAlB;AAEA,MAAMC,MAAM,GAAG,IAAIP,QAAQ,CAACQ,MAAb,CAAoB;AACjCC,EAAAA,IAAI,EAAEC,MAD2B;AAEjCC,EAAAA,KAAK,EAAED,MAF0B;AAGjCE,EAAAA,QAAQ,EAAEF,MAHuB;AAIjCG,EAAAA,IAAI,EAAEH;AAJ2B,CAApB,CAAf;AAOAH,MAAM,CAACO,GAAP,CAAW,MAAX,EAAmB,gBAAgBC,IAAhB,EAAsB;AACvC,MAAI,CAAC,KAAKH,QAAN,IAAkB,CAAC,KAAKI,UAAL,CAAgB,UAAhB,CAAvB,EAAoD,OAAOD,IAAI,EAAX;;AACpD,MAAI;AACF,UAAME,cAAc,GAAG,MAAMb,SAAS,CAAC,KAAKQ,QAAN,EAAgB,EAAhB,CAAtC;AACA,SAAKA,QAAL,GAAgBK,cAAhB;AACD,GAHD,CAGE,OAAOC,KAAP,EAAc;AACdH,IAAAA,IAAI,CAACI,GAAD,CAAJ;AACD;AACF,CARD;AAUAZ,MAAM,CAACa,GAAP,CAAW,QAAX,EAAqB;AACnBC,EAAAA,SAAS,EAAE,CAACC,GAAD,EAAMC,GAAN,EAAWC,OAAX,MAAwB;AACjCC,IAAAA,GAAG,EAAEF,GAAG,CAACE,GADwB;AAEjCd,IAAAA,KAAK,EAAEY,GAAG,CAACZ,KAFsB;AAGjCF,IAAAA,IAAI,EAAEc,GAAG,CAACd,IAHuB;AAIjCI,IAAAA,IAAI,EAAEU,GAAG,CAACV;AAJuB,GAAxB;AADQ,CAArB;AASA,MAAMa,IAAI,GAAG1B,QAAQ,CAAC2B,KAAT,CAAe,MAAf,EAAuBpB,MAAvB,CAAb;AAEAqB,MAAM,CAACC,OAAP,GAAiBH,IAAjB",
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/models/",
      "sourcesContent": [
        "const mongoose = require(\"mongoose\");\nconst Util = require(\"util\");\nconst bcrypt = require(\"bcrypt\");\n\nconst hashAsync = Util.promisify(bcrypt.hash);\n\nconst schema = new mongoose.Schema({\n  name: String,\n  email: String,\n  password: String,\n  role: String\n});\n\nschema.pre('save', async function (next) {\n  if (!this.password || !this.isModified('password')) return next();\n  try {\n    const hashedPassword = await hashAsync(this.password, 10);\n    this.password = hashedPassword;\n  } catch (error) {\n    next(err);\n  }\n});\n\nschema.set('toJSON', {\n  transform: (doc, ret, options) => ({\n    _id: ret._id,\n    email: ret.email,\n    name: ret.name,\n    role: ret.role\n  })\n});\n\nconst User = mongoose.model('User', schema);\n\nmodule.exports = User;"
      ]
    },
    "sourceType": "script",
    "mtime": 1601210268219
  },
  "{\"sourceRoot\":\"/home/wn/VSCode/back/appTest/src/models/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/wn/VSCode/back/appTest\",\"filename\":\"/home/wn/VSCode/back/appTest/src/models/users.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/home/wn/VSCode/back/appTest\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6:test": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/models/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/wn/VSCode/back/appTest",
      "filename": "/home/wn/VSCode/back/appTest/src/models/users.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "test",
      "root": "/home/wn/VSCode/back/appTest",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/wn/VSCode/back/appTest/src/models/users.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/wn/VSCode/back/appTest/src/models/users.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/wn/VSCode/back/appTest/src/models/",
        "sourceFileName": "users.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst mongoose = require(\"mongoose\");\n\nconst Util = require(\"util\");\n\nconst bcrypt = require(\"bcrypt\");\n\nconst hashAsync = Util.promisify(bcrypt.hash);\nconst schema = new mongoose.Schema({\n  name: String,\n  email: String,\n  password: String,\n  role: String\n});\nschema.pre('save', async function (next) {\n  if (!this.password || !this.isModified('password')) return next();\n\n  try {\n    const hashedPassword = await hashAsync(this.password, 10);\n    this.password = hashedPassword;\n  } catch (error) {\n    next(err);\n  }\n});\nschema.set('toJSON', {\n  transform: (doc, ret, options) => ({\n    _id: ret._id,\n    email: ret.email,\n    name: ret.name,\n    role: ret.role\n  })\n});\nconst User = mongoose.model('User', schema);\nmodule.exports = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJzLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsIlV0aWwiLCJiY3J5cHQiLCJoYXNoQXN5bmMiLCJwcm9taXNpZnkiLCJoYXNoIiwic2NoZW1hIiwiU2NoZW1hIiwibmFtZSIsIlN0cmluZyIsImVtYWlsIiwicGFzc3dvcmQiLCJyb2xlIiwicHJlIiwibmV4dCIsImlzTW9kaWZpZWQiLCJoYXNoZWRQYXNzd29yZCIsImVycm9yIiwiZXJyIiwic2V0IiwidHJhbnNmb3JtIiwiZG9jIiwicmV0Iiwib3B0aW9ucyIsIl9pZCIsIlVzZXIiLCJtb2RlbCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsVUFBRCxDQUF4Qjs7QUFDQSxNQUFNQyxJQUFJLEdBQUdELE9BQU8sQ0FBQyxNQUFELENBQXBCOztBQUNBLE1BQU1FLE1BQU0sR0FBR0YsT0FBTyxDQUFDLFFBQUQsQ0FBdEI7O0FBRUEsTUFBTUcsU0FBUyxHQUFHRixJQUFJLENBQUNHLFNBQUwsQ0FBZUYsTUFBTSxDQUFDRyxJQUF0QixDQUFsQjtBQUVBLE1BQU1DLE1BQU0sR0FBRyxJQUFJUCxRQUFRLENBQUNRLE1BQWIsQ0FBb0I7QUFDakNDLEVBQUFBLElBQUksRUFBRUMsTUFEMkI7QUFFakNDLEVBQUFBLEtBQUssRUFBRUQsTUFGMEI7QUFHakNFLEVBQUFBLFFBQVEsRUFBRUYsTUFIdUI7QUFJakNHLEVBQUFBLElBQUksRUFBRUg7QUFKMkIsQ0FBcEIsQ0FBZjtBQU9BSCxNQUFNLENBQUNPLEdBQVAsQ0FBVyxNQUFYLEVBQW1CLGdCQUFnQkMsSUFBaEIsRUFBc0I7QUFDdkMsTUFBSSxDQUFDLEtBQUtILFFBQU4sSUFBa0IsQ0FBQyxLQUFLSSxVQUFMLENBQWdCLFVBQWhCLENBQXZCLEVBQW9ELE9BQU9ELElBQUksRUFBWDs7QUFDcEQsTUFBSTtBQUNGLFVBQU1FLGNBQWMsR0FBRyxNQUFNYixTQUFTLENBQUMsS0FBS1EsUUFBTixFQUFnQixFQUFoQixDQUF0QztBQUNBLFNBQUtBLFFBQUwsR0FBZ0JLLGNBQWhCO0FBQ0QsR0FIRCxDQUdFLE9BQU9DLEtBQVAsRUFBYztBQUNkSCxJQUFBQSxJQUFJLENBQUNJLEdBQUQsQ0FBSjtBQUNEO0FBQ0YsQ0FSRDtBQVVBWixNQUFNLENBQUNhLEdBQVAsQ0FBVyxRQUFYLEVBQXFCO0FBQ25CQyxFQUFBQSxTQUFTLEVBQUUsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLE9BQVgsTUFBd0I7QUFDakNDLElBQUFBLEdBQUcsRUFBRUYsR0FBRyxDQUFDRSxHQUR3QjtBQUVqQ2QsSUFBQUEsS0FBSyxFQUFFWSxHQUFHLENBQUNaLEtBRnNCO0FBR2pDRixJQUFBQSxJQUFJLEVBQUVjLEdBQUcsQ0FBQ2QsSUFIdUI7QUFJakNJLElBQUFBLElBQUksRUFBRVUsR0FBRyxDQUFDVjtBQUp1QixHQUF4QjtBQURRLENBQXJCO0FBU0EsTUFBTWEsSUFBSSxHQUFHMUIsUUFBUSxDQUFDMkIsS0FBVCxDQUFlLE1BQWYsRUFBdUJwQixNQUF2QixDQUFiO0FBRUFxQixNQUFNLENBQUNDLE9BQVAsR0FBaUJILElBQWpCIiwic291cmNlUm9vdCI6Ii9ob21lL3duL1ZTQ29kZS9iYWNrL2FwcFRlc3Qvc3JjL21vZGVscy8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtb25nb29zZSA9IHJlcXVpcmUoXCJtb25nb29zZVwiKTtcbmNvbnN0IFV0aWwgPSByZXF1aXJlKFwidXRpbFwiKTtcbmNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoXCJiY3J5cHRcIik7XG5cbmNvbnN0IGhhc2hBc3luYyA9IFV0aWwucHJvbWlzaWZ5KGJjcnlwdC5oYXNoKTtcblxuY29uc3Qgc2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gIG5hbWU6IFN0cmluZyxcbiAgZW1haWw6IFN0cmluZyxcbiAgcGFzc3dvcmQ6IFN0cmluZyxcbiAgcm9sZTogU3RyaW5nXG59KTtcblxuc2NoZW1hLnByZSgnc2F2ZScsIGFzeW5jIGZ1bmN0aW9uIChuZXh0KSB7XG4gIGlmICghdGhpcy5wYXNzd29yZCB8fCAhdGhpcy5pc01vZGlmaWVkKCdwYXNzd29yZCcpKSByZXR1cm4gbmV4dCgpO1xuICB0cnkge1xuICAgIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgaGFzaEFzeW5jKHRoaXMucGFzc3dvcmQsIDEwKTtcbiAgICB0aGlzLnBhc3N3b3JkID0gaGFzaGVkUGFzc3dvcmQ7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbmV4dChlcnIpO1xuICB9XG59KTtcblxuc2NoZW1hLnNldCgndG9KU09OJywge1xuICB0cmFuc2Zvcm06IChkb2MsIHJldCwgb3B0aW9ucykgPT4gKHtcbiAgICBfaWQ6IHJldC5faWQsXG4gICAgZW1haWw6IHJldC5lbWFpbCxcbiAgICBuYW1lOiByZXQubmFtZSxcbiAgICByb2xlOiByZXQucm9sZVxuICB9KVxufSk7XG5cbmNvbnN0IFVzZXIgPSBtb25nb29zZS5tb2RlbCgnVXNlcicsIHNjaGVtYSk7XG5cbm1vZHVsZS5leHBvcnRzID0gVXNlcjsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "users.js"
      ],
      "names": [
        "mongoose",
        "require",
        "Util",
        "bcrypt",
        "hashAsync",
        "promisify",
        "hash",
        "schema",
        "Schema",
        "name",
        "String",
        "email",
        "password",
        "role",
        "pre",
        "next",
        "isModified",
        "hashedPassword",
        "error",
        "err",
        "set",
        "transform",
        "doc",
        "ret",
        "options",
        "_id",
        "User",
        "model",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;AACA,MAAME,MAAM,GAAGF,OAAO,CAAC,QAAD,CAAtB;;AAEA,MAAMG,SAAS,GAAGF,IAAI,CAACG,SAAL,CAAeF,MAAM,CAACG,IAAtB,CAAlB;AAEA,MAAMC,MAAM,GAAG,IAAIP,QAAQ,CAACQ,MAAb,CAAoB;AACjCC,EAAAA,IAAI,EAAEC,MAD2B;AAEjCC,EAAAA,KAAK,EAAED,MAF0B;AAGjCE,EAAAA,QAAQ,EAAEF,MAHuB;AAIjCG,EAAAA,IAAI,EAAEH;AAJ2B,CAApB,CAAf;AAOAH,MAAM,CAACO,GAAP,CAAW,MAAX,EAAmB,gBAAgBC,IAAhB,EAAsB;AACvC,MAAI,CAAC,KAAKH,QAAN,IAAkB,CAAC,KAAKI,UAAL,CAAgB,UAAhB,CAAvB,EAAoD,OAAOD,IAAI,EAAX;;AACpD,MAAI;AACF,UAAME,cAAc,GAAG,MAAMb,SAAS,CAAC,KAAKQ,QAAN,EAAgB,EAAhB,CAAtC;AACA,SAAKA,QAAL,GAAgBK,cAAhB;AACD,GAHD,CAGE,OAAOC,KAAP,EAAc;AACdH,IAAAA,IAAI,CAACI,GAAD,CAAJ;AACD;AACF,CARD;AAUAZ,MAAM,CAACa,GAAP,CAAW,QAAX,EAAqB;AACnBC,EAAAA,SAAS,EAAE,CAACC,GAAD,EAAMC,GAAN,EAAWC,OAAX,MAAwB;AACjCC,IAAAA,GAAG,EAAEF,GAAG,CAACE,GADwB;AAEjCd,IAAAA,KAAK,EAAEY,GAAG,CAACZ,KAFsB;AAGjCF,IAAAA,IAAI,EAAEc,GAAG,CAACd,IAHuB;AAIjCI,IAAAA,IAAI,EAAEU,GAAG,CAACV;AAJuB,GAAxB;AADQ,CAArB;AASA,MAAMa,IAAI,GAAG1B,QAAQ,CAAC2B,KAAT,CAAe,MAAf,EAAuBpB,MAAvB,CAAb;AAEAqB,MAAM,CAACC,OAAP,GAAiBH,IAAjB",
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/models/",
      "sourcesContent": [
        "const mongoose = require(\"mongoose\");\nconst Util = require(\"util\");\nconst bcrypt = require(\"bcrypt\");\n\nconst hashAsync = Util.promisify(bcrypt.hash);\n\nconst schema = new mongoose.Schema({\n  name: String,\n  email: String,\n  password: String,\n  role: String\n});\n\nschema.pre('save', async function (next) {\n  if (!this.password || !this.isModified('password')) return next();\n  try {\n    const hashedPassword = await hashAsync(this.password, 10);\n    this.password = hashedPassword;\n  } catch (error) {\n    next(err);\n  }\n});\n\nschema.set('toJSON', {\n  transform: (doc, ret, options) => ({\n    _id: ret._id,\n    email: ret.email,\n    name: ret.name,\n    role: ret.role\n  })\n});\n\nconst User = mongoose.model('User', schema);\n\nmodule.exports = User;"
      ]
    },
    "sourceType": "script",
    "mtime": 1601210268219
  },
  "{\"sourceRoot\":\"/home/wn/VSCode/back/appTest/test/unit/middlewares/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/wn/VSCode/back/appTest\",\"filename\":\"/home/wn/VSCode/back/appTest/test/unit/middlewares/auth_spec.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/home/wn/VSCode/back/appTest\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6:test": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/wn/VSCode/back/appTest/test/unit/middlewares/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/wn/VSCode/back/appTest",
      "filename": "/home/wn/VSCode/back/appTest/test/unit/middlewares/auth_spec.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "test",
      "root": "/home/wn/VSCode/back/appTest",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/wn/VSCode/back/appTest/test/unit/middlewares/auth_spec.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/wn/VSCode/back/appTest/test/unit/middlewares/auth_spec.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/wn/VSCode/back/appTest/test/unit/middlewares/",
        "sourceFileName": "auth_spec.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst authMiddleware = require(\"../../../src/middlewares/auth\");\n\nconst jwt = require(\"jsonwebtoken\");\n\nconst config = require(\"config\");\n\ndescribe('AuthMiddleware', () => {\n  it('should verify a JWT token and call the next middleware', done => {\n    const jwtToken = jwt.sign({\n      data: 'fake'\n    }, config.get('auth.key'));\n    const reqFake = {\n      headers: {\n        'x-access-token': jwtToken\n      }\n    };\n    const resFake = {};\n    authMiddleware(reqFake, resFake, done);\n  });\n  it('should call the next middleware passing an error when the token validation fails', done => {\n    const reqFake = {\n      headers: {\n        'x-access-token': 'invalid token'\n      }\n    };\n    const resFake = {};\n    authMiddleware(reqFake, resFake, err => {\n      expect(err.message).to.eql('jwt malformed');\n      done();\n    });\n  });\n  it('should call next middleware if theres no token', done => {\n    const reqFake = {\n      headers: {}\n    };\n    const resFake = {};\n    authMiddleware(reqFake, resFake, done);\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGhfc3BlYy5qcyJdLCJuYW1lcyI6WyJhdXRoTWlkZGxld2FyZSIsInJlcXVpcmUiLCJqd3QiLCJjb25maWciLCJkZXNjcmliZSIsIml0IiwiZG9uZSIsImp3dFRva2VuIiwic2lnbiIsImRhdGEiLCJnZXQiLCJyZXFGYWtlIiwiaGVhZGVycyIsInJlc0Zha2UiLCJlcnIiLCJleHBlY3QiLCJtZXNzYWdlIiwidG8iLCJlcWwiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsY0FBYyxHQUFHQyxPQUFPLENBQUMsK0JBQUQsQ0FBOUI7O0FBQ0EsTUFBTUMsR0FBRyxHQUFHRCxPQUFPLENBQUMsY0FBRCxDQUFuQjs7QUFDQSxNQUFNRSxNQUFNLEdBQUdGLE9BQU8sQ0FBQyxRQUFELENBQXRCOztBQUVBRyxRQUFRLENBQUMsZ0JBQUQsRUFBbUIsTUFBTTtBQUMvQkMsRUFBQUEsRUFBRSxDQUFDLHdEQUFELEVBQTJEQyxJQUFJLElBQUk7QUFDbkUsVUFBTUMsUUFBUSxHQUFHTCxHQUFHLENBQUNNLElBQUosQ0FBUztBQUFFQyxNQUFBQSxJQUFJLEVBQUU7QUFBUixLQUFULEVBQTJCTixNQUFNLENBQUNPLEdBQVAsQ0FBVyxVQUFYLENBQTNCLENBQWpCO0FBQ0EsVUFBTUMsT0FBTyxHQUFHO0FBQ2RDLE1BQUFBLE9BQU8sRUFBRTtBQUNQLDBCQUFrQkw7QUFEWDtBQURLLEtBQWhCO0FBS0EsVUFBTU0sT0FBTyxHQUFHLEVBQWhCO0FBQ0FiLElBQUFBLGNBQWMsQ0FBQ1csT0FBRCxFQUFVRSxPQUFWLEVBQW1CUCxJQUFuQixDQUFkO0FBQ0QsR0FUQyxDQUFGO0FBVUFELEVBQUFBLEVBQUUsQ0FBQyxrRkFBRCxFQUFxRkMsSUFBSSxJQUFJO0FBQzdGLFVBQU1LLE9BQU8sR0FBRztBQUNkQyxNQUFBQSxPQUFPLEVBQUU7QUFDUCwwQkFBa0I7QUFEWDtBQURLLEtBQWhCO0FBTUEsVUFBTUMsT0FBTyxHQUFHLEVBQWhCO0FBRUFiLElBQUFBLGNBQWMsQ0FBQ1csT0FBRCxFQUFVRSxPQUFWLEVBQW1CQyxHQUFHLElBQUk7QUFDdENDLE1BQUFBLE1BQU0sQ0FBQ0QsR0FBRyxDQUFDRSxPQUFMLENBQU4sQ0FBb0JDLEVBQXBCLENBQXVCQyxHQUF2QixDQUEyQixlQUEzQjtBQUNBWixNQUFBQSxJQUFJO0FBQ0wsS0FIYSxDQUFkO0FBSUQsR0FiQyxDQUFGO0FBY0FELEVBQUFBLEVBQUUsQ0FBQyxnREFBRCxFQUFtREMsSUFBSSxJQUFJO0FBQzNELFVBQU1LLE9BQU8sR0FBRztBQUNkQyxNQUFBQSxPQUFPLEVBQUU7QUFESyxLQUFoQjtBQUdBLFVBQU1DLE9BQU8sR0FBRyxFQUFoQjtBQUNBYixJQUFBQSxjQUFjLENBQUNXLE9BQUQsRUFBVUUsT0FBVixFQUFtQlAsSUFBbkIsQ0FBZDtBQUNELEdBTkMsQ0FBRjtBQU9ELENBaENPLENBQVIiLCJzb3VyY2VSb290IjoiL2hvbWUvd24vVlNDb2RlL2JhY2svYXBwVGVzdC90ZXN0L3VuaXQvbWlkZGxld2FyZXMvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYXV0aE1pZGRsZXdhcmUgPSByZXF1aXJlKFwiLi4vLi4vLi4vc3JjL21pZGRsZXdhcmVzL2F1dGhcIik7XG5jb25zdCBqd3QgPSByZXF1aXJlKFwianNvbndlYnRva2VuXCIpO1xuY29uc3QgY29uZmlnID0gcmVxdWlyZShcImNvbmZpZ1wiKTtcblxuZGVzY3JpYmUoJ0F1dGhNaWRkbGV3YXJlJywgKCkgPT4ge1xuICBpdCgnc2hvdWxkIHZlcmlmeSBhIEpXVCB0b2tlbiBhbmQgY2FsbCB0aGUgbmV4dCBtaWRkbGV3YXJlJywgZG9uZSA9PiB7XG4gICAgY29uc3Qgand0VG9rZW4gPSBqd3Quc2lnbih7IGRhdGE6ICdmYWtlJyB9LCBjb25maWcuZ2V0KCdhdXRoLmtleScpKTtcbiAgICBjb25zdCByZXFGYWtlID0ge1xuICAgICAgaGVhZGVyczoge1xuICAgICAgICAneC1hY2Nlc3MtdG9rZW4nOiBqd3RUb2tlblxuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcmVzRmFrZSA9IHt9O1xuICAgIGF1dGhNaWRkbGV3YXJlKHJlcUZha2UsIHJlc0Zha2UsIGRvbmUpO1xuICB9KTtcbiAgaXQoJ3Nob3VsZCBjYWxsIHRoZSBuZXh0IG1pZGRsZXdhcmUgcGFzc2luZyBhbiBlcnJvciB3aGVuIHRoZSB0b2tlbiB2YWxpZGF0aW9uIGZhaWxzJywgZG9uZSA9PiB7XG4gICAgY29uc3QgcmVxRmFrZSA9IHtcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ3gtYWNjZXNzLXRva2VuJzogJ2ludmFsaWQgdG9rZW4nXG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHJlc0Zha2UgPSB7fTtcblxuICAgIGF1dGhNaWRkbGV3YXJlKHJlcUZha2UsIHJlc0Zha2UsIGVyciA9PiB7XG4gICAgICBleHBlY3QoZXJyLm1lc3NhZ2UpLnRvLmVxbCgnand0IG1hbGZvcm1lZCcpO1xuICAgICAgZG9uZSgpO1xuICAgIH0pO1xuICB9KTtcbiAgaXQoJ3Nob3VsZCBjYWxsIG5leHQgbWlkZGxld2FyZSBpZiB0aGVyZXMgbm8gdG9rZW4nLCBkb25lID0+IHtcbiAgICBjb25zdCByZXFGYWtlID0ge1xuICAgICAgaGVhZGVyczoge31cbiAgICB9O1xuICAgIGNvbnN0IHJlc0Zha2UgPSB7fTtcbiAgICBhdXRoTWlkZGxld2FyZShyZXFGYWtlLCByZXNGYWtlLCBkb25lKTtcbiAgfSk7XG59KTsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "auth_spec.js"
      ],
      "names": [
        "authMiddleware",
        "require",
        "jwt",
        "config",
        "describe",
        "it",
        "done",
        "jwtToken",
        "sign",
        "data",
        "get",
        "reqFake",
        "headers",
        "resFake",
        "err",
        "expect",
        "message",
        "to",
        "eql"
      ],
      "mappings": ";;AAAA,MAAMA,cAAc,GAAGC,OAAO,CAAC,+BAAD,CAA9B;;AACA,MAAMC,GAAG,GAAGD,OAAO,CAAC,cAAD,CAAnB;;AACA,MAAME,MAAM,GAAGF,OAAO,CAAC,QAAD,CAAtB;;AAEAG,QAAQ,CAAC,gBAAD,EAAmB,MAAM;AAC/BC,EAAAA,EAAE,CAAC,wDAAD,EAA2DC,IAAI,IAAI;AACnE,UAAMC,QAAQ,GAAGL,GAAG,CAACM,IAAJ,CAAS;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAT,EAA2BN,MAAM,CAACO,GAAP,CAAW,UAAX,CAA3B,CAAjB;AACA,UAAMC,OAAO,GAAG;AACdC,MAAAA,OAAO,EAAE;AACP,0BAAkBL;AADX;AADK,KAAhB;AAKA,UAAMM,OAAO,GAAG,EAAhB;AACAb,IAAAA,cAAc,CAACW,OAAD,EAAUE,OAAV,EAAmBP,IAAnB,CAAd;AACD,GATC,CAAF;AAUAD,EAAAA,EAAE,CAAC,kFAAD,EAAqFC,IAAI,IAAI;AAC7F,UAAMK,OAAO,GAAG;AACdC,MAAAA,OAAO,EAAE;AACP,0BAAkB;AADX;AADK,KAAhB;AAMA,UAAMC,OAAO,GAAG,EAAhB;AAEAb,IAAAA,cAAc,CAACW,OAAD,EAAUE,OAAV,EAAmBC,GAAG,IAAI;AACtCC,MAAAA,MAAM,CAACD,GAAG,CAACE,OAAL,CAAN,CAAoBC,EAApB,CAAuBC,GAAvB,CAA2B,eAA3B;AACAZ,MAAAA,IAAI;AACL,KAHa,CAAd;AAID,GAbC,CAAF;AAcAD,EAAAA,EAAE,CAAC,gDAAD,EAAmDC,IAAI,IAAI;AAC3D,UAAMK,OAAO,GAAG;AACdC,MAAAA,OAAO,EAAE;AADK,KAAhB;AAGA,UAAMC,OAAO,GAAG,EAAhB;AACAb,IAAAA,cAAc,CAACW,OAAD,EAAUE,OAAV,EAAmBP,IAAnB,CAAd;AACD,GANC,CAAF;AAOD,CAhCO,CAAR",
      "sourceRoot": "/home/wn/VSCode/back/appTest/test/unit/middlewares/",
      "sourcesContent": [
        "const authMiddleware = require(\"../../../src/middlewares/auth\");\nconst jwt = require(\"jsonwebtoken\");\nconst config = require(\"config\");\n\ndescribe('AuthMiddleware', () => {\n  it('should verify a JWT token and call the next middleware', done => {\n    const jwtToken = jwt.sign({ data: 'fake' }, config.get('auth.key'));\n    const reqFake = {\n      headers: {\n        'x-access-token': jwtToken\n      }\n    };\n    const resFake = {};\n    authMiddleware(reqFake, resFake, done);\n  });\n  it('should call the next middleware passing an error when the token validation fails', done => {\n    const reqFake = {\n      headers: {\n        'x-access-token': 'invalid token'\n      }\n    };\n\n    const resFake = {};\n\n    authMiddleware(reqFake, resFake, err => {\n      expect(err.message).to.eql('jwt malformed');\n      done();\n    });\n  });\n  it('should call next middleware if theres no token', done => {\n    const reqFake = {\n      headers: {}\n    };\n    const resFake = {};\n    authMiddleware(reqFake, resFake, done);\n  });\n});"
      ]
    },
    "sourceType": "script",
    "mtime": 1601213201577
  },
  "{\"sourceRoot\":\"/home/wn/VSCode/back/appTest/src/middlewares/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/wn/VSCode/back/appTest\",\"filename\":\"/home/wn/VSCode/back/appTest/src/middlewares/auth.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/home/wn/VSCode/back/appTest\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6:test": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/middlewares/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/wn/VSCode/back/appTest",
      "filename": "/home/wn/VSCode/back/appTest/src/middlewares/auth.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "test",
      "root": "/home/wn/VSCode/back/appTest",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/wn/VSCode/back/appTest/src/middlewares/auth.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/wn/VSCode/back/appTest/src/middlewares/auth.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/wn/VSCode/back/appTest/src/middlewares/",
        "sourceFileName": "auth.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst jwt = require(\"jsonwebtoken\");\n\nconst config = require(\"config\");\n\nmodule.exports = (req, res, next) => {\n  const token = req.headers['x-access-token'];\n  if (!token) return next();\n  jwt.verify(token, config.get('auth.key'), (err, decoded) => {\n    req.decoded = decoded;\n    next(err);\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguanMiXSwibmFtZXMiOlsiand0IiwicmVxdWlyZSIsImNvbmZpZyIsIm1vZHVsZSIsImV4cG9ydHMiLCJyZXEiLCJyZXMiLCJuZXh0IiwidG9rZW4iLCJoZWFkZXJzIiwidmVyaWZ5IiwiZ2V0IiwiZXJyIiwiZGVjb2RlZCJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxHQUFHLEdBQUdDLE9BQU8sQ0FBQyxjQUFELENBQW5COztBQUNBLE1BQU1DLE1BQU0sR0FBR0QsT0FBTyxDQUFDLFFBQUQsQ0FBdEI7O0FBRUFFLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUNuQyxRQUFNQyxLQUFLLEdBQUdILEdBQUcsQ0FBQ0ksT0FBSixDQUFZLGdCQUFaLENBQWQ7QUFFQSxNQUFJLENBQUNELEtBQUwsRUFBWSxPQUFPRCxJQUFJLEVBQVg7QUFFWlAsRUFBQUEsR0FBRyxDQUFDVSxNQUFKLENBQVdGLEtBQVgsRUFBa0JOLE1BQU0sQ0FBQ1MsR0FBUCxDQUFXLFVBQVgsQ0FBbEIsRUFBMEMsQ0FBQ0MsR0FBRCxFQUFNQyxPQUFOLEtBQWtCO0FBQzFEUixJQUFBQSxHQUFHLENBQUNRLE9BQUosR0FBY0EsT0FBZDtBQUNBTixJQUFBQSxJQUFJLENBQUNLLEdBQUQsQ0FBSjtBQUNELEdBSEQ7QUFJRCxDQVREIiwic291cmNlUm9vdCI6Ii9ob21lL3duL1ZTQ29kZS9iYWNrL2FwcFRlc3Qvc3JjL21pZGRsZXdhcmVzLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGp3dCA9IHJlcXVpcmUoXCJqc29ud2VidG9rZW5cIik7XG5jb25zdCBjb25maWcgPSByZXF1aXJlKFwiY29uZmlnXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICBjb25zdCB0b2tlbiA9IHJlcS5oZWFkZXJzWyd4LWFjY2Vzcy10b2tlbiddO1xuXG4gIGlmICghdG9rZW4pIHJldHVybiBuZXh0KCk7XG4gIFxuICBqd3QudmVyaWZ5KHRva2VuLCBjb25maWcuZ2V0KCdhdXRoLmtleScpLCAoZXJyLCBkZWNvZGVkKSA9PiB7XG4gICAgcmVxLmRlY29kZWQgPSBkZWNvZGVkO1xuICAgIG5leHQoZXJyKTtcbiAgfSk7XG59OyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "auth.js"
      ],
      "names": [
        "jwt",
        "require",
        "config",
        "module",
        "exports",
        "req",
        "res",
        "next",
        "token",
        "headers",
        "verify",
        "get",
        "err",
        "decoded"
      ],
      "mappings": ";;AAAA,MAAMA,GAAG,GAAGC,OAAO,CAAC,cAAD,CAAnB;;AACA,MAAMC,MAAM,GAAGD,OAAO,CAAC,QAAD,CAAtB;;AAEAE,MAAM,CAACC,OAAP,GAAiB,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACnC,QAAMC,KAAK,GAAGH,GAAG,CAACI,OAAJ,CAAY,gBAAZ,CAAd;AAEA,MAAI,CAACD,KAAL,EAAY,OAAOD,IAAI,EAAX;AAEZP,EAAAA,GAAG,CAACU,MAAJ,CAAWF,KAAX,EAAkBN,MAAM,CAACS,GAAP,CAAW,UAAX,CAAlB,EAA0C,CAACC,GAAD,EAAMC,OAAN,KAAkB;AAC1DR,IAAAA,GAAG,CAACQ,OAAJ,GAAcA,OAAd;AACAN,IAAAA,IAAI,CAACK,GAAD,CAAJ;AACD,GAHD;AAID,CATD",
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/middlewares/",
      "sourcesContent": [
        "const jwt = require(\"jsonwebtoken\");\nconst config = require(\"config\");\n\nmodule.exports = (req, res, next) => {\n  const token = req.headers['x-access-token'];\n\n  if (!token) return next();\n  \n  jwt.verify(token, config.get('auth.key'), (err, decoded) => {\n    req.decoded = decoded;\n    next(err);\n  });\n};"
      ]
    },
    "sourceType": "script",
    "mtime": 1601213171104
  },
  "{\"sourceRoot\":\"/home/wn/VSCode/back/appTest/test/unit/controllers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/wn/VSCode/back/appTest\",\"filename\":\"/home/wn/VSCode/back/appTest/test/unit/controllers/products_spec.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/home/wn/VSCode/back/appTest\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6:test": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/wn/VSCode/back/appTest/test/unit/controllers/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/wn/VSCode/back/appTest",
      "filename": "/home/wn/VSCode/back/appTest/test/unit/controllers/products_spec.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "test",
      "root": "/home/wn/VSCode/back/appTest",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/wn/VSCode/back/appTest/test/unit/controllers/products_spec.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/wn/VSCode/back/appTest/test/unit/controllers/products_spec.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/wn/VSCode/back/appTest/test/unit/controllers/",
        "sourceFileName": "products_spec.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst ProductsController = require(\"../../../src/controllers/products\");\n\nconst Product = require(\"../../../src/models/products\");\n\nconst sinon = require(\"sinon\");\n\ndescribe(\"Controllers: Products\", () => {\n  const defaultRequest = {\n    params: {}\n  };\n  const defaultProduct = [{\n    name: \"Default product\",\n    description: \"product description\",\n    price: 100\n  }];\n  describe(\"get() products\", () => {\n    it(\"should return a list of products\", async () => {\n      const response = {\n        send: sinon.spy()\n      };\n      Product.find = sinon.stub();\n      Product.find.withArgs({}).resolves(defaultProduct);\n      const productController = new ProductsController(Product);\n      await productController.get(defaultRequest, response);\n      sinon.assert.calledWith(response.send, defaultProduct);\n    });\n    it(\"should return 400 when an error occurs\", async () => {\n      const request = {};\n      const response = {\n        send: sinon.spy(),\n        status: sinon.stub()\n      };\n      response.status.withArgs(400).returns(response);\n      Product.find = sinon.stub();\n      Product.find.withArgs({}).rejects({\n        message: \"Error\"\n      });\n      const productsController = new ProductsController(Product);\n      await productsController.get(request, response);\n      sinon.assert.calledWith(response.send, \"Error\");\n    });\n  });\n  describe('getById()', () => {\n    it('should call send with one product', async () => {\n      const fakeId = 'a-fake-id';\n      const request = {\n        params: {\n          id: fakeId\n        }\n      };\n      const response = {\n        send: sinon.spy()\n      };\n      Product.find = sinon.stub();\n      Product.find.withArgs({\n        _id: fakeId\n      }).resolves(defaultProduct);\n      const productsController = new ProductsController(Product);\n      await productsController.getById(request, response);\n      sinon.assert.calledWith(response.send, defaultProduct);\n    });\n  });\n  describe('create() product', () => {\n    it('should save a new product successfully', async () => {\n      const requestWithBody = Object.assign({}, {\n        body: defaultProduct[0]\n      }, defaultRequest);\n      const response = {\n        send: sinon.spy(),\n        status: sinon.stub()\n      };\n\n      class fakeProduct {\n        save() {}\n\n      }\n\n      response.status.withArgs(201).returns(response);\n      sinon.stub(fakeProduct.prototype, 'save').withArgs().resolves();\n      const productsController = new ProductsController(fakeProduct);\n      await productsController.create(requestWithBody, response);\n      sinon.assert.calledWith(response.send);\n    });\n    context('when an error occurs', () => {\n      it('should return 422', async () => {\n        const response = {\n          send: sinon.spy(),\n          status: sinon.stub()\n        };\n\n        class fakeProduct {\n          save() {}\n\n        }\n\n        response.status.withArgs(422).returns(response);\n        sinon.stub(fakeProduct.prototype, 'save').withArgs().rejects({\n          message: 'Error'\n        });\n        const productsController = new ProductsController(fakeProduct);\n        await productsController.create(defaultRequest, response);\n        sinon.assert.calledWith(response.status, 422);\n      });\n    });\n  });\n  describe('update() product', () => {\n    it('should respond with 200 when the product has been updated', async () => {\n      const fakeId = 'a-fake-id';\n      const updatedProduct = {\n        _id: fakeId,\n        name: 'Updated product',\n        description: 'Updated description',\n        price: 150\n      };\n      const request = {\n        params: {\n          id: fakeId\n        },\n        body: updatedProduct\n      };\n      const response = {\n        sendStatus: sinon.spy()\n      };\n\n      class fakeProduct {\n        static updateOne() {}\n\n      }\n\n      const updateOneStub = sinon.stub(fakeProduct, 'updateOne');\n      updateOneStub.withArgs({\n        _id: fakeId\n      }, updatedProduct).resolves(updatedProduct);\n      const productsController = new ProductsController(fakeProduct);\n      await productsController.update(request, response);\n      sinon.assert.calledWith(response.sendStatus, 200);\n    });\n    context('when an error occurs', () => {\n      it('should return 422', async () => {\n        const fakeId = 'a-fake-id';\n        const updatedProduct = {\n          _id: fakeId,\n          name: 'Updated product',\n          description: 'Updated description',\n          price: 150\n        };\n        const request = {\n          params: {\n            id: fakeId\n          },\n          body: updatedProduct\n        };\n        const response = {\n          send: sinon.spy(),\n          status: sinon.stub()\n        };\n\n        class fakeProduct {\n          static updateOne() {}\n\n        }\n\n        const updateOneStub = sinon.stub(fakeProduct, 'updateOne');\n        updateOneStub.withArgs({\n          _id: fakeId\n        }, updatedProduct).rejects({\n          message: 'Error'\n        });\n        response.status.withArgs(422).returns(response);\n        const productsController = new ProductsController(fakeProduct);\n        await productsController.update(request, response);\n        sinon.assert.calledWith(response.send, 'Error');\n      });\n    });\n  });\n  describe('delete() product', () => {\n    it('should respond with 204 when the product has been deleted', async () => {\n      const fakeId = 'a-fake-id';\n      const request = {\n        params: {\n          id: fakeId\n        }\n      };\n      const response = {\n        sendStatus: sinon.spy()\n      };\n\n      class fakeProduct {\n        static deleteOne() {}\n\n      }\n\n      const deleteOneStub = sinon.stub(fakeProduct, 'deleteOne');\n      deleteOneStub.withArgs({\n        _id: fakeId\n      }).resolves([1]);\n      const productsController = new ProductsController(fakeProduct);\n      await productsController.remove(request, response);\n      sinon.assert.calledWith(response.sendStatus, 204);\n    });\n    context('when an error occurs', () => {\n      it('should return 400', async () => {\n        const fakeId = 'a-fake-id';\n        const request = {\n          params: {\n            id: fakeId\n          }\n        };\n        const response = {\n          send: sinon.spy(),\n          status: sinon.stub()\n        };\n\n        class fakeProduct {\n          static deleteOne() {}\n\n        }\n\n        const deleteOneStub = sinon.stub(fakeProduct, 'deleteOne');\n        deleteOneStub.withArgs({\n          _id: fakeId\n        }).rejects({\n          message: 'Error'\n        });\n        response.status.withArgs(400).returns(response);\n        const productsController = new ProductsController(fakeProduct);\n        await productsController.remove(request, response);\n        sinon.assert.calledWith(response.send, 'Error');\n      });\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RzX3NwZWMuanMiXSwibmFtZXMiOlsiUHJvZHVjdHNDb250cm9sbGVyIiwicmVxdWlyZSIsIlByb2R1Y3QiLCJzaW5vbiIsImRlc2NyaWJlIiwiZGVmYXVsdFJlcXVlc3QiLCJwYXJhbXMiLCJkZWZhdWx0UHJvZHVjdCIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsInByaWNlIiwiaXQiLCJyZXNwb25zZSIsInNlbmQiLCJzcHkiLCJmaW5kIiwic3R1YiIsIndpdGhBcmdzIiwicmVzb2x2ZXMiLCJwcm9kdWN0Q29udHJvbGxlciIsImdldCIsImFzc2VydCIsImNhbGxlZFdpdGgiLCJyZXF1ZXN0Iiwic3RhdHVzIiwicmV0dXJucyIsInJlamVjdHMiLCJtZXNzYWdlIiwicHJvZHVjdHNDb250cm9sbGVyIiwiZmFrZUlkIiwiaWQiLCJfaWQiLCJnZXRCeUlkIiwicmVxdWVzdFdpdGhCb2R5IiwiT2JqZWN0IiwiYXNzaWduIiwiYm9keSIsImZha2VQcm9kdWN0Iiwic2F2ZSIsInByb3RvdHlwZSIsImNyZWF0ZSIsImNvbnRleHQiLCJ1cGRhdGVkUHJvZHVjdCIsInNlbmRTdGF0dXMiLCJ1cGRhdGVPbmUiLCJ1cGRhdGVPbmVTdHViIiwidXBkYXRlIiwiZGVsZXRlT25lIiwiZGVsZXRlT25lU3R1YiIsInJlbW92ZSJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxrQkFBa0IsR0FBR0MsT0FBTyxDQUFDLG1DQUFELENBQWxDOztBQUNBLE1BQU1DLE9BQU8sR0FBR0QsT0FBTyxDQUFDLDhCQUFELENBQXZCOztBQUNBLE1BQU1FLEtBQUssR0FBR0YsT0FBTyxDQUFDLE9BQUQsQ0FBckI7O0FBRUFHLFFBQVEsQ0FBQyx1QkFBRCxFQUEwQixNQUFNO0FBQ3RDLFFBQU1DLGNBQWMsR0FBRztBQUNyQkMsSUFBQUEsTUFBTSxFQUFFO0FBRGEsR0FBdkI7QUFHQSxRQUFNQyxjQUFjLEdBQUcsQ0FBQztBQUN0QkMsSUFBQUEsSUFBSSxFQUFFLGlCQURnQjtBQUV0QkMs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QUFrQjtBQUNoQixpQkFBT1UsU0FBUCxHQUFtQixDQUFFOztBQURMOztBQUlsQixjQUFNQyxhQUFhLEdBQUc3QyxLQUFLLENBQUNhLElBQU4sQ0FBV3FCLFdBQVgsRUFBd0IsV0FBeEIsQ0FBdEI7QUFFQVcsUUFBQUEsYUFBYSxDQUFDL0IsUUFBZCxDQUF1QjtBQUFFYyxVQUFBQSxHQUFHLEVBQUVGO0FBQVAsU0FBdkIsRUFBd0NILE9BQXhDLENBQWdEO0FBQUVDLFVBQUFBLE9BQU8sRUFBRTtBQUFYLFNBQWhEO0FBQ0FmLFFBQUFBLFFBQVEsQ0FBQ1ksTUFBVCxDQUFnQlAsUUFBaEIsQ0FBeUIsR0FBekIsRUFBOEJRLE9BQTlCLENBQXNDYixRQUF0QztBQUVBLGNBQU1nQixrQkFBa0IsR0FBRyxJQUFJNUIsa0JBQUosQ0FBdUJxQyxXQUF2QixDQUEzQjtBQUVBLGNBQU1ULGtCQUFrQixDQUFDcUIsTUFBbkIsQ0FBMEIxQixPQUExQixFQUFtQ1gsUUFBbkMsQ0FBTjtBQUNBVCxRQUFBQSxLQUFLLENBQUNrQixNQUFOLENBQWFDLFVBQWIsQ0FBd0JWLFFBQVEsQ0FBQ0MsSUFBakMsRUFBdUMsT0FBdkM7QUFDRCxPQXpCQyxDQUFGO0FBMEJELEtBM0JNLENBQVA7QUE0QkQsR0FwRE8sQ0FBUjtBQXFERCxDQTNPTyxDQUFSIiwic291cmNlUm9vdCI6Ii9ob21lL3duL1ZTQ29kZS9iYWNrL2FwcFRlc3QvdGVzdC91bml0L2NvbnRyb2xsZXJzLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFByb2R1Y3RzQ29udHJvbGxlciA9IHJlcXVpcmUoXCIuLi8uLi8uLi9zcmMvY29udHJvbGxlcnMvcHJvZHVjdHNcIik7XG5jb25zdCBQcm9kdWN0ID0gcmVxdWlyZShcIi4uLy4uLy4uL3NyYy9tb2RlbHMvcHJvZHVjdHNcIik7XG5jb25zdCBzaW5vbiA9IHJlcXVpcmUoXCJzaW5vblwiKTtcblxuZGVzY3JpYmUoXCJDb250cm9sbGVyczogUHJvZHVjdHNcIiwgKCkgPT4ge1xuICBjb25zdCBkZWZhdWx0UmVxdWVzdCA9IHtcbiAgICBwYXJhbXM6IHt9XG4gIH07XG4gIGNvbnN0IGRlZmF1bHRQcm9kdWN0ID0gW3tcbiAgICBuYW1lOiBcIkRlZmF1bHQgcHJvZHVjdFwiLFxuICAgIGRlc2NyaXB0aW9uOiBcInByb2R1Y3QgZGVzY3JpcHRpb25cIixcbiAgICBwcmljZTogMTAwXG4gIH1dO1xuXG4gIGRlc2NyaWJlKFwiZ2V0KCkgcHJvZHVjdHNcIiwgKCkgPT4ge1xuICAgIGl0KFwic2hvdWxkIHJldHVybiBhIGxpc3Qgb2YgcHJvZHVjdHNcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgIHNlbmQ6IHNpbm9uLnNweSgpXG4gICAgICB9O1xuXG4gICAgICBQcm9kdWN0LmZpbmQgPSBzaW5vbi5zdHViKCk7XG4gICAgICBQcm9kdWN0LmZpbmQud2l0aEFyZ3Moe30pLnJlc29sdmVzKGRlZmF1bHRQcm9kdWN0KTtcblxuICAgICAgY29uc3QgcHJvZHVjdENvbnRyb2xsZXIgPSBuZXcgUHJvZHVjdHNDb250cm9sbGVyKFByb2R1Y3QpO1xuICAgICAgYXdhaXQgcHJvZHVjdENvbnRyb2xsZXIuZ2V0KGRlZmF1bHRSZXF1ZXN0LCByZXNwb25zZSk7XG5cbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKHJlc3BvbnNlLnNlbmQsIGRlZmF1bHRQcm9kdWN0KTtcbiAgICB9KTtcbiAgICBpdChcInNob3VsZCByZXR1cm4gNDAwIHdoZW4gYW4gZXJyb3Igb2NjdXJzXCIsIGFzeW5jICgpID0+IHsgICAgICBcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSB7fTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICBzZW5kOiBzaW5vbi5zcHkoKSxcbiAgICAgICAgc3RhdHVzOiBzaW5vbi5zdHViKClcbiAgICAgIH07XG4gICAgICByZXNwb25zZS5zdGF0dXMud2l0aEFyZ3MoNDAwKS5yZXR1cm5zKHJlc3BvbnNlKTtcbiAgICAgIFByb2R1Y3QuZmluZCA9IHNpbm9uLnN0dWIoKTtcbiAgICAgIFByb2R1Y3QuZmluZC53aXRoQXJncyh7fSkucmVqZWN0cyh7IG1lc3NhZ2U6IFwiRXJyb3JcIiB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgcHJvZHVjdHNDb250cm9sbGVyID0gbmV3IFByb2R1Y3RzQ29udHJvbGxlcihQcm9kdWN0KTtcblxuICAgICAgYXdhaXQgcHJvZHVjdHNDb250cm9sbGVyLmdldChyZXF1ZXN0LCByZXNwb25zZSk7XG5cbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKHJlc3BvbnNlLnNlbmQsIFwiRXJyb3JcIik7XG4gICAgfSk7XG4gIH0pO1xuICBcbiAgZGVzY3JpYmUoJ2dldEJ5SWQoKScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNhbGwgc2VuZCB3aXRoIG9uZSBwcm9kdWN0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZmFrZUlkID0gJ2EtZmFrZS1pZCc7XG4gICAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICBpZDogZmFrZUlkXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgc2VuZDogc2lub24uc3B5KClcbiAgICAgIH07XG4gICAgICBQcm9kdWN0LmZpbmQgPSBzaW5vbi5zdHViKCk7XG5cbiAgICAgIFByb2R1Y3QuZmluZC53aXRoQXJncyh7IF9pZDogZmFrZUlkIH0pLnJlc29sdmVzKGRlZmF1bHRQcm9kdWN0KTtcblxuICAgICAgY29uc3QgcHJvZHVjdHNDb250cm9sbGVyID0gbmV3IFByb2R1Y3RzQ29udHJvbGxlcihQcm9kdWN0KTtcbiAgICAgIGF3YWl0IHByb2R1Y3RzQ29udHJvbGxlci5nZXRCeUlkKHJlcXVlc3QsIHJlc3BvbnNlKTtcblxuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgocmVzcG9uc2Uuc2VuZCwgZGVmYXVsdFByb2R1Y3QpO1xuICAgIH0pO1xuICB9KTtcbiAgXG4gIGRlc2NyaWJlKCdjcmVhdGUoKSBwcm9kdWN0JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgc2F2ZSBhIG5ldyBwcm9kdWN0IHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlcXVlc3RXaXRoQm9keSA9IE9iamVjdC5hc3NpZ24oXG4gICAgICAgIHt9LFxuICAgICAgICB7IGJvZHk6IGRlZmF1bHRQcm9kdWN0WzBdIH0sXG4gICAgICAgIGRlZmF1bHRSZXF1ZXN0XG4gICAgICApO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgIHNlbmQ6IHNpbm9uLnNweSgpLFxuICAgICAgICBzdGF0dXM6IHNpbm9uLnN0dWIoKVxuICAgICAgfTtcbiAgICAgIGNsYXNzIGZha2VQcm9kdWN0IHtcbiAgICAgICAgc2F2ZSgpIHt9XG4gICAgICB9XG4gICAgICByZXNwb25zZS5zdGF0dXMud2l0aEFyZ3MoMjAxKS5yZXR1cm5zKHJlc3BvbnNlKTtcbiAgICAgIHNpbm9uXG4gICAgICAgIC5zdHViKGZha2VQcm9kdWN0LnByb3RvdHlwZSwgJ3NhdmUnKVxuICAgICAgICAud2l0aEFyZ3MoKVxuICAgICAgICAucmVzb2x2ZXMoKTtcbiAgICAgIGNvbnN0IHByb2R1Y3RzQ29udHJvbGxlciA9IG5ldyBQcm9kdWN0c0NvbnRyb2xsZXIoZmFrZVByb2R1Y3QpO1xuICAgICAgYXdhaXQgcHJvZHVjdHNDb250cm9sbGVyLmNyZWF0ZShyZXF1ZXN0V2l0aEJvZHksIHJlc3BvbnNlKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKHJlc3BvbnNlLnNlbmQpO1xuICAgIH0pO1xuICAgIGNvbnRleHQoJ3doZW4gYW4gZXJyb3Igb2NjdXJzJywgKCkgPT4ge1xuICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gNDIyJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgICBzZW5kOiBzaW5vbi5zcHkoKSxcbiAgICAgICAgICBzdGF0dXM6IHNpbm9uLnN0dWIoKVxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgY2xhc3MgZmFrZVByb2R1Y3Qge1xuICAgICAgICAgIHNhdmUoKSB7fVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXNwb25zZS5zdGF0dXMud2l0aEFyZ3MoNDIyKS5yZXR1cm5zKHJlc3BvbnNlKTtcbiAgICAgICAgc2lub25cbiAgICAgICAgICAuc3R1YihmYWtlUHJvZHVjdC5wcm90b3R5cGUsICdzYXZlJylcbiAgICAgICAgICAud2l0aEFyZ3MoKVxuICAgICAgICAgIC5yZWplY3RzKHsgbWVzc2FnZTogJ0Vycm9yJyB9KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHByb2R1Y3RzQ29udHJvbGxlciA9IG5ldyBQcm9kdWN0c0NvbnRyb2xsZXIoZmFrZVByb2R1Y3QpO1xuICAgICAgICBhd2FpdCBwcm9kdWN0c0NvbnRyb2xsZXIuY3JlYXRlKGRlZmF1bHRSZXF1ZXN0LCByZXNwb25zZSk7XG4gICAgICAgIFxuICAgICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChyZXNwb25zZS5zdGF0dXMsIDQyMik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG4gIFxuICBkZXNjcmliZSgndXBkYXRlKCkgcHJvZHVjdCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJlc3BvbmQgd2l0aCAyMDAgd2hlbiB0aGUgcHJvZHVjdCBoYXMgYmVlbiB1cGRhdGVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZmFrZUlkID0gJ2EtZmFrZS1pZCc7XG4gICAgICBjb25zdCB1cGRhdGVkUHJvZHVjdCA9IHtcbiAgICAgICAgX2lkOiBmYWtlSWQsXG4gICAgICAgIG5hbWU6ICdVcGRhdGVkIHByb2R1Y3QnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1VwZGF0ZWQgZGVzY3JpcHRpb24nLFxuICAgICAgICBwcmljZTogMTUwXG4gICAgICB9O1xuICAgICAgY29uc3QgcmVxdWVzdCA9IHtcbiAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgIGlkOiBmYWtlSWRcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogdXBkYXRlZFByb2R1Y3RcbiAgICAgIH07XG4gICAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgc2VuZFN0YXR1czogc2lub24uc3B5KClcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGNsYXNzIGZha2VQcm9kdWN0IHtcbiAgICAgICAgc3RhdGljIHVwZGF0ZU9uZSgpIHt9XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IHVwZGF0ZU9uZVN0dWIgPSBzaW5vbi5zdHViKGZha2VQcm9kdWN0LCAndXBkYXRlT25lJyk7XG4gICAgICBcbiAgICAgIHVwZGF0ZU9uZVN0dWIud2l0aEFyZ3MoeyBfaWQ6IGZha2VJZCB9LCB1cGRhdGVkUHJvZHVjdCkucmVzb2x2ZXModXBkYXRlZFByb2R1Y3QpO1xuICAgICAgXG4gICAgICBjb25zdCBwcm9kdWN0c0NvbnRyb2xsZXIgPSBuZXcgUHJvZHVjdHNDb250cm9sbGVyKGZha2VQcm9kdWN0KTtcbiAgICAgIGF3YWl0IHByb2R1Y3RzQ29udHJvbGxlci51cGRhdGUocmVxdWVzdCwgcmVzcG9uc2UpO1xuICAgICAgXG4gICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChyZXNwb25zZS5zZW5kU3RhdHVzLCAyMDApO1xuICAgIH0pO1xuICAgIGNvbnRleHQoJ3doZW4gYW4gZXJyb3Igb2NjdXJzJywgKCkgPT4ge1xuICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gNDIyJywgYXN5bmMoKSA9PiB7XG4gICAgICAgIGNvbnN0IGZha2VJZCA9ICdhLWZha2UtaWQnO1xuICAgICAgICBjb25zdCB1cGRhdGVkUHJvZHVjdCA9IHtcbiAgICAgICAgICBfaWQ6IGZha2VJZCxcbiAgICAgICAgICBuYW1lOiAnVXBkYXRlZCBwcm9kdWN0JyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1VwZGF0ZWQgZGVzY3JpcHRpb24nLFxuICAgICAgICAgIHByaWNlOiAxNTBcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHtcbiAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgIGlkOiBmYWtlSWRcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJvZHk6IHVwZGF0ZWRQcm9kdWN0XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAgIHNlbmQ6IHNpbm9uLnNweSgpLFxuICAgICAgICAgIHN0YXR1czogc2lub24uc3R1YigpXG4gICAgICAgIH07XG4gICAgICAgIGNsYXNzIGZha2VQcm9kdWN0IHtcbiAgICAgICAgICBzdGF0aWMgdXBkYXRlT25lKCkge31cbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1cGRhdGVPbmVTdHViID0gc2lub24uc3R1YihmYWtlUHJvZHVjdCwgJ3VwZGF0ZU9uZScpO1xuICAgICAgICBcbiAgICAgICAgdXBkYXRlT25lU3R1YlxuICAgICAgICAgIC53aXRoQXJncyh7IF9pZDogZmFrZUlkIH0sIHVwZGF0ZWRQcm9kdWN0KVxuICAgICAgICAgIC5yZWplY3RzKHsgbWVzc2FnZTogJ0Vycm9yJyB9KTtcbiAgICAgICAgXG4gICAgICAgICAgcmVzcG9uc2Uuc3RhdHVzLndpdGhBcmdzKDQyMikucmV0dXJucyhyZXNwb25zZSk7XG4gIFxuICAgICAgICBjb25zdCBwcm9kdWN0c0NvbnRyb2xsZXIgPSBuZXcgUHJvZHVjdHNDb250cm9sbGVyKGZha2VQcm9kdWN0KTtcbiAgXG4gICAgICAgIGF3YWl0IHByb2R1Y3RzQ29udHJvbGxlci51cGRhdGUocmVxdWVzdCwgcmVzcG9uc2UpO1xuICAgICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChyZXNwb25zZS5zZW5kLCAnRXJyb3InKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTsgICAgIFxuICBcbiAgZGVzY3JpYmUoJ2RlbGV0ZSgpIHByb2R1Y3QnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXNwb25kIHdpdGggMjA0IHdoZW4gdGhlIHByb2R1Y3QgaGFzIGJlZW4gZGVsZXRlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGZha2VJZCA9ICdhLWZha2UtaWQnO1xuICAgICAgY29uc3QgcmVxdWVzdCA9IHtcbiAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgIGlkOiBmYWtlSWRcbiAgICAgIH1cbiAgICAgIH07XG4gICAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgc2VuZFN0YXR1czogc2lub24uc3B5KClcbiAgICAgIH07XG5cbiAgICAgIGNsYXNzIGZha2VQcm9kdWN0IHtcbiAgICAgICAgc3RhdGljIGRlbGV0ZU9uZSgpIHt9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRlbGV0ZU9uZVN0dWIgPSBzaW5vbi5zdHViKGZha2VQcm9kdWN0LCAnZGVsZXRlT25lJyk7XG4gICAgICBkZWxldGVPbmVTdHViLndpdGhBcmdzKHsgX2lkOiBmYWtlSWQgfSkucmVzb2x2ZXMoWzFdKTtcblxuICAgICAgY29uc3QgcHJvZHVjdHNDb250cm9sbGVyID0gbmV3IFByb2R1Y3RzQ29udHJvbGxlcihmYWtlUHJvZHVjdCk7XG5cbiAgICAgIGF3YWl0IHByb2R1Y3RzQ29udHJvbGxlci5yZW1vdmUocmVxdWVzdCwgcmVzcG9uc2UpO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgocmVzcG9uc2Uuc2VuZFN0YXR1cywgMjA0KTtcbiAgICB9KTtcbiAgICBjb250ZXh0KCd3aGVuIGFuIGVycm9yIG9jY3VycycsICgpID0+IHtcbiAgICAgIGl0KCdzaG91bGQgcmV0dXJuIDQwMCcsIGFzeW5jKCkgPT4ge1xuICAgICAgICBjb25zdCBmYWtlSWQgPSAnYS1mYWtlLWlkJztcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHtcbiAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgIGlkOiBmYWtlSWRcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAgIHNlbmQ6IHNpbm9uLnNweSgpLFxuICAgICAgICAgIHN0YXR1czogc2lub24uc3R1YigpXG4gICAgICAgIH07XG5cbiAgICAgICAgY2xhc3MgZmFrZVByb2R1Y3Qge1xuICAgICAgICAgIHN0YXRpYyBkZWxldGVPbmUoKSB7fVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZGVsZXRlT25lU3R1YiA9IHNpbm9uLnN0dWIoZmFrZVByb2R1Y3QsICdkZWxldGVPbmUnKTtcblxuICAgICAgICBkZWxldGVPbmVTdHViLndpdGhBcmdzKHsgX2lkOiBmYWtlSWQgfSkucmVqZWN0cyh7IG1lc3NhZ2U6ICdFcnJvcicgfSk7XG4gICAgICAgIHJlc3BvbnNlLnN0YXR1cy53aXRoQXJncyg0MDApLnJldHVybnMocmVzcG9uc2UpO1xuXG4gICAgICAgIGNvbnN0IHByb2R1Y3RzQ29udHJvbGxlciA9IG5ldyBQcm9kdWN0c0NvbnRyb2xsZXIoZmFrZVByb2R1Y3QpO1xuXG4gICAgICAgIGF3YWl0IHByb2R1Y3RzQ29udHJvbGxlci5yZW1vdmUocmVxdWVzdCwgcmVzcG9uc2UpO1xuICAgICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChyZXNwb25zZS5zZW5kLCAnRXJyb3InKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "products_spec.js"
      ],
      "names": [
        "ProductsController",
        "require",
        "Product",
        "sinon",
        "describe",
        "defaultRequest",
        "params",
        "defaultProduct",
        "name",
        "description",
        "price",
        "it",
        "response",
        "send",
        "spy",
        "find",
        "stub",
        "withArgs",
        "resolves",
        "productController",
        "get",
        "assert",
        "calledWith",
        "request",
        "status",
        "returns",
        "rejects",
        "message",
        "productsController",
        "fakeId",
        "id",
        "_id",
        "getById",
        "requestWithBody",
        "Object",
        "assign",
        "body",
        "fakeProduct",
        "save",
        "prototype",
        "create",
        "context",
        "updatedProduct",
        "sendStatus",
        "updateOne",
        "updateOneStub",
        "update",
        "deleteOne",
        "deleteOneStub",
        "remove"
      ],
      "mappings": "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",
      "sourceRoot": "/home/wn/VSCode/back/appTest/test/unit/controllers/",
      "sourcesContent": [
        "const ProductsController = require(\"../../../src/controllers/products\");\nconst Product = require(\"../../../src/models/products\");\nconst sinon = require(\"sinon\");\n\ndescribe(\"Controllers: Products\", () => {\n  const defaultRequest = {\n    params: {}\n  };\n  const defaultProduct = [{\n    name: \"Default product\",\n    description: \"product description\",\n    price: 100\n  }];\n\n  describe(\"get() products\", () => {\n    it(\"should return a list of products\", async () => {\n      const response = {\n        send: sinon.spy()\n      };\n\n      Product.find = sinon.stub();\n      Product.find.withArgs({}).resolves(defaultProduct);\n\n      const productController = new ProductsController(Product);\n      await productController.get(defaultRequest, response);\n\n      sinon.assert.calledWith(response.send, defaultProduct);\n    });\n    it(\"should return 400 when an error occurs\", async () => {      \n      const request = {};\n      const response = {\n        send: sinon.spy(),\n        status: sinon.stub()\n      };\n      response.status.withArgs(400).returns(response);\n      Product.find = sinon.stub();\n      Product.find.withArgs({}).rejects({ message: \"Error\" });\n      \n      const productsController = new ProductsController(Product);\n\n      await productsController.get(request, response);\n\n      sinon.assert.calledWith(response.send, \"Error\");\n    });\n  });\n  \n  describe('getById()', () => {\n    it('should call send with one product', async () => {\n      const fakeId = 'a-fake-id';\n      const request = {\n        params: {\n          id: fakeId\n        }\n      };\n      const response = {\n        send: sinon.spy()\n      };\n      Product.find = sinon.stub();\n\n      Product.find.withArgs({ _id: fakeId }).resolves(defaultProduct);\n\n      const productsController = new ProductsController(Product);\n      await productsController.getById(request, response);\n\n      sinon.assert.calledWith(response.send, defaultProduct);\n    });\n  });\n  \n  describe('create() product', () => {\n    it('should save a new product successfully', async () => {\n      const requestWithBody = Object.assign(\n        {},\n        { body: defaultProduct[0] },\n        defaultRequest\n      );\n      const response = {\n        send: sinon.spy(),\n        status: sinon.stub()\n      };\n      class fakeProduct {\n        save() {}\n      }\n      response.status.withArgs(201).returns(response);\n      sinon\n        .stub(fakeProduct.prototype, 'save')\n        .withArgs()\n        .resolves();\n      const productsController = new ProductsController(fakeProduct);\n      await productsController.create(requestWithBody, response);\n      sinon.assert.calledWith(response.send);\n    });\n    context('when an error occurs', () => {\n      it('should return 422', async () => {\n        const response = {\n          send: sinon.spy(),\n          status: sinon.stub()\n        };\n        \n        class fakeProduct {\n          save() {}\n        }\n        \n        response.status.withArgs(422).returns(response);\n        sinon\n          .stub(fakeProduct.prototype, 'save')\n          .withArgs()\n          .rejects({ message: 'Error' });\n        \n        const productsController = new ProductsController(fakeProduct);\n        await productsController.create(defaultRequest, response);\n        \n        sinon.assert.calledWith(response.status, 422);\n      });\n    });\n  });\n  \n  describe('update() product', () => {\n    it('should respond with 200 when the product has been updated', async () => {\n      const fakeId = 'a-fake-id';\n      const updatedProduct = {\n        _id: fakeId,\n        name: 'Updated product',\n        description: 'Updated description',\n        price: 150\n      };\n      const request = {\n        params: {\n        id: fakeId\n        },\n        body: updatedProduct\n      };\n      const response = {\n        sendStatus: sinon.spy()\n      };\n      \n      class fakeProduct {\n        static updateOne() {}\n      }\n      \n      const updateOneStub = sinon.stub(fakeProduct, 'updateOne');\n      \n      updateOneStub.withArgs({ _id: fakeId }, updatedProduct).resolves(updatedProduct);\n      \n      const productsController = new ProductsController(fakeProduct);\n      await productsController.update(request, response);\n      \n      sinon.assert.calledWith(response.sendStatus, 200);\n    });\n    context('when an error occurs', () => {\n      it('should return 422', async() => {\n        const fakeId = 'a-fake-id';\n        const updatedProduct = {\n          _id: fakeId,\n          name: 'Updated product',\n          description: 'Updated description',\n          price: 150\n        };\n        const request = {\n          params: {\n            id: fakeId\n          },\n          body: updatedProduct\n        };\n        const response = {\n          send: sinon.spy(),\n          status: sinon.stub()\n        };\n        class fakeProduct {\n          static updateOne() {}\n        }\n        const updateOneStub = sinon.stub(fakeProduct, 'updateOne');\n        \n        updateOneStub\n          .withArgs({ _id: fakeId }, updatedProduct)\n          .rejects({ message: 'Error' });\n        \n          response.status.withArgs(422).returns(response);\n  \n        const productsController = new ProductsController(fakeProduct);\n  \n        await productsController.update(request, response);\n        sinon.assert.calledWith(response.send, 'Error');\n      });\n    });\n  });     \n  \n  describe('delete() product', () => {\n    it('should respond with 204 when the product has been deleted', async () => {\n      const fakeId = 'a-fake-id';\n      const request = {\n        params: {\n        id: fakeId\n      }\n      };\n      const response = {\n        sendStatus: sinon.spy()\n      };\n\n      class fakeProduct {\n        static deleteOne() {}\n      }\n\n      const deleteOneStub = sinon.stub(fakeProduct, 'deleteOne');\n      deleteOneStub.withArgs({ _id: fakeId }).resolves([1]);\n\n      const productsController = new ProductsController(fakeProduct);\n\n      await productsController.remove(request, response);\n      sinon.assert.calledWith(response.sendStatus, 204);\n    });\n    context('when an error occurs', () => {\n      it('should return 400', async() => {\n        const fakeId = 'a-fake-id';\n        const request = {\n          params: {\n            id: fakeId\n          }\n        };\n        const response = {\n          send: sinon.spy(),\n          status: sinon.stub()\n        };\n\n        class fakeProduct {\n          static deleteOne() {}\n        }\n\n        const deleteOneStub = sinon.stub(fakeProduct, 'deleteOne');\n\n        deleteOneStub.withArgs({ _id: fakeId }).rejects({ message: 'Error' });\n        response.status.withArgs(400).returns(response);\n\n        const productsController = new ProductsController(fakeProduct);\n\n        await productsController.remove(request, response);\n        sinon.assert.calledWith(response.send, 'Error');\n      });\n    });\n  });\n});\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1601146233772
  },
  "{\"sourceRoot\":\"/home/wn/VSCode/back/appTest/test/unit/controllers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/wn/VSCode/back/appTest\",\"filename\":\"/home/wn/VSCode/back/appTest/test/unit/controllers/users_spec.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/home/wn/VSCode/back/appTest\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6:test": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/wn/VSCode/back/appTest/test/unit/controllers/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/wn/VSCode/back/appTest",
      "filename": "/home/wn/VSCode/back/appTest/test/unit/controllers/users_spec.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "test",
      "root": "/home/wn/VSCode/back/appTest",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/wn/VSCode/back/appTest/test/unit/controllers/users_spec.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/wn/VSCode/back/appTest/test/unit/controllers/users_spec.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/wn/VSCode/back/appTest/test/unit/controllers/",
        "sourceFileName": "users_spec.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst UsersController = require(\"../../../src/controllers/users\");\n\nconst sinon = require(\"sinon\");\n\nconst User = require(\"../../../src/models/users\");\n\ndescribe('Controller: Users', () => {\n  const defaultUser = [{\n    __v: 0,\n    _id: '56cb91bdc3464f14678934ca',\n    name: 'Default User',\n    email: 'user@mail.com',\n    password: 'password',\n    role: 'user'\n  }];\n  const defaultRequest = {\n    params: {}\n  };\n  describe('get() users', () => {\n    it('should return a list of users', async () => {\n      const response = {\n        send: sinon.spy()\n      };\n      User.find = sinon.stub();\n      User.find.withArgs({}).resolves(defaultUser);\n      const usersController = new UsersController(User);\n      await usersController.get(defaultRequest, response);\n      sinon.assert.calledWith(response.send, defaultUser);\n    });\n    it('should return 400 when an error occurs', async () => {\n      const request = {};\n      const response = {\n        send: sinon.spy(),\n        status: sinon.stub()\n      };\n      response.status.withArgs(400).returns(response);\n      User.find = sinon.stub();\n      User.find.withArgs({}).rejects({\n        message: 'Error'\n      });\n      const usersController = new UsersController(User);\n      await usersController.get(request, response);\n      sinon.assert.calledWith(response.send, 'Error');\n    });\n  });\n  describe('getById()', () => {\n    it('should call send with one user', async () => {\n      const fakeId = 'a-fake-id';\n      const request = {\n        params: {\n          id: fakeId\n        }\n      };\n      const response = {\n        send: sinon.spy()\n      };\n      User.find = sinon.stub();\n      User.find.withArgs({\n        _id: fakeId\n      }).resolves(defaultUser);\n      const usersController = new UsersController(User);\n      await usersController.getById(request, response);\n      sinon.assert.calledWith(response.send, defaultUser);\n    });\n  });\n  describe('create() user', () => {\n    it('should call send with a new user', async () => {\n      const requestWithBody = Object.assign({}, {\n        body: defaultUser[0]\n      }, defaultRequest);\n      const response = {\n        send: sinon.spy(),\n        status: sinon.stub()\n      };\n\n      class fakeUser {\n        save() {}\n\n      }\n\n      response.status.withArgs(201).returns(response);\n      sinon.stub(fakeUser.prototype, 'save').withArgs().resolves();\n      const usersController = new UsersController(fakeUser);\n      await usersController.create(requestWithBody, response);\n      sinon.assert.calledWith(response.send);\n    });\n  });\n  context('when an error occurs', () => {\n    it('should return 422', async () => {\n      const response = {\n        send: sinon.spy(),\n        status: sinon.stub()\n      };\n\n      class fakeUser {\n        save() {}\n\n      }\n\n      response.status.withArgs(422).returns(response);\n      sinon.stub(fakeUser.prototype, 'save').withArgs().rejects({\n        message: 'Error'\n      });\n      const usersController = new UsersController(fakeUser);\n      await usersController.create(defaultRequest, response);\n      sinon.assert.calledWith(response.status, 422);\n    });\n  });\n  describe('update() user', () => {\n    it('should respond with 200 when the user has been updated', async () => {\n      const fakeId = 'a-fake-id';\n      const updatedUser = {\n        _id: fakeId,\n        name: 'Updated User',\n        email: 'user@mail.com',\n        password: 'password',\n        role: 'user'\n      };\n      const request = {\n        params: {\n          id: fakeId\n        },\n        body: updatedUser\n      };\n      const response = {\n        sendStatus: sinon.spy()\n      };\n\n      class fakeUser {\n        static findById() {}\n\n        save() {}\n\n      }\n\n      const fakeUserInstance = new fakeUser();\n      const saveSpy = sinon.spy(fakeUser.prototype, 'save');\n      const findByIdStub = sinon.stub(fakeUser, 'findById');\n      findByIdStub.withArgs(fakeId).resolves(fakeUserInstance);\n      const usersController = new UsersController(fakeUser);\n      await usersController.update(request, response);\n      sinon.assert.calledWith(response.sendStatus, 200);\n      sinon.assert.calledOnce(saveSpy);\n    });\n    context('when an error occurs', () => {\n      it('should return 422', async () => {\n        const fakeId = 'a-fake-id';\n        const updatedUser = {\n          _id: fakeId,\n          name: 'Updated User',\n          email: 'user@mail.com',\n          password: 'password',\n          role: 'user'\n        };\n        const request = {\n          params: {\n            id: fakeId\n          },\n          body: updatedUser\n        };\n        const response = {\n          send: sinon.spy(),\n          status: sinon.stub()\n        };\n\n        class fakeUser {\n          static findById() {}\n\n        }\n\n        const findByIdStub = sinon.stub(fakeUser, 'findById');\n        findByIdStub.withArgs(fakeId).rejects({\n          message: 'Error'\n        });\n        response.status.withArgs(422).returns(response);\n        const usersController = new UsersController(fakeUser);\n        await usersController.update(request, response);\n        sinon.assert.calledWith(response.send, 'Error');\n      });\n    });\n  });\n  describe('delete() user', () => {\n    it('should respond with 204 when the user has been deleted', async () => {\n      const fakeId = 'a-fake-id';\n      const request = {\n        params: {\n          id: fakeId\n        }\n      };\n      const response = {\n        sendStatus: sinon.spy()\n      };\n\n      class fakeUser {\n        static remove() {}\n\n      }\n\n      const removeStub = sinon.stub(fakeUser, 'remove');\n      removeStub.withArgs({\n        _id: fakeId\n      }).resolves([1]);\n      const usersController = new UsersController(fakeUser);\n      await usersController.remove(request, response);\n      sinon.assert.calledWith(response.sendStatus, 204);\n    });\n    context('when an error occurs', () => {\n      it('should return 400', async () => {\n        const fakeId = 'a-fake-id';\n        const request = {\n          params: {\n            id: fakeId\n          }\n        };\n        const response = {\n          send: sinon.spy(),\n          status: sinon.stub()\n        };\n\n        class fakeUser {\n          static remove() {}\n\n        }\n\n        const removeStub = sinon.stub(fakeUser, 'remove');\n        removeStub.withArgs({\n          _id: fakeId\n        }).rejects({\n          message: 'Error'\n        });\n        response.status.withArgs(400).returns(response);\n        const usersController = new UsersController(fakeUser);\n        await usersController.remove(request, response);\n        sinon.assert.calledWith(response.send, 'Error');\n      });\n    });\n  });\n  describe('authenticate', () => {\n    it('should authenticate a user', done => {\n      const fakeReq = {\n        body: {}\n      };\n      const fakeRes = {\n        send: token => {\n          expect(token).to.eql({\n            token: 'fake-token'\n          });\n          done();\n        }\n      };\n      const usersController = new UsersController({});\n      usersController.authenticate(fakeReq, fakeRes);\n    });\n  }); ////////\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJzX3NwZWMuanMiXSwibmFtZXMiOlsiVXNlcnNDb250cm9sbGVyIiwicmVxdWlyZSIsInNpbm9uIiwiVXNlciIsImRlc2NyaWJlIiwiZGVmYXVsdFVzZXIiLCJfX3YiLCJfaWQiLCJuYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsInJvbGUiLCJkZWZhdWx0UmVxdWVzdCIsInBhcmFtcyIsIml0IiwicmVzcG9uc2UiLCJzZW5kIiwic3B5IiwiZmluZCIsInN0dWIiLCJ3aXRoQXJncyIsInJlc29sdmVzIiwidXNlcnNDb250cm9sbGVyIiwiZ2V0IiwiYXNzZXJ0IiwiY2FsbGVkV2l0aCIsInJlcXVlc3QiLCJzdGF0dXMiLCJyZXR1cm5zIiwicmVqZWN0cyIsIm1lc3NhZ2UiLCJmYWtlSWQiLCJpZCIsImdldEJ5SWQiLCJyZXF1ZXN0V2l0aEJvZHkiLCJPYmplY3QiLCJhc3NpZ24iLCJib2R5IiwiZmFrZVVzZXIiLCJzYXZlIiwicHJvdG90eXBlIiwiY3JlYXRlIiwiY29udGV4dCIsInVwZGF0ZWRVc2VyIiwic2VuZFN0YXR1cyIsImZpbmRCeUlkIiwiZmFrZVVzZXJJbnN0YW5jZSIsInNhdmVTcHkiLCJmaW5kQnlJZFN0dWIiLCJ1cGRhdGUiLCJjYWxsZWRPbmNlIiwicmVtb3ZlIiwicmVtb3ZlU3R1YiIsImRvbmUiLCJmYWtlUmVxIiwiZmFrZVJlcyIsInRva2VuIiwiZXhwZWN0IiwidG8iLCJlcWwiLCJhdXRoZW50aWNhdGUiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsZUFBZSxHQUFHQyxPQUFPLENBQUMsZ0NBQUQsQ0FBL0I7O0FBQ0EsTUFBTUMsS0FBSyxHQUFHRCxPQUFPLENBQUMsT0FBRCxDQUFyQjs7QUFDQSxNQUFNRSxJQUFJLEdBQUdGLE9BQU8sQ0FBQywyQkFBRCxDQUFwQjs7QUFFQUcsUUFBUSxDQUFDLG1CQUFELEVBQXNCLE1BQU07QUFDbEMsUUFBTUMsV0FBVyxHQUFHLENBQ2xCO0FBQ0VDLElBQUFBLEdBQUcsRUFBRSxDQURQO0FB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QUFDLDRCQUFELEVBQStCdUMsSUFBSSxJQUFJO0FBQ3ZDLFlBQU1DLE9BQU8sR0FBRztBQUNkakIsUUFBQUEsSUFBSSxFQUFFO0FBRFEsT0FBaEI7QUFHQSxZQUFNa0IsT0FBTyxHQUFHO0FBQ2R2QyxRQUFBQSxJQUFJLEVBQUV3QyxLQUFLLElBQUk7QUFDYkMsVUFBQUEsTUFBTSxDQUFDRCxLQUFELENBQU4sQ0FBY0UsRUFBZCxDQUFpQkMsR0FBakIsQ0FBcUI7QUFBRUgsWUFBQUEsS0FBSyxFQUFFO0FBQVQsV0FBckI7QUFDQUgsVUFBQUEsSUFBSTtBQUNMO0FBSmEsT0FBaEI7QUFNQSxZQUFNL0IsZUFBZSxHQUFHLElBQUl0QixlQUFKLENBQW9CLEVBQXBCLENBQXhCO0FBQ0FzQixNQUFBQSxlQUFlLENBQ1pzQyxZQURILENBQ2dCTixPQURoQixFQUN5QkMsT0FEekI7QUFFRCxLQWJDLENBQUY7QUFjRCxHQWZPLENBQVIsQ0E1UGtDLENBNFFsQztBQUNELENBN1FPLENBQVIiLCJzb3VyY2VSb290IjoiL2hvbWUvd24vVlNDb2RlL2JhY2svYXBwVGVzdC90ZXN0L3VuaXQvY29udHJvbGxlcnMvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgVXNlcnNDb250cm9sbGVyID0gcmVxdWlyZShcIi4uLy4uLy4uL3NyYy9jb250cm9sbGVycy91c2Vyc1wiKTtcbmNvbnN0IHNpbm9uID0gcmVxdWlyZShcInNpbm9uXCIpO1xuY29uc3QgVXNlciA9IHJlcXVpcmUoXCIuLi8uLi8uLi9zcmMvbW9kZWxzL3VzZXJzXCIpO1xuXG5kZXNjcmliZSgnQ29udHJvbGxlcjogVXNlcnMnLCAoKSA9PiB7XG4gIGNvbnN0IGRlZmF1bHRVc2VyID0gW1xuICAgIHtcbiAgICAgIF9fdjogMCxcbiAgICAgIF9pZDogJzU2Y2I5MWJkYzM0NjRmMTQ2Nzg5MzRjYScsXG4gICAgICBuYW1lOiAnRGVmYXVsdCBVc2VyJyxcbiAgICAgIGVtYWlsOiAndXNlckBtYWlsLmNvbScsXG4gICAgICBwYXNzd29yZDogJ3Bhc3N3b3JkJyxcbiAgICAgIHJvbGU6ICd1c2VyJ1xuICAgIH1cbiAgXTtcblxuICBjb25zdCBkZWZhdWx0UmVxdWVzdCA9IHtcbiAgICBwYXJhbXM6IHt9XG4gIH07XG5cbiAgZGVzY3JpYmUoJ2dldCgpIHVzZXJzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIGEgbGlzdCBvZiB1c2VycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICBzZW5kOiBzaW5vbi5zcHkoKVxuICAgICAgfTtcbiAgICAgIFVzZXIuZmluZCA9IHNpbm9uLnN0dWIoKTtcblxuICAgICAgVXNlci5maW5kLndpdGhBcmdzKHt9KS5yZXNvbHZlcyhkZWZhdWx0VXNlcik7XG5cbiAgICAgIGNvbnN0IHVzZXJzQ29udHJvbGxlciA9IG5ldyBVc2Vyc0NvbnRyb2xsZXIoVXNlcik7XG5cbiAgICAgIGF3YWl0IHVzZXJzQ29udHJvbGxlci5nZXQoZGVmYXVsdFJlcXVlc3QsIHJlc3BvbnNlKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKHJlc3BvbnNlLnNlbmQsIGRlZmF1bHRVc2VyKTtcbiAgICB9KTtcbiAgICBpdCgnc2hvdWxkIHJldHVybiA0MDAgd2hlbiBhbiBlcnJvciBvY2N1cnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXF1ZXN0ID0ge307XG4gICAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgc2VuZDogc2lub24uc3B5KCksXG4gICAgICAgIHN0YXR1czogc2lub24uc3R1YigpXG4gICAgICB9O1xuXG4gICAgICByZXNwb25zZS5zdGF0dXMud2l0aEFyZ3MoNDAwKS5yZXR1cm5zKHJlc3BvbnNlKTtcbiAgICAgIFVzZXIuZmluZCA9IHNpbm9uLnN0dWIoKTtcbiAgICAgIFVzZXIuZmluZC53aXRoQXJncyh7fSkucmVqZWN0cyh7IG1lc3NhZ2U6ICdFcnJvcicgfSk7XG5cbiAgICAgIGNvbnN0IHVzZXJzQ29udHJvbGxlciA9IG5ldyBVc2Vyc0NvbnRyb2xsZXIoVXNlcik7XG5cbiAgICAgIGF3YWl0IHVzZXJzQ29udHJvbGxlci5nZXQocmVxdWVzdCwgcmVzcG9uc2UpO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgocmVzcG9uc2Uuc2VuZCwgJ0Vycm9yJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdnZXRCeUlkKCknLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBjYWxsIHNlbmQgd2l0aCBvbmUgdXNlcicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGZha2VJZCA9ICdhLWZha2UtaWQnO1xuICAgICAgY29uc3QgcmVxdWVzdCA9IHtcbiAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgaWQ6IGZha2VJZFxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgIHNlbmQ6IHNpbm9uLnNweSgpXG4gICAgICB9O1xuXG4gICAgICBVc2VyLmZpbmQgPSBzaW5vbi5zdHViKCk7XG4gICAgICBVc2VyLmZpbmQud2l0aEFyZ3MoeyBfaWQ6IGZha2VJZCB9KS5yZXNvbHZlcyhkZWZhdWx0VXNlcik7XG5cbiAgICAgIGNvbnN0IHVzZXJzQ29udHJvbGxlciA9IG5ldyBVc2Vyc0NvbnRyb2xsZXIoVXNlcik7XG5cbiAgICAgIGF3YWl0IHVzZXJzQ29udHJvbGxlci5nZXRCeUlkKHJlcXVlc3QsIHJlc3BvbnNlKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKHJlc3BvbnNlLnNlbmQsIGRlZmF1bHRVc2VyKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2NyZWF0ZSgpIHVzZXInLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBjYWxsIHNlbmQgd2l0aCBhIG5ldyB1c2VyJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdFdpdGhCb2R5ID0gT2JqZWN0LmFzc2lnbihcbiAgICAgICAge30sXG4gICAgICAgIHsgYm9keTogZGVmYXVsdFVzZXJbMF0gfSxcbiAgICAgICAgZGVmYXVsdFJlcXVlc3RcbiAgICAgICk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgc2VuZDogc2lub24uc3B5KCksXG4gICAgICAgIHN0YXR1czogc2lub24uc3R1YigpXG4gICAgICB9O1xuXG4gICAgICBjbGFzcyBmYWtlVXNlciB7XG4gICAgICAgIHNhdmUoKSB7IH1cbiAgICAgIH1cblxuICAgICAgcmVzcG9uc2Uuc3RhdHVzLndpdGhBcmdzKDIwMSkucmV0dXJucyhyZXNwb25zZSk7XG4gICAgICBzaW5vblxuICAgICAgICAuc3R1YihmYWtlVXNlci5wcm90b3R5cGUsICdzYXZlJylcbiAgICAgICAgLndpdGhBcmdzKClcbiAgICAgICAgLnJlc29sdmVzKCk7XG5cbiAgICAgIGNvbnN0IHVzZXJzQ29udHJvbGxlciA9IG5ldyBVc2Vyc0NvbnRyb2xsZXIoZmFrZVVzZXIpO1xuXG4gICAgICBhd2FpdCB1c2Vyc0NvbnRyb2xsZXIuY3JlYXRlKHJlcXVlc3RXaXRoQm9keSwgcmVzcG9uc2UpO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgocmVzcG9uc2Uuc2VuZCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGNvbnRleHQoJ3doZW4gYW4gZXJyb3Igb2NjdXJzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIDQyMicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICBzZW5kOiBzaW5vbi5zcHkoKSxcbiAgICAgICAgc3RhdHVzOiBzaW5vbi5zdHViKClcbiAgICAgIH07XG5cbiAgICAgIGNsYXNzIGZha2VVc2VyIHtcbiAgICAgICAgc2F2ZSgpIHsgfVxuICAgICAgfVxuXG4gICAgICByZXNwb25zZS5zdGF0dXMud2l0aEFyZ3MoNDIyKS5yZXR1cm5zKHJlc3BvbnNlKTtcbiAgICAgIHNpbm9uXG4gICAgICAgIC5zdHViKGZha2VVc2VyLnByb3RvdHlwZSwgJ3NhdmUnKVxuICAgICAgICAud2l0aEFyZ3MoKVxuICAgICAgICAucmVqZWN0cyh7IG1lc3NhZ2U6ICdFcnJvcicgfSk7XG5cbiAgICAgIGNvbnN0IHVzZXJzQ29udHJvbGxlciA9IG5ldyBVc2Vyc0NvbnRyb2xsZXIoZmFrZVVzZXIpO1xuXG4gICAgICBhd2FpdCB1c2Vyc0NvbnRyb2xsZXIuY3JlYXRlKGRlZmF1bHRSZXF1ZXN0LCByZXNwb25zZSk7XG4gICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChyZXNwb25zZS5zdGF0dXMsIDQyMik7XG5cbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3VwZGF0ZSgpIHVzZXInLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXNwb25kIHdpdGggMjAwIHdoZW4gdGhlIHVzZXIgaGFzIGJlZW4gdXBkYXRlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGZha2VJZCA9ICdhLWZha2UtaWQnO1xuICAgICAgY29uc3QgdXBkYXRlZFVzZXIgPSB7XG4gICAgICAgIF9pZDogZmFrZUlkLFxuICAgICAgICBuYW1lOiAnVXBkYXRlZCBVc2VyJyxcbiAgICAgICAgZW1haWw6ICd1c2VyQG1haWwuY29tJyxcbiAgICAgICAgcGFzc3dvcmQ6ICdwYXNzd29yZCcsXG4gICAgICAgIHJvbGU6ICd1c2VyJ1xuICAgICAgfTtcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICAgIHBhcmFtczoge1xuICAgICAgICAgIGlkOiBmYWtlSWRcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogdXBkYXRlZFVzZXJcbiAgICAgIH07XG4gICAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgc2VuZFN0YXR1czogc2lub24uc3B5KClcbiAgICAgIH07XG5cbiAgICAgIGNsYXNzIGZha2VVc2VyIHtcbiAgICAgICAgc3RhdGljIGZpbmRCeUlkKCkgeyB9XG4gICAgICAgIHNhdmUoKSB7IH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IGZha2VVc2VySW5zdGFuY2UgPSBuZXcgZmFrZVVzZXIoKTtcblxuICAgICAgY29uc3Qgc2F2ZVNweSA9IHNpbm9uLnNweShmYWtlVXNlci5wcm90b3R5cGUsICdzYXZlJyk7XG4gICAgICBjb25zdCBmaW5kQnlJZFN0dWIgPSBzaW5vbi5zdHViKGZha2VVc2VyLCAnZmluZEJ5SWQnKTtcbiAgICAgIGZpbmRCeUlkU3R1Yi53aXRoQXJncyhmYWtlSWQpLnJlc29sdmVzKGZha2VVc2VySW5zdGFuY2UpO1xuXG4gICAgICBjb25zdCB1c2Vyc0NvbnRyb2xsZXIgPSBuZXcgVXNlcnNDb250cm9sbGVyKGZha2VVc2VyKTtcbiAgICAgIGF3YWl0IHVzZXJzQ29udHJvbGxlci51cGRhdGUocmVxdWVzdCwgcmVzcG9uc2UpO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgocmVzcG9uc2Uuc2VuZFN0YXR1cywgMjAwKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRPbmNlKHNhdmVTcHkpO1xuICAgIH0pO1xuXG4gICAgY29udGV4dCgnd2hlbiBhbiBlcnJvciBvY2N1cnMnLCAoKSA9PiB7XG4gICAgICBpdCgnc2hvdWxkIHJldHVybiA0MjInLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGZha2VJZCA9ICdhLWZha2UtaWQnO1xuICAgICAgICBjb25zdCB1cGRhdGVkVXNlciA9IHtcbiAgICAgICAgICBfaWQ6IGZha2VJZCxcbiAgICAgICAgICBuYW1lOiAnVXBkYXRlZCBVc2VyJyxcbiAgICAgICAgICBlbWFpbDogJ3VzZXJAbWFpbC5jb20nLFxuICAgICAgICAgIHBhc3N3b3JkOiAncGFzc3dvcmQnLFxuICAgICAgICAgIHJvbGU6ICd1c2VyJ1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgaWQ6IGZha2VJZFxuICAgICAgICAgIH0sXG4gICAgICAgICAgYm9keTogdXBkYXRlZFVzZXJcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICAgc2VuZDogc2lub24uc3B5KCksXG4gICAgICAgICAgc3RhdHVzOiBzaW5vbi5zdHViKClcbiAgICAgICAgfTtcblxuICAgICAgICBjbGFzcyBmYWtlVXNlciB7XG4gICAgICAgICAgc3RhdGljIGZpbmRCeUlkKCkgeyB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmaW5kQnlJZFN0dWIgPSBzaW5vbi5zdHViKGZha2VVc2VyLCAnZmluZEJ5SWQnKTtcbiAgICAgICAgZmluZEJ5SWRTdHViLndpdGhBcmdzKGZha2VJZCkucmVqZWN0cyh7IG1lc3NhZ2U6ICdFcnJvcicgfSk7XG4gICAgICAgIHJlc3BvbnNlLnN0YXR1cy53aXRoQXJncyg0MjIpLnJldHVybnMocmVzcG9uc2UpO1xuXG4gICAgICAgIGNvbnN0IHVzZXJzQ29udHJvbGxlciA9IG5ldyBVc2Vyc0NvbnRyb2xsZXIoZmFrZVVzZXIpO1xuXG4gICAgICAgIGF3YWl0IHVzZXJzQ29udHJvbGxlci51cGRhdGUocmVxdWVzdCwgcmVzcG9uc2UpO1xuICAgICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChyZXNwb25zZS5zZW5kLCAnRXJyb3InKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnZGVsZXRlKCkgdXNlcicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJlc3BvbmQgd2l0aCAyMDQgd2hlbiB0aGUgdXNlciBoYXMgYmVlbiBkZWxldGVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZmFrZUlkID0gJ2EtZmFrZS1pZCc7XG4gICAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICBpZDogZmFrZUlkXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgc2VuZFN0YXR1czogc2lub24uc3B5KClcbiAgICAgIH07XG5cbiAgICAgIGNsYXNzIGZha2VVc2VyIHtcbiAgICAgICAgc3RhdGljIHJlbW92ZSgpIHsgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCByZW1vdmVTdHViID0gc2lub24uc3R1YihmYWtlVXNlciwgJ3JlbW92ZScpO1xuXG4gICAgICByZW1vdmVTdHViLndpdGhBcmdzKHsgX2lkOiBmYWtlSWQgfSkucmVzb2x2ZXMoWzFdKTtcblxuICAgICAgY29uc3QgdXNlcnNDb250cm9sbGVyID0gbmV3IFVzZXJzQ29udHJvbGxlcihmYWtlVXNlcik7XG5cbiAgICAgIGF3YWl0IHVzZXJzQ29udHJvbGxlci5yZW1vdmUocmVxdWVzdCwgcmVzcG9uc2UpO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgocmVzcG9uc2Uuc2VuZFN0YXR1cywgMjA0KTtcbiAgICB9KTtcblxuICAgIGNvbnRleHQoJ3doZW4gYW4gZXJyb3Igb2NjdXJzJywgKCkgPT4ge1xuICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gNDAwJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBmYWtlSWQgPSAnYS1mYWtlLWlkJztcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHtcbiAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgIGlkOiBmYWtlSWRcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAgIHNlbmQ6IHNpbm9uLnNweSgpLFxuICAgICAgICAgIHN0YXR1czogc2lub24uc3R1YigpXG4gICAgICAgIH07XG5cbiAgICAgICAgY2xhc3MgZmFrZVVzZXIge1xuICAgICAgICAgIHN0YXRpYyByZW1vdmUoKSB7IH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlbW92ZVN0dWIgPSBzaW5vbi5zdHViKGZha2VVc2VyLCAncmVtb3ZlJyk7XG4gICAgICAgIHJlbW92ZVN0dWIud2l0aEFyZ3MoeyBfaWQ6IGZha2VJZCB9KS5yZWplY3RzKHsgbWVzc2FnZTogJ0Vycm9yJyB9KTtcbiAgICAgICAgcmVzcG9uc2Uuc3RhdHVzLndpdGhBcmdzKDQwMCkucmV0dXJucyhyZXNwb25zZSk7XG5cbiAgICAgICAgY29uc3QgdXNlcnNDb250cm9sbGVyID0gbmV3IFVzZXJzQ29udHJvbGxlcihmYWtlVXNlcik7XG5cbiAgICAgICAgYXdhaXQgdXNlcnNDb250cm9sbGVyLnJlbW92ZShyZXF1ZXN0LCByZXNwb25zZSk7XG4gICAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKHJlc3BvbnNlLnNlbmQsICdFcnJvcicpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdhdXRoZW50aWNhdGUnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBhdXRoZW50aWNhdGUgYSB1c2VyJywgZG9uZSA9PiB7XG4gICAgICBjb25zdCBmYWtlUmVxID0ge1xuICAgICAgICBib2R5OiB7fVxuICAgICAgfTtcbiAgICAgIGNvbnN0IGZha2VSZXMgPSB7XG4gICAgICAgIHNlbmQ6IHRva2VuID0+IHtcbiAgICAgICAgICBleHBlY3QodG9rZW4pLnRvLmVxbCh7IHRva2VuOiAnZmFrZS10b2tlbicgfSk7XG4gICAgICAgICAgZG9uZSgpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgY29uc3QgdXNlcnNDb250cm9sbGVyID0gbmV3IFVzZXJzQ29udHJvbGxlcih7fSk7XG4gICAgICB1c2Vyc0NvbnRyb2xsZXJcbiAgICAgICAgLmF1dGhlbnRpY2F0ZShmYWtlUmVxLCBmYWtlUmVzKTtcbiAgICB9KTtcbiAgfSk7XG4gIC8vLy8vLy8vXG59KTsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "users_spec.js"
      ],
      "names": [
        "UsersController",
        "require",
        "sinon",
        "User",
        "describe",
        "defaultUser",
        "__v",
        "_id",
        "name",
        "email",
        "password",
        "role",
        "defaultRequest",
        "params",
        "it",
        "response",
        "send",
        "spy",
        "find",
        "stub",
        "withArgs",
        "resolves",
        "usersController",
        "get",
        "assert",
        "calledWith",
        "request",
        "status",
        "returns",
        "rejects",
        "message",
        "fakeId",
        "id",
        "getById",
        "requestWithBody",
        "Object",
        "assign",
        "body",
        "fakeUser",
        "save",
        "prototype",
        "create",
        "context",
        "updatedUser",
        "sendStatus",
        "findById",
        "fakeUserInstance",
        "saveSpy",
        "findByIdStub",
        "update",
        "calledOnce",
        "remove",
        "removeStub",
        "done",
        "fakeReq",
        "fakeRes",
        "token",
        "expect",
        "to",
        "eql",
        "authenticate"
      ],
      "mappings": "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",
      "sourceRoot": "/home/wn/VSCode/back/appTest/test/unit/controllers/",
      "sourcesContent": [
        "const UsersController = require(\"../../../src/controllers/users\");\nconst sinon = require(\"sinon\");\nconst User = require(\"../../../src/models/users\");\n\ndescribe('Controller: Users', () => {\n  const defaultUser = [\n    {\n      __v: 0,\n      _id: '56cb91bdc3464f14678934ca',\n      name: 'Default User',\n      email: 'user@mail.com',\n      password: 'password',\n      role: 'user'\n    }\n  ];\n\n  const defaultRequest = {\n    params: {}\n  };\n\n  describe('get() users', () => {\n    it('should return a list of users', async () => {\n      const response = {\n        send: sinon.spy()\n      };\n      User.find = sinon.stub();\n\n      User.find.withArgs({}).resolves(defaultUser);\n\n      const usersController = new UsersController(User);\n\n      await usersController.get(defaultRequest, response);\n      sinon.assert.calledWith(response.send, defaultUser);\n    });\n    it('should return 400 when an error occurs', async () => {\n      const request = {};\n      const response = {\n        send: sinon.spy(),\n        status: sinon.stub()\n      };\n\n      response.status.withArgs(400).returns(response);\n      User.find = sinon.stub();\n      User.find.withArgs({}).rejects({ message: 'Error' });\n\n      const usersController = new UsersController(User);\n\n      await usersController.get(request, response);\n      sinon.assert.calledWith(response.send, 'Error');\n    });\n  });\n\n  describe('getById()', () => {\n    it('should call send with one user', async () => {\n      const fakeId = 'a-fake-id';\n      const request = {\n        params: {\n          id: fakeId\n        }\n      };\n      const response = {\n        send: sinon.spy()\n      };\n\n      User.find = sinon.stub();\n      User.find.withArgs({ _id: fakeId }).resolves(defaultUser);\n\n      const usersController = new UsersController(User);\n\n      await usersController.getById(request, response);\n      sinon.assert.calledWith(response.send, defaultUser);\n    });\n  });\n\n  describe('create() user', () => {\n    it('should call send with a new user', async () => {\n      const requestWithBody = Object.assign(\n        {},\n        { body: defaultUser[0] },\n        defaultRequest\n      );\n      const response = {\n        send: sinon.spy(),\n        status: sinon.stub()\n      };\n\n      class fakeUser {\n        save() { }\n      }\n\n      response.status.withArgs(201).returns(response);\n      sinon\n        .stub(fakeUser.prototype, 'save')\n        .withArgs()\n        .resolves();\n\n      const usersController = new UsersController(fakeUser);\n\n      await usersController.create(requestWithBody, response);\n      sinon.assert.calledWith(response.send);\n    });\n  });\n\n  context('when an error occurs', () => {\n    it('should return 422', async () => {\n      const response = {\n        send: sinon.spy(),\n        status: sinon.stub()\n      };\n\n      class fakeUser {\n        save() { }\n      }\n\n      response.status.withArgs(422).returns(response);\n      sinon\n        .stub(fakeUser.prototype, 'save')\n        .withArgs()\n        .rejects({ message: 'Error' });\n\n      const usersController = new UsersController(fakeUser);\n\n      await usersController.create(defaultRequest, response);\n      sinon.assert.calledWith(response.status, 422);\n\n    });\n  });\n\n  describe('update() user', () => {\n    it('should respond with 200 when the user has been updated', async () => {\n      const fakeId = 'a-fake-id';\n      const updatedUser = {\n        _id: fakeId,\n        name: 'Updated User',\n        email: 'user@mail.com',\n        password: 'password',\n        role: 'user'\n      };\n      const request = {\n        params: {\n          id: fakeId\n        },\n        body: updatedUser\n      };\n      const response = {\n        sendStatus: sinon.spy()\n      };\n\n      class fakeUser {\n        static findById() { }\n        save() { }\n      }\n      const fakeUserInstance = new fakeUser();\n\n      const saveSpy = sinon.spy(fakeUser.prototype, 'save');\n      const findByIdStub = sinon.stub(fakeUser, 'findById');\n      findByIdStub.withArgs(fakeId).resolves(fakeUserInstance);\n\n      const usersController = new UsersController(fakeUser);\n      await usersController.update(request, response);\n      sinon.assert.calledWith(response.sendStatus, 200);\n      sinon.assert.calledOnce(saveSpy);\n    });\n\n    context('when an error occurs', () => {\n      it('should return 422', async () => {\n        const fakeId = 'a-fake-id';\n        const updatedUser = {\n          _id: fakeId,\n          name: 'Updated User',\n          email: 'user@mail.com',\n          password: 'password',\n          role: 'user'\n        };\n        const request = {\n          params: {\n            id: fakeId\n          },\n          body: updatedUser\n        };\n        const response = {\n          send: sinon.spy(),\n          status: sinon.stub()\n        };\n\n        class fakeUser {\n          static findById() { }\n        }\n\n        const findByIdStub = sinon.stub(fakeUser, 'findById');\n        findByIdStub.withArgs(fakeId).rejects({ message: 'Error' });\n        response.status.withArgs(422).returns(response);\n\n        const usersController = new UsersController(fakeUser);\n\n        await usersController.update(request, response);\n        sinon.assert.calledWith(response.send, 'Error');\n      });\n    });\n  });\n\n  describe('delete() user', () => {\n    it('should respond with 204 when the user has been deleted', async () => {\n      const fakeId = 'a-fake-id';\n      const request = {\n        params: {\n          id: fakeId\n        }\n      };\n      const response = {\n        sendStatus: sinon.spy()\n      };\n\n      class fakeUser {\n        static remove() { }\n      }\n\n      const removeStub = sinon.stub(fakeUser, 'remove');\n\n      removeStub.withArgs({ _id: fakeId }).resolves([1]);\n\n      const usersController = new UsersController(fakeUser);\n\n      await usersController.remove(request, response);\n      sinon.assert.calledWith(response.sendStatus, 204);\n    });\n\n    context('when an error occurs', () => {\n      it('should return 400', async () => {\n        const fakeId = 'a-fake-id';\n        const request = {\n          params: {\n            id: fakeId\n          }\n        };\n        const response = {\n          send: sinon.spy(),\n          status: sinon.stub()\n        };\n\n        class fakeUser {\n          static remove() { }\n        }\n\n        const removeStub = sinon.stub(fakeUser, 'remove');\n        removeStub.withArgs({ _id: fakeId }).rejects({ message: 'Error' });\n        response.status.withArgs(400).returns(response);\n\n        const usersController = new UsersController(fakeUser);\n\n        await usersController.remove(request, response);\n        sinon.assert.calledWith(response.send, 'Error');\n      });\n    });\n  });\n\n  describe('authenticate', () => {\n    it('should authenticate a user', done => {\n      const fakeReq = {\n        body: {}\n      };\n      const fakeRes = {\n        send: token => {\n          expect(token).to.eql({ token: 'fake-token' });\n          done();\n        }\n      };\n      const usersController = new UsersController({});\n      usersController\n        .authenticate(fakeReq, fakeRes);\n    });\n  });\n  ////////\n});"
      ]
    },
    "sourceType": "script",
    "mtime": 1601214009350
  },
  "{\"sourceRoot\":\"/home/wn/VSCode/back/appTest/test/unit/middlewares/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/wn/VSCode/back/appTest\",\"filename\":\"/home/wn/VSCode/back/appTest/test/unit/middlewares/auth_spec.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/home/wn/VSCode/back/appTest\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6:test": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/wn/VSCode/back/appTest/test/unit/middlewares/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/wn/VSCode/back/appTest",
      "filename": "/home/wn/VSCode/back/appTest/test/unit/middlewares/auth_spec.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "test",
      "root": "/home/wn/VSCode/back/appTest",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/wn/VSCode/back/appTest/test/unit/middlewares/auth_spec.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/wn/VSCode/back/appTest/test/unit/middlewares/auth_spec.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/wn/VSCode/back/appTest/test/unit/middlewares/",
        "sourceFileName": "auth_spec.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst authMiddleware = require(\"../../../src/middlewares/auth\");\n\nconst jwt = require(\"jsonwebtoken\");\n\nconst config = require(\"config\");\n\ndescribe('AuthMiddleware', () => {\n  it('should verify a JWT token and call the next middleware', done => {\n    const jwtToken = jwt.sign({\n      data: 'fake'\n    }, config.get('auth.key'));\n    const reqFake = {\n      headers: {\n        'x-access-token': jwtToken\n      }\n    };\n    const resFake = {};\n    authMiddleware(reqFake, resFake, done);\n  });\n  it('should call the next middleware passing an error when the token validation fails', done => {\n    const reqFake = {\n      headers: {\n        'x-access-token': 'invalid token'\n      }\n    };\n    const resFake = {};\n    authMiddleware(reqFake, resFake, err => {\n      expect(err.message).to.eql('jwt malformed');\n      done();\n    });\n  });\n  it('should call next middleware if theres no token', done => {\n    const reqFake = {\n      headers: {}\n    };\n    const resFake = {};\n    authMiddleware(reqFake, resFake, done);\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGhfc3BlYy5qcyJdLCJuYW1lcyI6WyJhdXRoTWlkZGxld2FyZSIsInJlcXVpcmUiLCJqd3QiLCJjb25maWciLCJkZXNjcmliZSIsIml0IiwiZG9uZSIsImp3dFRva2VuIiwic2lnbiIsImRhdGEiLCJnZXQiLCJyZXFGYWtlIiwiaGVhZGVycyIsInJlc0Zha2UiLCJlcnIiLCJleHBlY3QiLCJtZXNzYWdlIiwidG8iLCJlcWwiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsY0FBYyxHQUFHQyxPQUFPLENBQUMsK0JBQUQsQ0FBOUI7O0FBQ0EsTUFBTUMsR0FBRyxHQUFHRCxPQUFPLENBQUMsY0FBRCxDQUFuQjs7QUFDQSxNQUFNRSxNQUFNLEdBQUdGLE9BQU8sQ0FBQyxRQUFELENBQXRCOztBQUVBRyxRQUFRLENBQUMsZ0JBQUQsRUFBbUIsTUFBTTtBQUMvQkMsRUFBQUEsRUFBRSxDQUFDLHdEQUFELEVBQTJEQyxJQUFJLElBQUk7QUFDbkUsVUFBTUMsUUFBUSxHQUFHTCxHQUFHLENBQUNNLElBQUosQ0FBUztBQUFFQyxNQUFBQSxJQUFJLEVBQUU7QUFBUixLQUFULEVBQTJCTixNQUFNLENBQUNPLEdBQVAsQ0FBVyxVQUFYLENBQTNCLENBQWpCO0FBQ0EsVUFBTUMsT0FBTyxHQUFHO0FBQ2RDLE1BQUFBLE9BQU8sRUFBRTtBQUNQLDBCQUFrQkw7QUFEWDtBQURLLEtBQWhCO0FBS0EsVUFBTU0sT0FBTyxHQUFHLEVBQWhCO0FBQ0FiLElBQUFBLGNBQWMsQ0FBQ1csT0FBRCxFQUFVRSxPQUFWLEVBQW1CUCxJQUFuQixDQUFkO0FBQ0QsR0FUQyxDQUFGO0FBVUFELEVBQUFBLEVBQUUsQ0FBQyxrRkFBRCxFQUFxRkMsSUFBSSxJQUFJO0FBQzdGLFVBQU1LLE9BQU8sR0FBRztBQUNkQyxNQUFBQSxPQUFPLEVBQUU7QUFDUCwwQkFBa0I7QUFEWDtBQURLLEtBQWhCO0FBTUEsVUFBTUMsT0FBTyxHQUFHLEVBQWhCO0FBRUFiLElBQUFBLGNBQWMsQ0FBQ1csT0FBRCxFQUFVRSxPQUFWLEVBQW1CQyxHQUFHLElBQUk7QUFDdENDLE1BQUFBLE1BQU0sQ0FBQ0QsR0FBRyxDQUFDRSxPQUFMLENBQU4sQ0FBb0JDLEVBQXBCLENBQXVCQyxHQUF2QixDQUEyQixlQUEzQjtBQUNBWixNQUFBQSxJQUFJO0FBQ0wsS0FIYSxDQUFkO0FBSUQsR0FiQyxDQUFGO0FBY0FELEVBQUFBLEVBQUUsQ0FBQyxnREFBRCxFQUFtREMsSUFBSSxJQUFJO0FBQzNELFVBQU1LLE9BQU8sR0FBRztBQUNkQyxNQUFBQSxPQUFPLEVBQUU7QUFESyxLQUFoQjtBQUdBLFVBQU1DLE9BQU8sR0FBRyxFQUFoQjtBQUNBYixJQUFBQSxjQUFjLENBQUNXLE9BQUQsRUFBVUUsT0FBVixFQUFtQlAsSUFBbkIsQ0FBZDtBQUNELEdBTkMsQ0FBRjtBQU9ELENBaENPLENBQVIiLCJzb3VyY2VSb290IjoiL2hvbWUvd24vVlNDb2RlL2JhY2svYXBwVGVzdC90ZXN0L3VuaXQvbWlkZGxld2FyZXMvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYXV0aE1pZGRsZXdhcmUgPSByZXF1aXJlKFwiLi4vLi4vLi4vc3JjL21pZGRsZXdhcmVzL2F1dGhcIik7XG5jb25zdCBqd3QgPSByZXF1aXJlKFwianNvbndlYnRva2VuXCIpO1xuY29uc3QgY29uZmlnID0gcmVxdWlyZShcImNvbmZpZ1wiKTtcblxuZGVzY3JpYmUoJ0F1dGhNaWRkbGV3YXJlJywgKCkgPT4ge1xuICBpdCgnc2hvdWxkIHZlcmlmeSBhIEpXVCB0b2tlbiBhbmQgY2FsbCB0aGUgbmV4dCBtaWRkbGV3YXJlJywgZG9uZSA9PiB7XG4gICAgY29uc3Qgand0VG9rZW4gPSBqd3Quc2lnbih7IGRhdGE6ICdmYWtlJyB9LCBjb25maWcuZ2V0KCdhdXRoLmtleScpKTtcbiAgICBjb25zdCByZXFGYWtlID0ge1xuICAgICAgaGVhZGVyczoge1xuICAgICAgICAneC1hY2Nlc3MtdG9rZW4nOiBqd3RUb2tlblxuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcmVzRmFrZSA9IHt9O1xuICAgIGF1dGhNaWRkbGV3YXJlKHJlcUZha2UsIHJlc0Zha2UsIGRvbmUpO1xuICB9KTtcbiAgaXQoJ3Nob3VsZCBjYWxsIHRoZSBuZXh0IG1pZGRsZXdhcmUgcGFzc2luZyBhbiBlcnJvciB3aGVuIHRoZSB0b2tlbiB2YWxpZGF0aW9uIGZhaWxzJywgZG9uZSA9PiB7XG4gICAgY29uc3QgcmVxRmFrZSA9IHtcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ3gtYWNjZXNzLXRva2VuJzogJ2ludmFsaWQgdG9rZW4nXG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHJlc0Zha2UgPSB7fTtcblxuICAgIGF1dGhNaWRkbGV3YXJlKHJlcUZha2UsIHJlc0Zha2UsIGVyciA9PiB7XG4gICAgICBleHBlY3QoZXJyLm1lc3NhZ2UpLnRvLmVxbCgnand0IG1hbGZvcm1lZCcpO1xuICAgICAgZG9uZSgpO1xuICAgIH0pO1xuICB9KTtcbiAgaXQoJ3Nob3VsZCBjYWxsIG5leHQgbWlkZGxld2FyZSBpZiB0aGVyZXMgbm8gdG9rZW4nLCBkb25lID0+IHtcbiAgICBjb25zdCByZXFGYWtlID0ge1xuICAgICAgaGVhZGVyczoge31cbiAgICB9O1xuICAgIGNvbnN0IHJlc0Zha2UgPSB7fTtcbiAgICBhdXRoTWlkZGxld2FyZShyZXFGYWtlLCByZXNGYWtlLCBkb25lKTtcbiAgfSk7XG59KTsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "auth_spec.js"
      ],
      "names": [
        "authMiddleware",
        "require",
        "jwt",
        "config",
        "describe",
        "it",
        "done",
        "jwtToken",
        "sign",
        "data",
        "get",
        "reqFake",
        "headers",
        "resFake",
        "err",
        "expect",
        "message",
        "to",
        "eql"
      ],
      "mappings": ";;AAAA,MAAMA,cAAc,GAAGC,OAAO,CAAC,+BAAD,CAA9B;;AACA,MAAMC,GAAG,GAAGD,OAAO,CAAC,cAAD,CAAnB;;AACA,MAAME,MAAM,GAAGF,OAAO,CAAC,QAAD,CAAtB;;AAEAG,QAAQ,CAAC,gBAAD,EAAmB,MAAM;AAC/BC,EAAAA,EAAE,CAAC,wDAAD,EAA2DC,IAAI,IAAI;AACnE,UAAMC,QAAQ,GAAGL,GAAG,CAACM,IAAJ,CAAS;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAT,EAA2BN,MAAM,CAACO,GAAP,CAAW,UAAX,CAA3B,CAAjB;AACA,UAAMC,OAAO,GAAG;AACdC,MAAAA,OAAO,EAAE;AACP,0BAAkBL;AADX;AADK,KAAhB;AAKA,UAAMM,OAAO,GAAG,EAAhB;AACAb,IAAAA,cAAc,CAACW,OAAD,EAAUE,OAAV,EAAmBP,IAAnB,CAAd;AACD,GATC,CAAF;AAUAD,EAAAA,EAAE,CAAC,kFAAD,EAAqFC,IAAI,IAAI;AAC7F,UAAMK,OAAO,GAAG;AACdC,MAAAA,OAAO,EAAE;AACP,0BAAkB;AADX;AADK,KAAhB;AAMA,UAAMC,OAAO,GAAG,EAAhB;AAEAb,IAAAA,cAAc,CAACW,OAAD,EAAUE,OAAV,EAAmBC,GAAG,IAAI;AACtCC,MAAAA,MAAM,CAACD,GAAG,CAACE,OAAL,CAAN,CAAoBC,EAApB,CAAuBC,GAAvB,CAA2B,eAA3B;AACAZ,MAAAA,IAAI;AACL,KAHa,CAAd;AAID,GAbC,CAAF;AAcAD,EAAAA,EAAE,CAAC,gDAAD,EAAmDC,IAAI,IAAI;AAC3D,UAAMK,OAAO,GAAG;AACdC,MAAAA,OAAO,EAAE;AADK,KAAhB;AAGA,UAAMC,OAAO,GAAG,EAAhB;AACAb,IAAAA,cAAc,CAACW,OAAD,EAAUE,OAAV,EAAmBP,IAAnB,CAAd;AACD,GANC,CAAF;AAOD,CAhCO,CAAR",
      "sourceRoot": "/home/wn/VSCode/back/appTest/test/unit/middlewares/",
      "sourcesContent": [
        "const authMiddleware = require(\"../../../src/middlewares/auth\");\nconst jwt = require(\"jsonwebtoken\");\nconst config = require(\"config\");\n\ndescribe('AuthMiddleware', () => {\n  it('should verify a JWT token and call the next middleware', done => {\n    const jwtToken = jwt.sign({ data: 'fake' }, config.get('auth.key'));\n    const reqFake = {\n      headers: {\n        'x-access-token': jwtToken\n      }\n    };\n    const resFake = {};\n    authMiddleware(reqFake, resFake, done);\n  });\n  it('should call the next middleware passing an error when the token validation fails', done => {\n    const reqFake = {\n      headers: {\n        'x-access-token': 'invalid token'\n      }\n    };\n\n    const resFake = {};\n\n    authMiddleware(reqFake, resFake, err => {\n      expect(err.message).to.eql('jwt malformed');\n      done();\n    });\n  });\n  it('should call next middleware if theres no token', done => {\n    const reqFake = {\n      headers: {}\n    };\n    const resFake = {};\n    authMiddleware(reqFake, resFake, done);\n  });\n});"
      ]
    },
    "sourceType": "script",
    "mtime": 1601213201577
  },
  "{\"sourceRoot\":\"/home/wn/VSCode/back/appTest/src/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/wn/VSCode/back/appTest\",\"filename\":\"/home/wn/VSCode/back/appTest/src/routes/user.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/home/wn/VSCode/back/appTest\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6:test": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/routes/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/wn/VSCode/back/appTest",
      "filename": "/home/wn/VSCode/back/appTest/src/routes/user.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "test",
      "root": "/home/wn/VSCode/back/appTest",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/wn/VSCode/back/appTest/src/routes/user.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/wn/VSCode/back/appTest/src/routes/user.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/wn/VSCode/back/appTest/src/routes/",
        "sourceFileName": "user.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst express = require(\"express\");\n\nconst UsersController = require(\"../controllers/users\");\n\nconst User = require(\"../models/users\");\n\nconst router = express.Router();\nconst usersController = new UsersController(User);\nrouter.get('/', (req, res) => usersController.get(req, res));\nrouter.get('/:id', (req, res) => usersController.getById(req, res));\nrouter.post('/', (req, res) => usersController.create(req, res));\nrouter.put('/:id', (req, res) => usersController.update(req, res));\nrouter.delete('/:id', (req, res) => usersController.remove(req, res));\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuanMiXSwibmFtZXMiOlsiZXhwcmVzcyIsInJlcXVpcmUiLCJVc2Vyc0NvbnRyb2xsZXIiLCJVc2VyIiwicm91dGVyIiwiUm91dGVyIiwidXNlcnNDb250cm9sbGVyIiwiZ2V0IiwicmVxIiwicmVzIiwiZ2V0QnlJZCIsInBvc3QiLCJjcmVhdGUiLCJwdXQiLCJ1cGRhdGUiLCJkZWxldGUiLCJyZW1vdmUiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBdkI7O0FBQ0EsTUFBTUMsZUFBZSxHQUFHRCxPQUFPLENBQUMsc0JBQUQsQ0FBL0I7O0FBQ0EsTUFBTUUsSUFBSSxHQUFHRixPQUFPLENBQUMsaUJBQUQsQ0FBcEI7O0FBRUEsTUFBTUcsTUFBTSxHQUFHSixPQUFPLENBQUNLLE1BQVIsRUFBZjtBQUNBLE1BQU1DLGVBQWUsR0FBRyxJQUFJSixlQUFKLENBQW9CQyxJQUFwQixDQUF4QjtBQUVBQyxNQUFNLENBQUNHLEdBQVAsQ0FBVyxHQUFYLEVBQWdCLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFjSCxlQUFlLENBQUNDLEdBQWhCLENBQW9CQyxHQUFwQixFQUF5QkMsR0FBekIsQ0FBOUI7QUFDQUwsTUFBTSxDQUFDRyxHQUFQLENBQVcsTUFBWCxFQUFtQixDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBY0gsZUFBZSxDQUFDSSxPQUFoQixDQUF3QkYsR0FBeEIsRUFBNkJDLEdBQTdCLENBQWpDO0FBQ0FMLE1BQU0sQ0FBQ08sSUFBUCxDQUFZLEdBQVosRUFBaUIsQ0FBQ0gsR0FBRCxFQUFNQyxHQUFOLEtBQWNILGVBQWUsQ0FBQ00sTUFBaEIsQ0FBdUJKLEdBQXZCLEVBQTRCQyxHQUE1QixDQUEvQjtBQUNBTCxNQUFNLENBQUNTLEdBQVAsQ0FBVyxNQUFYLEVBQW1CLENBQUNMLEdBQUQsRUFBTUMsR0FBTixLQUFjSCxlQUFlLENBQUNRLE1BQWhCLENBQXVCTixHQUF2QixFQUE0QkMsR0FBNUIsQ0FBakM7QUFDQUwsTUFBTSxDQUFDVyxNQUFQLENBQWMsTUFBZCxFQUFzQixDQUFDUCxHQUFELEVBQU1DLEdBQU4sS0FBY0gsZUFBZSxDQUFDVSxNQUFoQixDQUF1QlIsR0FBdkIsRUFBNEJDLEdBQTVCLENBQXBDO0FBRUFRLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmQsTUFBakIiLCJzb3VyY2VSb290IjoiL2hvbWUvd24vVlNDb2RlL2JhY2svYXBwVGVzdC9zcmMvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcbmNvbnN0IFVzZXJzQ29udHJvbGxlciA9IHJlcXVpcmUoXCIuLi9jb250cm9sbGVycy91c2Vyc1wiKTtcbmNvbnN0IFVzZXIgPSByZXF1aXJlKFwiLi4vbW9kZWxzL3VzZXJzXCIpO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuY29uc3QgdXNlcnNDb250cm9sbGVyID0gbmV3IFVzZXJzQ29udHJvbGxlcihVc2VyKTtcblxucm91dGVyLmdldCgnLycsIChyZXEsIHJlcykgPT4gdXNlcnNDb250cm9sbGVyLmdldChyZXEsIHJlcykpO1xucm91dGVyLmdldCgnLzppZCcsIChyZXEsIHJlcykgPT4gdXNlcnNDb250cm9sbGVyLmdldEJ5SWQocmVxLCByZXMpKTtcbnJvdXRlci5wb3N0KCcvJywgKHJlcSwgcmVzKSA9PiB1c2Vyc0NvbnRyb2xsZXIuY3JlYXRlKHJlcSwgcmVzKSk7XG5yb3V0ZXIucHV0KCcvOmlkJywgKHJlcSwgcmVzKSA9PiB1c2Vyc0NvbnRyb2xsZXIudXBkYXRlKHJlcSwgcmVzKSk7XG5yb3V0ZXIuZGVsZXRlKCcvOmlkJywgKHJlcSwgcmVzKSA9PiB1c2Vyc0NvbnRyb2xsZXIucmVtb3ZlKHJlcSwgcmVzKSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "user.js"
      ],
      "names": [
        "express",
        "require",
        "UsersController",
        "User",
        "router",
        "Router",
        "usersController",
        "get",
        "req",
        "res",
        "getById",
        "post",
        "create",
        "put",
        "update",
        "delete",
        "remove",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,eAAe,GAAGD,OAAO,CAAC,sBAAD,CAA/B;;AACA,MAAME,IAAI,GAAGF,OAAO,CAAC,iBAAD,CAApB;;AAEA,MAAMG,MAAM,GAAGJ,OAAO,CAACK,MAAR,EAAf;AACA,MAAMC,eAAe,GAAG,IAAIJ,eAAJ,CAAoBC,IAApB,CAAxB;AAEAC,MAAM,CAACG,GAAP,CAAW,GAAX,EAAgB,CAACC,GAAD,EAAMC,GAAN,KAAcH,eAAe,CAACC,GAAhB,CAAoBC,GAApB,EAAyBC,GAAzB,CAA9B;AACAL,MAAM,CAACG,GAAP,CAAW,MAAX,EAAmB,CAACC,GAAD,EAAMC,GAAN,KAAcH,eAAe,CAACI,OAAhB,CAAwBF,GAAxB,EAA6BC,GAA7B,CAAjC;AACAL,MAAM,CAACO,IAAP,CAAY,GAAZ,EAAiB,CAACH,GAAD,EAAMC,GAAN,KAAcH,eAAe,CAACM,MAAhB,CAAuBJ,GAAvB,EAA4BC,GAA5B,CAA/B;AACAL,MAAM,CAACS,GAAP,CAAW,MAAX,EAAmB,CAACL,GAAD,EAAMC,GAAN,KAAcH,eAAe,CAACQ,MAAhB,CAAuBN,GAAvB,EAA4BC,GAA5B,CAAjC;AACAL,MAAM,CAACW,MAAP,CAAc,MAAd,EAAsB,CAACP,GAAD,EAAMC,GAAN,KAAcH,eAAe,CAACU,MAAhB,CAAuBR,GAAvB,EAA4BC,GAA5B,CAApC;AAEAQ,MAAM,CAACC,OAAP,GAAiBd,MAAjB",
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/routes/",
      "sourcesContent": [
        "const express = require(\"express\");\nconst UsersController = require(\"../controllers/users\");\nconst User = require(\"../models/users\");\n\nconst router = express.Router();\nconst usersController = new UsersController(User);\n\nrouter.get('/', (req, res) => usersController.get(req, res));\nrouter.get('/:id', (req, res) => usersController.getById(req, res));\nrouter.post('/', (req, res) => usersController.create(req, res));\nrouter.put('/:id', (req, res) => usersController.update(req, res));\nrouter.delete('/:id', (req, res) => usersController.remove(req, res));\n\nmodule.exports = router;"
      ]
    },
    "sourceType": "script",
    "mtime": 1601212823338
  },
  "{\"sourceRoot\":\"/home/wn/VSCode/back/appTest/src/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/wn/VSCode/back/appTest\",\"filename\":\"/home/wn/VSCode/back/appTest/src/routes/user.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/home/wn/VSCode/back/appTest\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6:test": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/routes/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/wn/VSCode/back/appTest",
      "filename": "/home/wn/VSCode/back/appTest/src/routes/user.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "test",
      "root": "/home/wn/VSCode/back/appTest",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/wn/VSCode/back/appTest/src/routes/user.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/wn/VSCode/back/appTest/src/routes/user.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/wn/VSCode/back/appTest/src/routes/",
        "sourceFileName": "user.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst express = require(\"express\");\n\nconst UsersController = require(\"../controllers/users\");\n\nconst User = require(\"../models/users\");\n\nconst AuthService = require(\"../services/auth\");\n\nconst router = express.Router();\nconst usersController = new UsersController(User, AuthService);\nrouter.get('/', (req, res) => usersController.get(req, res));\nrouter.get('/:id', (req, res) => usersController.getById(req, res));\nrouter.post('/', (req, res) => usersController.create(req, res));\nrouter.put('/:id', (req, res) => usersController.update(req, res));\nrouter.delete('/:id', (req, res) => usersController.remove(req, res));\nrouter.post('/authenticate', (req, res) => usersController.authenticate(req, res));\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuanMiXSwibmFtZXMiOlsiZXhwcmVzcyIsInJlcXVpcmUiLCJVc2Vyc0NvbnRyb2xsZXIiLCJVc2VyIiwiQXV0aFNlcnZpY2UiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJ1c2Vyc0NvbnRyb2xsZXIiLCJnZXQiLCJyZXEiLCJyZXMiLCJnZXRCeUlkIiwicG9zdCIsImNyZWF0ZSIsInB1dCIsInVwZGF0ZSIsImRlbGV0ZSIsInJlbW92ZSIsImF1dGhlbnRpY2F0ZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNQyxlQUFlLEdBQUdELE9BQU8sQ0FBQyxzQkFBRCxDQUEvQjs7QUFDQSxNQUFNRSxJQUFJLEdBQUdGLE9BQU8sQ0FBQyxpQkFBRCxDQUFwQjs7QUFDQSxNQUFNRyxXQUFXLEdBQUdILE9BQU8sQ0FBQyxrQkFBRCxDQUEzQjs7QUFFQSxNQUFNSSxNQUFNLEdBQUdMLE9BQU8sQ0FBQ00sTUFBUixFQUFmO0FBQ0EsTUFBTUMsZUFBZSxHQUFHLElBQUlMLGVBQUosQ0FBb0JDLElBQXBCLEVBQTBCQyxXQUExQixDQUF4QjtBQUVBQyxNQUFNLENBQUNHLEdBQVAsQ0FBVyxHQUFYLEVBQWdCLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFjSCxlQUFlLENBQUNDLEdBQWhCLENBQW9CQyxHQUFwQixFQUF5QkMsR0FBekIsQ0FBOUI7QUFDQUwsTUFBTSxDQUFDRyxHQUFQLENBQVcsTUFBWCxFQUFtQixDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBY0gsZUFBZSxDQUFDSSxPQUFoQixDQUF3QkYsR0FBeEIsRUFBNkJDLEdBQTdCLENBQWpDO0FBQ0FMLE1BQU0sQ0FBQ08sSUFBUCxDQUFZLEdBQVosRUFBaUIsQ0FBQ0gsR0FBRCxFQUFNQyxHQUFOLEtBQWNILGVBQWUsQ0FBQ00sTUFBaEIsQ0FBdUJKLEdBQXZCLEVBQTRCQyxHQUE1QixDQUEvQjtBQUNBTCxNQUFNLENBQUNTLEdBQVAsQ0FBVyxNQUFYLEVBQW1CLENBQUNMLEdBQUQsRUFBTUMsR0FBTixLQUFjSCxlQUFlLENBQUNRLE1BQWhCLENBQXVCTixHQUF2QixFQUE0QkMsR0FBNUIsQ0FBakM7QUFDQUwsTUFBTSxDQUFDVyxNQUFQLENBQWMsTUFBZCxFQUFzQixDQUFDUCxHQUFELEVBQU1DLEdBQU4sS0FBY0gsZUFBZSxDQUFDVSxNQUFoQixDQUF1QlIsR0FBdkIsRUFBNEJDLEdBQTVCLENBQXBDO0FBQ0FMLE1BQU0sQ0FBQ08sSUFBUCxDQUFZLGVBQVosRUFBNkIsQ0FBQ0gsR0FBRCxFQUFNQyxHQUFOLEtBQWNILGVBQWUsQ0FBQ1csWUFBaEIsQ0FBNkJULEdBQTdCLEVBQWtDQyxHQUFsQyxDQUEzQztBQUVBUyxNQUFNLENBQUNDLE9BQVAsR0FBaUJmLE1BQWpCIiwic291cmNlUm9vdCI6Ii9ob21lL3duL1ZTQ29kZS9iYWNrL2FwcFRlc3Qvc3JjL3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XG5jb25zdCBVc2Vyc0NvbnRyb2xsZXIgPSByZXF1aXJlKFwiLi4vY29udHJvbGxlcnMvdXNlcnNcIik7XG5jb25zdCBVc2VyID0gcmVxdWlyZShcIi4uL21vZGVscy91c2Vyc1wiKTtcbmNvbnN0IEF1dGhTZXJ2aWNlID0gcmVxdWlyZShcIi4uL3NlcnZpY2VzL2F1dGhcIik7XG5cbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5jb25zdCB1c2Vyc0NvbnRyb2xsZXIgPSBuZXcgVXNlcnNDb250cm9sbGVyKFVzZXIsIEF1dGhTZXJ2aWNlKTtcblxucm91dGVyLmdldCgnLycsIChyZXEsIHJlcykgPT4gdXNlcnNDb250cm9sbGVyLmdldChyZXEsIHJlcykpO1xucm91dGVyLmdldCgnLzppZCcsIChyZXEsIHJlcykgPT4gdXNlcnNDb250cm9sbGVyLmdldEJ5SWQocmVxLCByZXMpKTtcbnJvdXRlci5wb3N0KCcvJywgKHJlcSwgcmVzKSA9PiB1c2Vyc0NvbnRyb2xsZXIuY3JlYXRlKHJlcSwgcmVzKSk7XG5yb3V0ZXIucHV0KCcvOmlkJywgKHJlcSwgcmVzKSA9PiB1c2Vyc0NvbnRyb2xsZXIudXBkYXRlKHJlcSwgcmVzKSk7XG5yb3V0ZXIuZGVsZXRlKCcvOmlkJywgKHJlcSwgcmVzKSA9PiB1c2Vyc0NvbnRyb2xsZXIucmVtb3ZlKHJlcSwgcmVzKSk7XG5yb3V0ZXIucG9zdCgnL2F1dGhlbnRpY2F0ZScsIChyZXEsIHJlcykgPT4gdXNlcnNDb250cm9sbGVyLmF1dGhlbnRpY2F0ZShyZXEsIHJlcykpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "user.js"
      ],
      "names": [
        "express",
        "require",
        "UsersController",
        "User",
        "AuthService",
        "router",
        "Router",
        "usersController",
        "get",
        "req",
        "res",
        "getById",
        "post",
        "create",
        "put",
        "update",
        "delete",
        "remove",
        "authenticate",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,eAAe,GAAGD,OAAO,CAAC,sBAAD,CAA/B;;AACA,MAAME,IAAI,GAAGF,OAAO,CAAC,iBAAD,CAApB;;AACA,MAAMG,WAAW,GAAGH,OAAO,CAAC,kBAAD,CAA3B;;AAEA,MAAMI,MAAM,GAAGL,OAAO,CAACM,MAAR,EAAf;AACA,MAAMC,eAAe,GAAG,IAAIL,eAAJ,CAAoBC,IAApB,EAA0BC,WAA1B,CAAxB;AAEAC,MAAM,CAACG,GAAP,CAAW,GAAX,EAAgB,CAACC,GAAD,EAAMC,GAAN,KAAcH,eAAe,CAACC,GAAhB,CAAoBC,GAApB,EAAyBC,GAAzB,CAA9B;AACAL,MAAM,CAACG,GAAP,CAAW,MAAX,EAAmB,CAACC,GAAD,EAAMC,GAAN,KAAcH,eAAe,CAACI,OAAhB,CAAwBF,GAAxB,EAA6BC,GAA7B,CAAjC;AACAL,MAAM,CAACO,IAAP,CAAY,GAAZ,EAAiB,CAACH,GAAD,EAAMC,GAAN,KAAcH,eAAe,CAACM,MAAhB,CAAuBJ,GAAvB,EAA4BC,GAA5B,CAA/B;AACAL,MAAM,CAACS,GAAP,CAAW,MAAX,EAAmB,CAACL,GAAD,EAAMC,GAAN,KAAcH,eAAe,CAACQ,MAAhB,CAAuBN,GAAvB,EAA4BC,GAA5B,CAAjC;AACAL,MAAM,CAACW,MAAP,CAAc,MAAd,EAAsB,CAACP,GAAD,EAAMC,GAAN,KAAcH,eAAe,CAACU,MAAhB,CAAuBR,GAAvB,EAA4BC,GAA5B,CAApC;AACAL,MAAM,CAACO,IAAP,CAAY,eAAZ,EAA6B,CAACH,GAAD,EAAMC,GAAN,KAAcH,eAAe,CAACW,YAAhB,CAA6BT,GAA7B,EAAkCC,GAAlC,CAA3C;AAEAS,MAAM,CAACC,OAAP,GAAiBf,MAAjB",
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/routes/",
      "sourcesContent": [
        "const express = require(\"express\");\nconst UsersController = require(\"../controllers/users\");\nconst User = require(\"../models/users\");\nconst AuthService = require(\"../services/auth\");\n\nconst router = express.Router();\nconst usersController = new UsersController(User, AuthService);\n\nrouter.get('/', (req, res) => usersController.get(req, res));\nrouter.get('/:id', (req, res) => usersController.getById(req, res));\nrouter.post('/', (req, res) => usersController.create(req, res));\nrouter.put('/:id', (req, res) => usersController.update(req, res));\nrouter.delete('/:id', (req, res) => usersController.remove(req, res));\nrouter.post('/authenticate', (req, res) => usersController.authenticate(req, res));\n\nmodule.exports = router;"
      ]
    },
    "sourceType": "script",
    "mtime": 1601217870393
  },
  "{\"sourceRoot\":\"/home/wn/VSCode/back/appTest/test/integration/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/wn/VSCode/back/appTest\",\"filename\":\"/home/wn/VSCode/back/appTest/test/integration/routes/users_spec.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/home/wn/VSCode/back/appTest\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6:test": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/wn/VSCode/back/appTest/test/integration/routes/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/wn/VSCode/back/appTest",
      "filename": "/home/wn/VSCode/back/appTest/test/integration/routes/users_spec.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "test",
      "root": "/home/wn/VSCode/back/appTest",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/wn/VSCode/back/appTest/test/integration/routes/users_spec.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/wn/VSCode/back/appTest/test/integration/routes/users_spec.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/wn/VSCode/back/appTest/test/integration/routes/",
        "sourceFileName": "users_spec.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst User = require(\"../../../src/models/users\");\n\nconst AuthService = require(\"../../../src/services/auth\");\n\ndescribe('Routes: Users', () => {\n  const defaultId = '56cb91bdc3464f14678934ca';\n  const defaultAdmin = {\n    name: 'Jhon Doe',\n    email: 'jhon@mail.com',\n    password: '123password',\n    role: 'admin'\n  };\n  const expectedAdminUser = {\n    _id: defaultId,\n    name: 'Jhon Doe',\n    email: 'jhon@mail.com',\n    role: 'admin'\n  };\n  const authToken = AuthService.generateToken(expectedAdminUser);\n  beforeEach(async () => {\n    const user = new User(defaultAdmin);\n    user._id = '56cb91bdc3464f14678934ca';\n    await User.deleteMany({});\n    await user.save();\n  });\n  afterEach(async () => await User.deleteMany({}));\n  describe('GET /users', () => {\n    it('should return a list of users', done => {\n      request.get('/users').set({\n        'x-access-token': authToken\n      }).end((err, res) => {\n        expect(res.body).to.eql([expectedAdminUser]);\n        done(err);\n      });\n    });\n    context('when an id is specified', done => {\n      it('should return 200 with one user', done => {\n        request.get(`/users/${defaultId}`).set({\n          'x-access-token': authToken\n        }).end((err, res) => {\n          expect(res.statusCode).to.eql(200);\n          expect(res.body).to.eql([expectedAdminUser]);\n          done(err);\n        });\n      });\n    });\n  });\n  describe('POST /users', () => {\n    context('when posting an user', () => {\n      it('should return a new user with status code 201', done => {\n        const customId = '56cb91bdc3464f14678934ba';\n        const newUser = Object.assign({}, {\n          _id: customId,\n          __v: 0\n        }, defaultAdmin);\n        const expectedSavedUser = {\n          _id: customId,\n          name: 'Jhon Doe',\n          email: 'jhon@mail.com',\n          role: 'admin'\n        };\n        request.post('/users').set({\n          'x-access-token': authToken\n        }).send(newUser).end((err, res) => {\n          expect(res.statusCode).to.eql(201);\n          expect(res.body).to.eql(expectedSavedUser);\n          done(err);\n        });\n      });\n    });\n  });\n  describe('PUT /users/:id', () => {\n    context('when editing an user', () => {\n      it('should update the user and return 200 as status code', done => {\n        const customUser = {\n          name: 'Din Doe'\n        };\n        const updatedUser = Object.assign({}, defaultAdmin, customUser);\n        request.put(`/users/${defaultId}`).set({\n          'x-access-token': authToken\n        }).send(updatedUser).end((err, res) => {\n          expect(res.status).to.eql(200);\n          done(err);\n        });\n      });\n    });\n  });\n  describe('DELETE /users/:id', () => {\n    context('when deleting an user', () => {\n      it('should delete an user and return 204 as status code', done => {\n        request.delete(`/users/${defaultId}`).set({\n          'x-access-token': authToken\n        }).end((err, res) => {\n          expect(res.status).to.eql(204);\n          done(err);\n        });\n      });\n    });\n  });\n  describe('POST /users/authenticate', () => {\n    context('when authenticating an user', () => {\n      it('should generate a valid token', done => {\n        request.post(`/users/authenticate`).send({\n          email: 'jhon@mail.com',\n          password: '123password'\n        }).end((err, res) => {\n          expect(res.body).to.have.key('token');\n          expect(res.status).to.eql(200);\n          done(err);\n        });\n      });\n      it('should return unauthorized when the password does not match', done => {\n        request.post(`/users/authenticate`).send({\n          email: 'jhon@mail.com',\n          password: 'wrongpassword'\n        }).end((err, res) => {\n          expect(res.status).to.eql(401);\n          done(err);\n        });\n      });\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJzX3NwZWMuanMiXSwibmFtZXMiOlsiVXNlciIsInJlcXVpcmUiLCJBdXRoU2VydmljZSIsImRlc2NyaWJlIiwiZGVmYXVsdElkIiwiZGVmYXVsdEFkbWluIiwibmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJyb2xlIiwiZXhwZWN0ZWRBZG1pblVzZXIiLCJfaWQiLCJhdXRoVG9rZW4iLCJnZW5lcmF0ZVRva2VuIiwiYmVmb3JlRWFjaCIsInVzZXIiLCJkZWxldGVNYW55Iiwic2F2ZSIsImFmdGVyRWFjaCIsIml0IiwiZG9uZSIsInJlcXVlc3QiLCJnZXQiLCJzZXQiLCJlbmQiLCJlcnIiLCJyZXMiLCJleHBlY3QiLCJib2R5IiwidG8iLCJlcWwiLCJjb250ZXh0Iiwic3RhdHVzQ29kZSIsImN1c3RvbUlkIiwibmV3VXNlciIsIk9iamVjdCIsImFzc2lnbiIsIl9fdiIsImV4cGVjdGVkU2F2ZWRVc2VyIiwicG9zdCIsInNlbmQiLCJjdXN0b21Vc2VyIiwidXBkYXRlZFVzZXIiLCJwdXQiLCJzdGF0dXMiLCJkZWxldGUiLCJoYXZlIiwia2V5Il0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLElBQUksR0FBR0MsT0FBTyxDQUFDLDJCQUFELENBQXBCOztBQUNBLE1BQU1DLFdBQVcsR0FBR0QsT0FBTyxDQUFDLDRCQUFELENBQTNCOztBQUVBRSxRQUFRLENBQUMsZUFBRCxFQUFrQixNQUFNO0FBQzlCLFFBQU1DLFNBQVMsR0FBRywwQkFBbEI7QUFDQSxRQUFNQyxZQUFZLEdBQUc7QUFDbkJDLElBQUFBLElBQUksRUFBRSxVQURhO0FBRW5CQyxJQUFBQSxLQUFLLEVBQUUsZUFGWTtBQUduQkMsSUFBQUEsUUFBUSxFQUFFLGFBSFM7QUFJbkJDLElBQUFBLElBQUksRUFBRTtBQUphLEdBQXJCO0FBTUEsUUFBTUMsaUJBQWlCLEdBQUc7QUFDeEJDLElBQUFBLEdBQUcsRUFBRVAsU0FEbUI7QUFFeEJFLElBQUFBLElBQUksRUFBRSxVQUZrQjtBQUd4QkMsSUFB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MEIsR0FBMUI7QUFDQVYsVUFBQUEsSUFBSSxDQUFDSyxHQUFELENBQUo7QUFDRCxTQVZIO0FBV0QsT0FaQyxDQUFGO0FBYUFOLE1BQUFBLEVBQUUsQ0FBQyw2REFBRCxFQUFnRUMsSUFBSSxJQUFJO0FBQ3hFQyxRQUFBQSxPQUFPLENBQ0prQixJQURILENBQ1MscUJBRFQsRUFFR0MsSUFGSCxDQUVRO0FBQ0pqQyxVQUFBQSxLQUFLLEVBQUUsZUFESDtBQUVKQyxVQUFBQSxRQUFRLEVBQUU7QUFGTixTQUZSLEVBTUdnQixHQU5ILENBTU8sQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFDakJDLFVBQUFBLE1BQU0sQ0FBQ0QsR0FBRyxDQUFDa0IsTUFBTCxDQUFOLENBQW1CZixFQUFuQixDQUFzQkMsR0FBdEIsQ0FBMEIsR0FBMUI7QUFDQVYsVUFBQUEsSUFBSSxDQUFDSyxHQUFELENBQUo7QUFDRCxTQVRIO0FBVUQsT0FYQyxDQUFGO0FBWUQsS0ExQk0sQ0FBUDtBQTJCRCxHQTVCTyxDQUFSO0FBNkJELENBaElPLENBQVIiLCJzb3VyY2VSb290IjoiL2hvbWUvd24vVlNDb2RlL2JhY2svYXBwVGVzdC90ZXN0L2ludGVncmF0aW9uL3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBVc2VyID0gcmVxdWlyZShcIi4uLy4uLy4uL3NyYy9tb2RlbHMvdXNlcnNcIik7XG5jb25zdCBBdXRoU2VydmljZSA9IHJlcXVpcmUoXCIuLi8uLi8uLi9zcmMvc2VydmljZXMvYXV0aFwiKTtcblxuZGVzY3JpYmUoJ1JvdXRlczogVXNlcnMnLCAoKSA9PiB7XG4gIGNvbnN0IGRlZmF1bHRJZCA9ICc1NmNiOTFiZGMzNDY0ZjE0Njc4OTM0Y2EnO1xuICBjb25zdCBkZWZhdWx0QWRtaW4gPSB7XG4gICAgbmFtZTogJ0pob24gRG9lJyxcbiAgICBlbWFpbDogJ2pob25AbWFpbC5jb20nLFxuICAgIHBhc3N3b3JkOiAnMTIzcGFzc3dvcmQnLFxuICAgIHJvbGU6ICdhZG1pbidcbiAgfTtcbiAgY29uc3QgZXhwZWN0ZWRBZG1pblVzZXIgPSB7XG4gICAgX2lkOiBkZWZhdWx0SWQsXG4gICAgbmFtZTogJ0pob24gRG9lJyxcbiAgICBlbWFpbDogJ2pob25AbWFpbC5jb20nLFxuICAgIHJvbGU6ICdhZG1pbidcbiAgfTtcbiAgY29uc3QgYXV0aFRva2VuID0gQXV0aFNlcnZpY2UuZ2VuZXJhdGVUb2tlbihleHBlY3RlZEFkbWluVXNlcik7XG4gIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlcihkZWZhdWx0QWRtaW4pO1xuICAgIHVzZXIuX2lkID0gJzU2Y2I5MWJkYzM0NjRmMTQ2Nzg5MzRjYSc7XG4gICAgYXdhaXQgVXNlci5kZWxldGVNYW55KHt9KTtcbiAgICBhd2FpdCB1c2VyLnNhdmUoKTtcbiAgfSk7XG4gIGFmdGVyRWFjaChhc3luYyAoKSA9PiBhd2FpdCBVc2VyLmRlbGV0ZU1hbnkoe30pKTtcbiAgZGVzY3JpYmUoJ0dFVCAvdXNlcnMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gYSBsaXN0IG9mIHVzZXJzJywgZG9uZSA9PiB7XG4gICAgICByZXF1ZXN0XG4gICAgICAgIC5nZXQoJy91c2VycycpXG4gICAgICAgIC5zZXQoeyd4LWFjY2Vzcy10b2tlbic6IGF1dGhUb2tlbn0pXG4gICAgICAgIC5lbmQoKGVyciwgcmVzKSA9PiB7XG4gICAgICAgICAgZXhwZWN0KHJlcy5ib2R5KS50by5lcWwoW2V4cGVjdGVkQWRtaW5Vc2VyXSk7XG4gICAgICAgICAgZG9uZShlcnIpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICBjb250ZXh0KCd3aGVuIGFuIGlkIGlzIHNwZWNpZmllZCcsIGRvbmUgPT4ge1xuICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gMjAwIHdpdGggb25lIHVzZXInLCBkb25lID0+IHtcbiAgICAgICAgcmVxdWVzdFxuICAgICAgICAgIC5nZXQoYC91c2Vycy8ke2RlZmF1bHRJZH1gKVxuICAgICAgICAgIC5zZXQoeyd4LWFjY2Vzcy10b2tlbic6IGF1dGhUb2tlbn0pXG4gICAgICAgICAgLmVuZCgoZXJyLCByZXMpID0+IHtcbiAgICAgICAgICAgIGV4cGVjdChyZXMuc3RhdHVzQ29kZSkudG8uZXFsKDIwMCk7XG4gICAgICAgICAgICBleHBlY3QocmVzLmJvZHkpLnRvLmVxbChbZXhwZWN0ZWRBZG1pblVzZXJdKTtcbiAgICAgICAgICAgIGRvbmUoZXJyKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbiAgZGVzY3JpYmUoJ1BPU1QgL3VzZXJzJywgKCkgPT4ge1xuICAgIGNvbnRleHQoJ3doZW4gcG9zdGluZyBhbiB1c2VyJywgKCkgPT4ge1xuICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gYSBuZXcgdXNlciB3aXRoIHN0YXR1cyBjb2RlIDIwMScsIGRvbmUgPT4ge1xuICAgICAgICBjb25zdCBjdXN0b21JZCA9ICc1NmNiOTFiZGMzNDY0ZjE0Njc4OTM0YmEnO1xuICAgICAgICBjb25zdCBuZXdVc2VyID0gT2JqZWN0LmFzc2lnbih7fSwgeyBfaWQ6IGN1c3RvbUlkLCBfX3Y6IDAgfSwgZGVmYXVsdEFkbWluKTtcbiAgICAgICAgY29uc3QgZXhwZWN0ZWRTYXZlZFVzZXIgPSB7XG4gICAgICAgICAgX2lkOiBjdXN0b21JZCxcbiAgICAgICAgICBuYW1lOiAnSmhvbiBEb2UnLFxuICAgICAgICAgIGVtYWlsOiAnamhvbkBtYWlsLmNvbScsXG4gICAgICAgICAgcm9sZTogJ2FkbWluJ1xuICAgICAgICB9O1xuICAgICAgICByZXF1ZXN0XG4gICAgICAgICAgLnBvc3QoJy91c2VycycpXG4gICAgICAgICAgLnNldCh7J3gtYWNjZXNzLXRva2VuJzogYXV0aFRva2VufSlcbiAgICAgICAgICAuc2VuZChuZXdVc2VyKVxuICAgICAgICAgIC5lbmQoKGVyciwgcmVzKSA9PiB7XG4gICAgICAgICAgICBleHBlY3QocmVzLnN0YXR1c0NvZGUpLnRvLmVxbCgyMDEpO1xuICAgICAgICAgICAgZXhwZWN0KHJlcy5ib2R5KS50by5lcWwoZXhwZWN0ZWRTYXZlZFVzZXIpO1xuICAgICAgICAgICAgZG9uZShlcnIpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuICBkZXNjcmliZSgnUFVUIC91c2Vycy86aWQnLCAoKSA9PiB7XG4gICAgY29udGV4dCgnd2hlbiBlZGl0aW5nIGFuIHVzZXInLCAoKSA9PiB7XG4gICAgICBpdCgnc2hvdWxkIHVwZGF0ZSB0aGUgdXNlciBhbmQgcmV0dXJuIDIwMCBhcyBzdGF0dXMgY29kZScsIGRvbmUgPT4ge1xuICAgICAgICBjb25zdCBjdXN0b21Vc2VyID0ge1xuICAgICAgICAgIG5hbWU6ICdEaW4gRG9lJyxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgdXBkYXRlZFVzZXIgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0QWRtaW4sIGN1c3RvbVVzZXIpXG4gICAgICAgIHJlcXVlc3RcbiAgICAgICAgICAucHV0KGAvdXNlcnMvJHtkZWZhdWx0SWR9YClcbiAgICAgICAgICAuc2V0KHsneC1hY2Nlc3MtdG9rZW4nOiBhdXRoVG9rZW59KVxuICAgICAgICAgIC5zZW5kKHVwZGF0ZWRVc2VyKVxuICAgICAgICAgIC5lbmQoKGVyciwgcmVzKSA9PiB7XG4gICAgICAgICAgICBleHBlY3QocmVzLnN0YXR1cykudG8uZXFsKDIwMCk7XG4gICAgICAgICAgICBkb25lKGVycik7XG4gICAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG4gIGRlc2NyaWJlKCdERUxFVEUgL3VzZXJzLzppZCcsICgpID0+IHtcbiAgICBjb250ZXh0KCd3aGVuIGRlbGV0aW5nIGFuIHVzZXInLCAoKSA9PiB7XG4gICAgICBpdCgnc2hvdWxkIGRlbGV0ZSBhbiB1c2VyIGFuZCByZXR1cm4gMjA0IGFzIHN0YXR1cyBjb2RlJywgZG9uZSA9PiB7XG4gICAgICAgIHJlcXVlc3RcbiAgICAgICAgICAuZGVsZXRlKGAvdXNlcnMvJHtkZWZhdWx0SWR9YClcbiAgICAgICAgICAuc2V0KHsneC1hY2Nlc3MtdG9rZW4nOiBhdXRoVG9rZW59KVxuICAgICAgICAgIC5lbmQoKGVyciwgcmVzKSA9PiB7XG4gICAgICAgICAgICBleHBlY3QocmVzLnN0YXR1cykudG8uZXFsKDIwNCk7XG4gICAgICAgICAgICBkb25lKGVycik7XG4gICAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG4gIGRlc2NyaWJlKCdQT1NUIC91c2Vycy9hdXRoZW50aWNhdGUnLCAoKSA9PiB7XG4gICAgY29udGV4dCgnd2hlbiBhdXRoZW50aWNhdGluZyBhbiB1c2VyJywgKCkgPT4ge1xuICAgICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSBhIHZhbGlkIHRva2VuJywgZG9uZSA9PiB7XG4gICAgICAgIHJlcXVlc3RcbiAgICAgICAgICAucG9zdChgL3VzZXJzL2F1dGhlbnRpY2F0ZWApXG4gICAgICAgICAgLnNlbmQoe1xuICAgICAgICAgICAgZW1haWw6ICdqaG9uQG1haWwuY29tJyxcbiAgICAgICAgICAgIHBhc3N3b3JkOiAnMTIzcGFzc3dvcmQnXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuZW5kKChlcnIsIHJlcykgPT4ge1xuICAgICAgICAgICAgZXhwZWN0KHJlcy5ib2R5KS50by5oYXZlLmtleSgndG9rZW4nKTtcbiAgICAgICAgICAgIGV4cGVjdChyZXMuc3RhdHVzKS50by5lcWwoMjAwKTtcbiAgICAgICAgICAgIGRvbmUoZXJyKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gdW5hdXRob3JpemVkIHdoZW4gdGhlIHBhc3N3b3JkIGRvZXMgbm90IG1hdGNoJywgZG9uZSA9PiB7XG4gICAgICAgIHJlcXVlc3RcbiAgICAgICAgICAucG9zdChgL3VzZXJzL2F1dGhlbnRpY2F0ZWApXG4gICAgICAgICAgLnNlbmQoe1xuICAgICAgICAgICAgZW1haWw6ICdqaG9uQG1haWwuY29tJyxcbiAgICAgICAgICAgIHBhc3N3b3JkOiAnd3JvbmdwYXNzd29yZCdcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5lbmQoKGVyciwgcmVzKSA9PiB7XG4gICAgICAgICAgICBleHBlY3QocmVzLnN0YXR1cykudG8uZXFsKDQwMSk7XG4gICAgICAgICAgICBkb25lKGVycik7XG4gICAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59KTsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "users_spec.js"
      ],
      "names": [
        "User",
        "require",
        "AuthService",
        "describe",
        "defaultId",
        "defaultAdmin",
        "name",
        "email",
        "password",
        "role",
        "expectedAdminUser",
        "_id",
        "authToken",
        "generateToken",
        "beforeEach",
        "user",
        "deleteMany",
        "save",
        "afterEach",
        "it",
        "done",
        "request",
        "get",
        "set",
        "end",
        "err",
        "res",
        "expect",
        "body",
        "to",
        "eql",
        "context",
        "statusCode",
        "customId",
        "newUser",
        "Object",
        "assign",
        "__v",
        "expectedSavedUser",
        "post",
        "send",
        "customUser",
        "updatedUser",
        "put",
        "status",
        "delete",
        "have",
        "key"
      ],
      "mappings": "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",
      "sourceRoot": "/home/wn/VSCode/back/appTest/test/integration/routes/",
      "sourcesContent": [
        "const User = require(\"../../../src/models/users\");\nconst AuthService = require(\"../../../src/services/auth\");\n\ndescribe('Routes: Users', () => {\n  const defaultId = '56cb91bdc3464f14678934ca';\n  const defaultAdmin = {\n    name: 'Jhon Doe',\n    email: 'jhon@mail.com',\n    password: '123password',\n    role: 'admin'\n  };\n  const expectedAdminUser = {\n    _id: defaultId,\n    name: 'Jhon Doe',\n    email: 'jhon@mail.com',\n    role: 'admin'\n  };\n  const authToken = AuthService.generateToken(expectedAdminUser);\n  beforeEach(async () => {\n    const user = new User(defaultAdmin);\n    user._id = '56cb91bdc3464f14678934ca';\n    await User.deleteMany({});\n    await user.save();\n  });\n  afterEach(async () => await User.deleteMany({}));\n  describe('GET /users', () => {\n    it('should return a list of users', done => {\n      request\n        .get('/users')\n        .set({'x-access-token': authToken})\n        .end((err, res) => {\n          expect(res.body).to.eql([expectedAdminUser]);\n          done(err);\n        });\n    });\n    context('when an id is specified', done => {\n      it('should return 200 with one user', done => {\n        request\n          .get(`/users/${defaultId}`)\n          .set({'x-access-token': authToken})\n          .end((err, res) => {\n            expect(res.statusCode).to.eql(200);\n            expect(res.body).to.eql([expectedAdminUser]);\n            done(err);\n          });\n      });\n    });\n  });\n  describe('POST /users', () => {\n    context('when posting an user', () => {\n      it('should return a new user with status code 201', done => {\n        const customId = '56cb91bdc3464f14678934ba';\n        const newUser = Object.assign({}, { _id: customId, __v: 0 }, defaultAdmin);\n        const expectedSavedUser = {\n          _id: customId,\n          name: 'Jhon Doe',\n          email: 'jhon@mail.com',\n          role: 'admin'\n        };\n        request\n          .post('/users')\n          .set({'x-access-token': authToken})\n          .send(newUser)\n          .end((err, res) => {\n            expect(res.statusCode).to.eql(201);\n            expect(res.body).to.eql(expectedSavedUser);\n            done(err);\n          });\n      });\n    });\n  });\n  describe('PUT /users/:id', () => {\n    context('when editing an user', () => {\n      it('should update the user and return 200 as status code', done => {\n        const customUser = {\n          name: 'Din Doe',\n        };\n        const updatedUser = Object.assign({}, defaultAdmin, customUser)\n        request\n          .put(`/users/${defaultId}`)\n          .set({'x-access-token': authToken})\n          .send(updatedUser)\n          .end((err, res) => {\n            expect(res.status).to.eql(200);\n            done(err);\n          });\n      });\n    });\n  });\n  describe('DELETE /users/:id', () => {\n    context('when deleting an user', () => {\n      it('should delete an user and return 204 as status code', done => {\n        request\n          .delete(`/users/${defaultId}`)\n          .set({'x-access-token': authToken})\n          .end((err, res) => {\n            expect(res.status).to.eql(204);\n            done(err);\n          });\n      });\n    });\n  });\n  describe('POST /users/authenticate', () => {\n    context('when authenticating an user', () => {\n      it('should generate a valid token', done => {\n        request\n          .post(`/users/authenticate`)\n          .send({\n            email: 'jhon@mail.com',\n            password: '123password'\n          })\n          .end((err, res) => {\n            expect(res.body).to.have.key('token');\n            expect(res.status).to.eql(200);\n            done(err);\n          });\n      });\n      it('should return unauthorized when the password does not match', done => {\n        request\n          .post(`/users/authenticate`)\n          .send({\n            email: 'jhon@mail.com',\n            password: 'wrongpassword'\n          })\n          .end((err, res) => {\n            expect(res.status).to.eql(401);\n            done(err);\n          });\n      });\n    });\n  });\n});"
      ]
    },
    "sourceType": "script",
    "mtime": 1601223249172
  },
  "{\"sourceRoot\":\"/home/wn/VSCode/back/appTest/test/integration/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/wn/VSCode/back/appTest\",\"filename\":\"/home/wn/VSCode/back/appTest/test/integration/global.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/home/wn/VSCode/back/appTest\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6:test": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/wn/VSCode/back/appTest/test/integration/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/wn/VSCode/back/appTest",
      "filename": "/home/wn/VSCode/back/appTest/test/integration/global.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "test",
      "root": "/home/wn/VSCode/back/appTest",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/wn/VSCode/back/appTest/test/integration/global.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/wn/VSCode/back/appTest/test/integration/global.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/wn/VSCode/back/appTest/test/integration/",
        "sourceFileName": "global.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nlet request;\nlet app;\nconst defaultId = '56cb91bdc3464f14678934ca';\nbeforeEach(async () => {\n  await Product.deleteMany();\n  const product = new Product(defaultProduct);\n  product._id = defaultId;\n  return await product.save();\n});\nafterEach(async () => await Product.deleteMany);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdsb2JhbC5qcyJdLCJuYW1lcyI6WyJyZXF1ZXN0IiwiYXBwIiwiZGVmYXVsdElkIiwiYmVmb3JlRWFjaCIsIlByb2R1Y3QiLCJkZWxldGVNYW55IiwicHJvZHVjdCIsImRlZmF1bHRQcm9kdWN0IiwiX2lkIiwic2F2ZSIsImFmdGVyRWFjaCJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxPQUFKO0FBQ0EsSUFBSUMsR0FBSjtBQUVBLE1BQU1DLFNBQVMsR0FBRywwQkFBbEI7QUFFQUMsVUFBVSxDQUFDLFlBQVk7QUFDckIsUUFBTUMsT0FBTyxDQUFDQyxVQUFSLEVBQU47QUFFQSxRQUFNQyxPQUFPLEdBQUcsSUFBSUYsT0FBSixDQUFZRyxjQUFaLENBQWhCO0FBQ0FELEVBQUFBLE9BQU8sQ0FBQ0UsR0FBUixHQUFjTixTQUFkO0FBQ0EsU0FBTyxNQUFNSSxPQUFPLENBQUNHLElBQVIsRUFBYjtBQUNELENBTlMsQ0FBVjtBQVFBQyxTQUFTLENBQUMsWUFBWSxNQUFNTixPQUFPLENBQUNDLFVBQTNCLENBQVQiLCJzb3VyY2VSb290IjoiL2hvbWUvd24vVlNDb2RlL2JhY2svYXBwVGVzdC90ZXN0L2ludGVncmF0aW9uLyIsInNvdXJjZXNDb250ZW50IjpbImxldCByZXF1ZXN0O1xubGV0IGFwcDtcblxuY29uc3QgZGVmYXVsdElkID0gJzU2Y2I5MWJkYzM0NjRmMTQ2Nzg5MzRjYSc7XG5cbmJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICBhd2FpdCBQcm9kdWN0LmRlbGV0ZU1hbnkoKTtcblxuICBjb25zdCBwcm9kdWN0ID0gbmV3IFByb2R1Y3QoZGVmYXVsdFByb2R1Y3QpO1xuICBwcm9kdWN0Ll9pZCA9IGRlZmF1bHRJZDtcbiAgcmV0dXJuIGF3YWl0IHByb2R1Y3Quc2F2ZSgpO1xufSk7XG5cbmFmdGVyRWFjaChhc3luYyAoKSA9PiBhd2FpdCBQcm9kdWN0LmRlbGV0ZU1hbnkpOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "global.js"
      ],
      "names": [
        "request",
        "app",
        "defaultId",
        "beforeEach",
        "Product",
        "deleteMany",
        "product",
        "defaultProduct",
        "_id",
        "save",
        "afterEach"
      ],
      "mappings": ";;AAAA,IAAIA,OAAJ;AACA,IAAIC,GAAJ;AAEA,MAAMC,SAAS,GAAG,0BAAlB;AAEAC,UAAU,CAAC,YAAY;AACrB,QAAMC,OAAO,CAACC,UAAR,EAAN;AAEA,QAAMC,OAAO,GAAG,IAAIF,OAAJ,CAAYG,cAAZ,CAAhB;AACAD,EAAAA,OAAO,CAACE,GAAR,GAAcN,SAAd;AACA,SAAO,MAAMI,OAAO,CAACG,IAAR,EAAb;AACD,CANS,CAAV;AAQAC,SAAS,CAAC,YAAY,MAAMN,OAAO,CAACC,UAA3B,CAAT",
      "sourceRoot": "/home/wn/VSCode/back/appTest/test/integration/",
      "sourcesContent": [
        "let request;\nlet app;\n\nconst defaultId = '56cb91bdc3464f14678934ca';\n\nbeforeEach(async () => {\n  await Product.deleteMany();\n\n  const product = new Product(defaultProduct);\n  product._id = defaultId;\n  return await product.save();\n});\n\nafterEach(async () => await Product.deleteMany);"
      ]
    },
    "sourceType": "script",
    "mtime": 1601213514812
  },
  "{\"sourceRoot\":\"/home/wn/VSCode/back/appTest/src/middlewares/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/wn/VSCode/back/appTest\",\"filename\":\"/home/wn/VSCode/back/appTest/src/middlewares/auth.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/home/wn/VSCode/back/appTest\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6:test": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/middlewares/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/wn/VSCode/back/appTest",
      "filename": "/home/wn/VSCode/back/appTest/src/middlewares/auth.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "test",
      "root": "/home/wn/VSCode/back/appTest",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/wn/VSCode/back/appTest/src/middlewares/auth.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/wn/VSCode/back/appTest/src/middlewares/auth.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/wn/VSCode/back/appTest/src/middlewares/",
        "sourceFileName": "auth.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst jwt = require(\"jsonwebtoken\");\n\nconst config = require(\"config\");\n\nmodule.exports = (req, res, next) => {\n  const token = req.headers['x-access-token'];\n  if (!token) return next();\n  jwt.verify(token, config.get('auth.key'), (err, decoded) => {\n    req.decoded = decoded;\n    next(err);\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguanMiXSwibmFtZXMiOlsiand0IiwicmVxdWlyZSIsImNvbmZpZyIsIm1vZHVsZSIsImV4cG9ydHMiLCJyZXEiLCJyZXMiLCJuZXh0IiwidG9rZW4iLCJoZWFkZXJzIiwidmVyaWZ5IiwiZ2V0IiwiZXJyIiwiZGVjb2RlZCJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxHQUFHLEdBQUdDLE9BQU8sQ0FBQyxjQUFELENBQW5COztBQUNBLE1BQU1DLE1BQU0sR0FBR0QsT0FBTyxDQUFDLFFBQUQsQ0FBdEI7O0FBRUFFLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUNuQyxRQUFNQyxLQUFLLEdBQUdILEdBQUcsQ0FBQ0ksT0FBSixDQUFZLGdCQUFaLENBQWQ7QUFFQSxNQUFJLENBQUNELEtBQUwsRUFBWSxPQUFPRCxJQUFJLEVBQVg7QUFFWlAsRUFBQUEsR0FBRyxDQUFDVSxNQUFKLENBQVdGLEtBQVgsRUFBa0JOLE1BQU0sQ0FBQ1MsR0FBUCxDQUFXLFVBQVgsQ0FBbEIsRUFBMEMsQ0FBQ0MsR0FBRCxFQUFNQyxPQUFOLEtBQWtCO0FBQzFEUixJQUFBQSxHQUFHLENBQUNRLE9BQUosR0FBY0EsT0FBZDtBQUNBTixJQUFBQSxJQUFJLENBQUNLLEdBQUQsQ0FBSjtBQUNELEdBSEQ7QUFJRCxDQVREIiwic291cmNlUm9vdCI6Ii9ob21lL3duL1ZTQ29kZS9iYWNrL2FwcFRlc3Qvc3JjL21pZGRsZXdhcmVzLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGp3dCA9IHJlcXVpcmUoXCJqc29ud2VidG9rZW5cIik7XG5jb25zdCBjb25maWcgPSByZXF1aXJlKFwiY29uZmlnXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICBjb25zdCB0b2tlbiA9IHJlcS5oZWFkZXJzWyd4LWFjY2Vzcy10b2tlbiddO1xuXG4gIGlmICghdG9rZW4pIHJldHVybiBuZXh0KCk7XG4gIFxuICBqd3QudmVyaWZ5KHRva2VuLCBjb25maWcuZ2V0KCdhdXRoLmtleScpLCAoZXJyLCBkZWNvZGVkKSA9PiB7XG4gICAgcmVxLmRlY29kZWQgPSBkZWNvZGVkO1xuICAgIG5leHQoZXJyKTtcbiAgfSk7XG59OyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "auth.js"
      ],
      "names": [
        "jwt",
        "require",
        "config",
        "module",
        "exports",
        "req",
        "res",
        "next",
        "token",
        "headers",
        "verify",
        "get",
        "err",
        "decoded"
      ],
      "mappings": ";;AAAA,MAAMA,GAAG,GAAGC,OAAO,CAAC,cAAD,CAAnB;;AACA,MAAMC,MAAM,GAAGD,OAAO,CAAC,QAAD,CAAtB;;AAEAE,MAAM,CAACC,OAAP,GAAiB,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACnC,QAAMC,KAAK,GAAGH,GAAG,CAACI,OAAJ,CAAY,gBAAZ,CAAd;AAEA,MAAI,CAACD,KAAL,EAAY,OAAOD,IAAI,EAAX;AAEZP,EAAAA,GAAG,CAACU,MAAJ,CAAWF,KAAX,EAAkBN,MAAM,CAACS,GAAP,CAAW,UAAX,CAAlB,EAA0C,CAACC,GAAD,EAAMC,OAAN,KAAkB;AAC1DR,IAAAA,GAAG,CAACQ,OAAJ,GAAcA,OAAd;AACAN,IAAAA,IAAI,CAACK,GAAD,CAAJ;AACD,GAHD;AAID,CATD",
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/middlewares/",
      "sourcesContent": [
        "const jwt = require(\"jsonwebtoken\");\nconst config = require(\"config\");\n\nmodule.exports = (req, res, next) => {\n  const token = req.headers['x-access-token'];\n\n  if (!token) return next();\n  \n  jwt.verify(token, config.get('auth.key'), (err, decoded) => {\n    req.decoded = decoded;\n    next(err);\n  });\n};"
      ]
    },
    "sourceType": "script",
    "mtime": 1601213171104
  },
  "{\"sourceRoot\":\"/home/wn/VSCode/back/appTest/test/integration/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/wn/VSCode/back/appTest\",\"filename\":\"/home/wn/VSCode/back/appTest/test/integration/routes/users_spec.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/home/wn/VSCode/back/appTest\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6:test": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/wn/VSCode/back/appTest/test/integration/routes/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/wn/VSCode/back/appTest",
      "filename": "/home/wn/VSCode/back/appTest/test/integration/routes/users_spec.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "test",
      "root": "/home/wn/VSCode/back/appTest",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/wn/VSCode/back/appTest/test/integration/routes/users_spec.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/wn/VSCode/back/appTest/test/integration/routes/users_spec.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/wn/VSCode/back/appTest/test/integration/routes/",
        "sourceFileName": "users_spec.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst User = require(\"../../../src/models/users\");\n\ndescribe('Routes: Users', () => {\n  const defaultId = '56cb91bdc3464f14678934ca';\n  const defaultAdmin = {\n    name: 'Jhon Doe',\n    email: 'jhon@mail.com',\n    password: '123password',\n    role: 'admin'\n  };\n  const expectedAdminUser = {\n    _id: defaultId,\n    name: 'Jhon Doe',\n    email: 'jhon@mail.com',\n    role: 'admin'\n  };\n  beforeEach(async () => {\n    const user = new User(defaultAdmin);\n    user._id = '56cb91bdc3464f14678934ca';\n    await User.deleteMany({});\n    await user.save();\n  });\n  afterEach(async () => await User.deleteMany({}));\n  describe('GET /users', () => {\n    it('should return a list of users', done => {\n      request.get('/users').end((err, res) => {\n        expect(res.body).to.eql([expectedAdminUser]);\n        done(err);\n      });\n    });\n    context('when an id is specified', done => {\n      it('should return 200 with one user', done => {\n        request.get(`/users/${defaultId}`).end((err, res) => {\n          expect(res.statusCode).to.eql(200);\n          expect(res.body).to.eql([expectedAdminUser]);\n          done(err);\n        });\n      });\n    });\n  });\n  describe('POST /users', () => {\n    context('when posting an user', () => {\n      it('should return a new user with status code 201', done => {\n        const customId = '56cb91bdc3464f14678934ba';\n        const newUser = Object.assign({}, {\n          _id: customId,\n          __v: 0\n        }, defaultAdmin);\n        const expectedSavedUser = {\n          _id: customId,\n          name: 'Jhon Doe',\n          email: 'jhon@mail.com',\n          role: 'admin'\n        };\n        request.post('/users').send(newUser).end((err, res) => {\n          expect(res.statusCode).to.eql(201);\n          expect(res.body).to.eql(expectedSavedUser);\n          done(err);\n        });\n      });\n    });\n  });\n  describe('PUT /users/:id', () => {\n    context('when editing an user', () => {\n      it('should update the user and return 200 as status code', done => {\n        const customUser = {\n          name: 'Din Doe'\n        };\n        const updatedUser = Object.assign({}, defaultAdmin, customUser);\n        request.put(`/users/${defaultId}`).send(updatedUser).end((err, res) => {\n          expect(res.status).to.eql(200);\n          done(err);\n        });\n      });\n    });\n  });\n  describe('DELETE /users/:id', () => {\n    context('when deleting an user', () => {\n      it('should delete an user and return 204 as status code', done => {\n        request.delete(`/users/${defaultId}`).end((err, res) => {\n          expect(res.status).to.eql(204);\n          done(err);\n        });\n      });\n    });\n  });\n  describe('POST /users/authenticate', () => {\n    context('when authenticating an user', () => {\n      it('should generate a valid token', done => {\n        request.post(`/users/authenticate`).send({\n          email: 'jhon@mail.com',\n          password: '123password'\n        }).end((err, res) => {\n          expect(res.body).to.have.key('token');\n          expect(res.status).to.eql(200);\n          done(err);\n        });\n      });\n      it('should return unauthorized when the password does not match', done => {\n        request.post(`/users/authenticate`).send({\n          email: 'jhon@mail.com',\n          password: 'wrongpassword'\n        }).end((err, res) => {\n          expect(res.status).to.eql(401);\n          done(err);\n        });\n      });\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJzX3NwZWMuanMiXSwibmFtZXMiOlsiVXNlciIsInJlcXVpcmUiLCJkZXNjcmliZSIsImRlZmF1bHRJZCIsImRlZmF1bHRBZG1pbiIsIm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwicm9sZSIsImV4cGVjdGVkQWRtaW5Vc2VyIiwiX2lkIiwiYmVmb3JlRWFjaCIsInVzZXIiLCJkZWxldGVNYW55Iiwic2F2ZSIsImFmdGVyRWFjaCIsIml0IiwiZG9uZSIsInJlcXVlc3QiLCJnZXQiLCJlbmQiLCJlcnIiLCJyZXMiLCJleHBlY3QiLCJib2R5IiwidG8iLCJlcWwiLCJjb250ZXh0Iiwic3RhdHVzQ29kZSIsImN1c3RvbUlkIiwibmV3VXNlciIsIk9iamVjdCIsImFzc2lnbiIsIl9fdiIsImV4cGVjdGVkU2F2ZWRVc2VyIiwicG9zdCIsInNlbmQiLCJjdXN0b21Vc2VyIiwidXBkYXRlZFVzZXIiLCJwdXQiLCJzdGF0dXMiLCJkZWxldGUiLCJoYXZlIiwia2V5Il0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLElBQUksR0FBR0MsT0FBTyxDQUFDLDJCQUFELENBQXBCOztBQUVBQyxRQUFRLENBQUMsZUFBRCxFQUFrQixNQUFNO0FBQzlCLFFBQU1DLFNBQVMsR0FBRywwQkFBbEI7QUFDQSxRQUFNQyxZQUFZLEdBQUc7QUFDbkJDLElBQUFBLElBQUksRUFBRSxVQURhO0FBRW5CQyxJQUFBQSxLQUFLLEVBQUUsZUFGWTtBQUduQkMsSUFBQUEsUUFBUSxFQUFFLGFBSFM7QUFJbkJDLElBQUFBLElBQUksRUFBRTtBQUphLEdBQXJCO0FBTUEsUUFBTUMsaUJBQWlCLEdBQUc7QUFDeEJDLElBQUFBLEdBQUcsRUFBRVAsU0FEbUI7QUFFeEJFLElBQUFBLElBQUksRUFBRSxVQUZrQjtBQUd4QkMsSUFBQUEsS0FBSyxFQUFFLGVBSGlCO0FBSXhCRSxJQUFBQSxJQUFJLEVBQUU7QUFKa0IsR0FBMUI7QUFNQUcsRUFBQUEsVUFBVSxDQUFDLFlBQVk7QUFDckIsVUFBTUMs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VCxVQUFBQSxJQUFJLENBQUNJLEdBQUQsQ0FBSjtBQUNELFNBVEg7QUFVRCxPQVhDLENBQUY7QUFZRCxLQTFCTSxDQUFQO0FBMkJELEdBNUJPLENBQVI7QUE2QkQsQ0ExSE8sQ0FBUiIsInNvdXJjZVJvb3QiOiIvaG9tZS93bi9WU0NvZGUvYmFjay9hcHBUZXN0L3Rlc3QvaW50ZWdyYXRpb24vcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFVzZXIgPSByZXF1aXJlKFwiLi4vLi4vLi4vc3JjL21vZGVscy91c2Vyc1wiKTtcblxuZGVzY3JpYmUoJ1JvdXRlczogVXNlcnMnLCAoKSA9PiB7XG4gIGNvbnN0IGRlZmF1bHRJZCA9ICc1NmNiOTFiZGMzNDY0ZjE0Njc4OTM0Y2EnO1xuICBjb25zdCBkZWZhdWx0QWRtaW4gPSB7XG4gICAgbmFtZTogJ0pob24gRG9lJyxcbiAgICBlbWFpbDogJ2pob25AbWFpbC5jb20nLFxuICAgIHBhc3N3b3JkOiAnMTIzcGFzc3dvcmQnLFxuICAgIHJvbGU6ICdhZG1pbidcbiAgfTtcbiAgY29uc3QgZXhwZWN0ZWRBZG1pblVzZXIgPSB7XG4gICAgX2lkOiBkZWZhdWx0SWQsXG4gICAgbmFtZTogJ0pob24gRG9lJyxcbiAgICBlbWFpbDogJ2pob25AbWFpbC5jb20nLFxuICAgIHJvbGU6ICdhZG1pbidcbiAgfTtcbiAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgdXNlciA9IG5ldyBVc2VyKGRlZmF1bHRBZG1pbik7XG4gICAgdXNlci5faWQgPSAnNTZjYjkxYmRjMzQ2NGYxNDY3ODkzNGNhJztcbiAgICBhd2FpdCBVc2VyLmRlbGV0ZU1hbnkoe30pO1xuICAgIGF3YWl0IHVzZXIuc2F2ZSgpO1xuICB9KTtcbiAgYWZ0ZXJFYWNoKGFzeW5jICgpID0+IGF3YWl0IFVzZXIuZGVsZXRlTWFueSh7fSkpO1xuICBkZXNjcmliZSgnR0VUIC91c2VycycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiBhIGxpc3Qgb2YgdXNlcnMnLCBkb25lID0+IHtcbiAgICAgIHJlcXVlc3RcbiAgICAgICAgLmdldCgnL3VzZXJzJylcbiAgICAgICAgLmVuZCgoZXJyLCByZXMpID0+IHtcbiAgICAgICAgICBleHBlY3QocmVzLmJvZHkpLnRvLmVxbChbZXhwZWN0ZWRBZG1pblVzZXJdKTtcbiAgICAgICAgICBkb25lKGVycik7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIGNvbnRleHQoJ3doZW4gYW4gaWQgaXMgc3BlY2lmaWVkJywgZG9uZSA9PiB7XG4gICAgICBpdCgnc2hvdWxkIHJldHVybiAyMDAgd2l0aCBvbmUgdXNlcicsIGRvbmUgPT4ge1xuICAgICAgICByZXF1ZXN0XG4gICAgICAgICAgLmdldChgL3VzZXJzLyR7ZGVmYXVsdElkfWApXG4gICAgICAgICAgLmVuZCgoZXJyLCByZXMpID0+IHtcbiAgICAgICAgICAgIGV4cGVjdChyZXMuc3RhdHVzQ29kZSkudG8uZXFsKDIwMCk7XG4gICAgICAgICAgICBleHBlY3QocmVzLmJvZHkpLnRvLmVxbChbZXhwZWN0ZWRBZG1pblVzZXJdKTtcbiAgICAgICAgICAgIGRvbmUoZXJyKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbiAgZGVzY3JpYmUoJ1BPU1QgL3VzZXJzJywgKCkgPT4ge1xuICAgIGNvbnRleHQoJ3doZW4gcG9zdGluZyBhbiB1c2VyJywgKCkgPT4ge1xuICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gYSBuZXcgdXNlciB3aXRoIHN0YXR1cyBjb2RlIDIwMScsIGRvbmUgPT4ge1xuICAgICAgICBjb25zdCBjdXN0b21JZCA9ICc1NmNiOTFiZGMzNDY0ZjE0Njc4OTM0YmEnO1xuICAgICAgICBjb25zdCBuZXdVc2VyID0gT2JqZWN0LmFzc2lnbih7fSwgeyBfaWQ6IGN1c3RvbUlkLCBfX3Y6IDAgfSwgZGVmYXVsdEFkbWluKTtcbiAgICAgICAgY29uc3QgZXhwZWN0ZWRTYXZlZFVzZXIgPSB7XG4gICAgICAgICAgX2lkOiBjdXN0b21JZCxcbiAgICAgICAgICBuYW1lOiAnSmhvbiBEb2UnLFxuICAgICAgICAgIGVtYWlsOiAnamhvbkBtYWlsLmNvbScsXG4gICAgICAgICAgcm9sZTogJ2FkbWluJ1xuICAgICAgICB9O1xuICAgICAgICByZXF1ZXN0XG4gICAgICAgICAgLnBvc3QoJy91c2VycycpXG4gICAgICAgICAgLnNlbmQobmV3VXNlcilcbiAgICAgICAgICAuZW5kKChlcnIsIHJlcykgPT4ge1xuICAgICAgICAgICAgZXhwZWN0KHJlcy5zdGF0dXNDb2RlKS50by5lcWwoMjAxKTtcbiAgICAgICAgICAgIGV4cGVjdChyZXMuYm9keSkudG8uZXFsKGV4cGVjdGVkU2F2ZWRVc2VyKTtcbiAgICAgICAgICAgIGRvbmUoZXJyKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbiAgZGVzY3JpYmUoJ1BVVCAvdXNlcnMvOmlkJywgKCkgPT4ge1xuICAgIGNvbnRleHQoJ3doZW4gZWRpdGluZyBhbiB1c2VyJywgKCkgPT4ge1xuICAgICAgaXQoJ3Nob3VsZCB1cGRhdGUgdGhlIHVzZXIgYW5kIHJldHVybiAyMDAgYXMgc3RhdHVzIGNvZGUnLCBkb25lID0+IHtcbiAgICAgICAgY29uc3QgY3VzdG9tVXNlciA9IHtcbiAgICAgICAgICBuYW1lOiAnRGluIERvZScsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRVc2VyID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdEFkbWluLCBjdXN0b21Vc2VyKVxuICAgICAgICByZXF1ZXN0XG4gICAgICAgICAgLnB1dChgL3VzZXJzLyR7ZGVmYXVsdElkfWApXG4gICAgICAgICAgLnNlbmQodXBkYXRlZFVzZXIpXG4gICAgICAgICAgLmVuZCgoZXJyLCByZXMpID0+IHtcbiAgICAgICAgICAgIGV4cGVjdChyZXMuc3RhdHVzKS50by5lcWwoMjAwKTtcbiAgICAgICAgICAgIGRvbmUoZXJyKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbiAgZGVzY3JpYmUoJ0RFTEVURSAvdXNlcnMvOmlkJywgKCkgPT4ge1xuICAgIGNvbnRleHQoJ3doZW4gZGVsZXRpbmcgYW4gdXNlcicsICgpID0+IHtcbiAgICAgIGl0KCdzaG91bGQgZGVsZXRlIGFuIHVzZXIgYW5kIHJldHVybiAyMDQgYXMgc3RhdHVzIGNvZGUnLCBkb25lID0+IHtcbiAgICAgICAgcmVxdWVzdFxuICAgICAgICAgIC5kZWxldGUoYC91c2Vycy8ke2RlZmF1bHRJZH1gKVxuICAgICAgICAgIC5lbmQoKGVyciwgcmVzKSA9PiB7XG4gICAgICAgICAgICBleHBlY3QocmVzLnN0YXR1cykudG8uZXFsKDIwNCk7XG4gICAgICAgICAgICBkb25lKGVycik7XG4gICAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG4gIGRlc2NyaWJlKCdQT1NUIC91c2Vycy9hdXRoZW50aWNhdGUnLCAoKSA9PiB7XG4gICAgY29udGV4dCgnd2hlbiBhdXRoZW50aWNhdGluZyBhbiB1c2VyJywgKCkgPT4ge1xuICAgICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSBhIHZhbGlkIHRva2VuJywgZG9uZSA9PiB7XG4gICAgICAgIHJlcXVlc3RcbiAgICAgICAgICAucG9zdChgL3VzZXJzL2F1dGhlbnRpY2F0ZWApXG4gICAgICAgICAgLnNlbmQoe1xuICAgICAgICAgICAgZW1haWw6ICdqaG9uQG1haWwuY29tJyxcbiAgICAgICAgICAgIHBhc3N3b3JkOiAnMTIzcGFzc3dvcmQnXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuZW5kKChlcnIsIHJlcykgPT4ge1xuICAgICAgICAgICAgZXhwZWN0KHJlcy5ib2R5KS50by5oYXZlLmtleSgndG9rZW4nKTtcbiAgICAgICAgICAgIGV4cGVjdChyZXMuc3RhdHVzKS50by5lcWwoMjAwKTtcbiAgICAgICAgICAgIGRvbmUoZXJyKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gdW5hdXRob3JpemVkIHdoZW4gdGhlIHBhc3N3b3JkIGRvZXMgbm90IG1hdGNoJywgZG9uZSA9PiB7XG4gICAgICAgIHJlcXVlc3RcbiAgICAgICAgICAucG9zdChgL3VzZXJzL2F1dGhlbnRpY2F0ZWApXG4gICAgICAgICAgLnNlbmQoe1xuICAgICAgICAgICAgZW1haWw6ICdqaG9uQG1haWwuY29tJyxcbiAgICAgICAgICAgIHBhc3N3b3JkOiAnd3JvbmdwYXNzd29yZCdcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5lbmQoKGVyciwgcmVzKSA9PiB7XG4gICAgICAgICAgICBleHBlY3QocmVzLnN0YXR1cykudG8uZXFsKDQwMSk7XG4gICAgICAgICAgICBkb25lKGVycik7XG4gICAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59KTsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "users_spec.js"
      ],
      "names": [
        "User",
        "require",
        "describe",
        "defaultId",
        "defaultAdmin",
        "name",
        "email",
        "password",
        "role",
        "expectedAdminUser",
        "_id",
        "beforeEach",
        "user",
        "deleteMany",
        "save",
        "afterEach",
        "it",
        "done",
        "request",
        "get",
        "end",
        "err",
        "res",
        "expect",
        "body",
        "to",
        "eql",
        "context",
        "statusCode",
        "customId",
        "newUser",
        "Object",
        "assign",
        "__v",
        "expectedSavedUser",
        "post",
        "send",
        "customUser",
        "updatedUser",
        "put",
        "status",
        "delete",
        "have",
        "key"
      ],
      "mappings": "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",
      "sourceRoot": "/home/wn/VSCode/back/appTest/test/integration/routes/",
      "sourcesContent": [
        "const User = require(\"../../../src/models/users\");\n\ndescribe('Routes: Users', () => {\n  const defaultId = '56cb91bdc3464f14678934ca';\n  const defaultAdmin = {\n    name: 'Jhon Doe',\n    email: 'jhon@mail.com',\n    password: '123password',\n    role: 'admin'\n  };\n  const expectedAdminUser = {\n    _id: defaultId,\n    name: 'Jhon Doe',\n    email: 'jhon@mail.com',\n    role: 'admin'\n  };\n  beforeEach(async () => {\n    const user = new User(defaultAdmin);\n    user._id = '56cb91bdc3464f14678934ca';\n    await User.deleteMany({});\n    await user.save();\n  });\n  afterEach(async () => await User.deleteMany({}));\n  describe('GET /users', () => {\n    it('should return a list of users', done => {\n      request\n        .get('/users')\n        .end((err, res) => {\n          expect(res.body).to.eql([expectedAdminUser]);\n          done(err);\n        });\n    });\n    context('when an id is specified', done => {\n      it('should return 200 with one user', done => {\n        request\n          .get(`/users/${defaultId}`)\n          .end((err, res) => {\n            expect(res.statusCode).to.eql(200);\n            expect(res.body).to.eql([expectedAdminUser]);\n            done(err);\n          });\n      });\n    });\n  });\n  describe('POST /users', () => {\n    context('when posting an user', () => {\n      it('should return a new user with status code 201', done => {\n        const customId = '56cb91bdc3464f14678934ba';\n        const newUser = Object.assign({}, { _id: customId, __v: 0 }, defaultAdmin);\n        const expectedSavedUser = {\n          _id: customId,\n          name: 'Jhon Doe',\n          email: 'jhon@mail.com',\n          role: 'admin'\n        };\n        request\n          .post('/users')\n          .send(newUser)\n          .end((err, res) => {\n            expect(res.statusCode).to.eql(201);\n            expect(res.body).to.eql(expectedSavedUser);\n            done(err);\n          });\n      });\n    });\n  });\n  describe('PUT /users/:id', () => {\n    context('when editing an user', () => {\n      it('should update the user and return 200 as status code', done => {\n        const customUser = {\n          name: 'Din Doe',\n        };\n        const updatedUser = Object.assign({}, defaultAdmin, customUser)\n        request\n          .put(`/users/${defaultId}`)\n          .send(updatedUser)\n          .end((err, res) => {\n            expect(res.status).to.eql(200);\n            done(err);\n          });\n      });\n    });\n  });\n  describe('DELETE /users/:id', () => {\n    context('when deleting an user', () => {\n      it('should delete an user and return 204 as status code', done => {\n        request\n          .delete(`/users/${defaultId}`)\n          .end((err, res) => {\n            expect(res.status).to.eql(204);\n            done(err);\n          });\n      });\n    });\n  });\n  describe('POST /users/authenticate', () => {\n    context('when authenticating an user', () => {\n      it('should generate a valid token', done => {\n        request\n          .post(`/users/authenticate`)\n          .send({\n            email: 'jhon@mail.com',\n            password: '123password'\n          })\n          .end((err, res) => {\n            expect(res.body).to.have.key('token');\n            expect(res.status).to.eql(200);\n            done(err);\n          });\n      });\n      it('should return unauthorized when the password does not match', done => {\n        request\n          .post(`/users/authenticate`)\n          .send({\n            email: 'jhon@mail.com',\n            password: 'wrongpassword'\n          })\n          .end((err, res) => {\n            expect(res.status).to.eql(401);\n            done(err);\n          });\n      });\n    });\n  });\n});"
      ]
    },
    "sourceType": "script",
    "mtime": 1601213269662
  },
  "{\"sourceRoot\":\"/home/wn/VSCode/back/appTest/test/unit/services/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/wn/VSCode/back/appTest\",\"filename\":\"/home/wn/VSCode/back/appTest/test/unit/services/auth_spec.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/home/wn/VSCode/back/appTest\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6:test": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/wn/VSCode/back/appTest/test/unit/services/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/wn/VSCode/back/appTest",
      "filename": "/home/wn/VSCode/back/appTest/test/unit/services/auth_spec.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "test",
      "root": "/home/wn/VSCode/back/appTest",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/wn/VSCode/back/appTest/test/unit/services/auth_spec.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/wn/VSCode/back/appTest/test/unit/services/auth_spec.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/wn/VSCode/back/appTest/test/unit/services/",
        "sourceFileName": "auth_spec.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst AuthService = require(\"../../../src/services/auth\");\n\nconst bcrypt = require(\"bcrypt\");\n\nconst Util = require(\"util\");\n\nconst sinon = require(\"sinon\");\n\nconst jwt = require(\"jsonwebtoken\");\n\nconst config = require(\"config\");\n\nconst hashAsync = Util.promisify(bcrypt.hash);\ndescribe('Service: Auth', () => {\n  context('authenticate', () => {\n    it('should authenticate an user', async () => {\n      const fakeUserModel = {};\n      const user = {\n        name: 'Jhon Doe',\n        email: 'jhondoe@mail.com',\n        password: '12345',\n        role: 'admin'\n      };\n      const userWithEncryptedPassword = { ...user,\n        password: bcrypt.hashSync(user.password, 10)\n      };\n\n      class FakeAuthService {\n        authenticate() {\n          return Promise.resolve(userWithEncryptedPassword);\n        }\n\n        static generateToken() {\n          return jwtToken;\n        }\n\n      }\n\n      ;\n      const jwtToken = jwt.sign(userWithEncryptedPassword, config.get('auth.key'), {\n        expiresIn: config.get('auth.tokenExpiresIn')\n      });\n      const fakeReq = {\n        body: user\n      };\n      const fakeRes = {\n        send: sinon.spy()\n      };\n      const usersController = new UsersController(fakeUserModel, FakeAuthService);\n      await usersController.authenticate(fakeReq, fakeRes);\n      sinon.assert.calledWith(fakeRes.send, {\n        token: jwtToken\n      });\n    });\n    it('should return 401 when the user can not be found', async () => {\n      const fakeUserModel = {};\n\n      class FakeAuthService {\n        authenticate() {\n          return Promise.resolve(false);\n        }\n\n      }\n\n      ;\n      const user = {\n        name: 'Jhon Doe',\n        email: 'jhondoe@mail.com',\n        password: '12345',\n        role: 'admin'\n      };\n      const fakeReq = {\n        body: user\n      };\n      const fakeRes = {\n        sendStatus: sinon.spy()\n      };\n      const usersController = new UsersController(fakeUserModel, FakeAuthService);\n      await usersController.authenticate(fakeReq, fakeRes);\n      sinon.assert.calledWith(fakeRes.sendStatus, 401);\n    });\n  });\n  context('generateToken', () => {\n    it('should generate a JWT token from a payload', () => {\n      const payload = {\n        name: 'John',\n        email: 'jhondoe@mail.com',\n        password: '12345'\n      };\n      const expectedToken = jwt.sign(payload, config.get('auth.key'), {\n        expiresIn: config.get('auth.tokenExpiresIn')\n      });\n      const generatedToken = AuthService.generateToken(payload);\n      expect(generatedToken).to.eql(expectedToken);\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGhfc3BlYy5qcyJdLCJuYW1lcyI6WyJBdXRoU2VydmljZSIsInJlcXVpcmUiLCJiY3J5cHQiLCJVdGlsIiwic2lub24iLCJqd3QiLCJjb25maWciLCJoYXNoQXN5bmMiLCJwcm9taXNpZnkiLCJoYXNoIiwiZGVzY3JpYmUiLCJjb250ZXh0IiwiaXQiLCJmYWtlVXNlck1vZGVsIiwidXNlciIsIm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwicm9sZSIsInVzZXJXaXRoRW5jcnlwdGVkUGFzc3dvcmQiLCJoYXNoU3luYyIsIkZha2VBdXRoU2VydmljZSIsImF1dGhlbnRpY2F0ZSIsIlByb21pc2UiLCJyZXNvbHZlIiwiZ2VuZXJhdGVUb2tlbiIsImp3dFRva2VuIiwic2lnbiIsImdldCIsImV4cGlyZXNJbiIsImZha2VSZXEiLCJib2R5IiwiZmFrZVJlcyIsInNlbmQiLCJzcHkiLCJ1c2Vyc0NvbnRyb2xsZXIiLCJVc2Vyc0NvbnRyb2xsZXIiLCJhc3NlcnQiLCJjYWxsZWRXaXRoIiwidG9rZW4iLCJzZW5kU3RhdHVzIiwicGF5bG9hZCIsImV4cGVjdGVkVG9rZW4iLCJnZW5lcmF0ZWRUb2tlbiIsImV4cGVjdCIsInRvIiwiZXFsIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLFdBQVcsR0FBR0MsT0FBTyxDQUFDLDRCQUFELENBQTNCOztBQUNBLE1BQU1DLE1BQU0sR0FBR0QsT0FBTyxDQUFDLFFBQUQsQ0FBdEI7O0FBQ0EsTUFBTUUsSUFBSSxHQUFHRixPQUFPLENBQUMsTUFBRCxDQUFwQjs7QUFDQSxNQUFNRyxLQUFLLEdBQUdILE9BQU8sQ0FBQyxPQUFELENBQXJCOztBQUNBLE1BQU1JLEdBQUcsR0FBR0osT0FBTyxDQUFDLGNBQUQsQ0FBbkI7O0FBQ0EsTUFBTUssTUFBTSxHQUFHTCxPQUFPLENBQUMsUUFBRCxDQUF0Qjs7QUFFQSxNQUFNTSxTQUFTLEdBQUdKLElBQUksQ0FBQ0ssU0FBTCxDQUFlTixNQUFNLENBQUNPLElBQXRCLENBQWxCO0FB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QUFELEVBQWtCLE1BQU07QUFDN0JDLElBQUFBLEVBQUUsQ0FBQyw0Q0FBRCxFQUErQyxNQUFNO0FBQ3JELFlBQU02QixPQUFPLEdBQUc7QUFDZDFCLFFBQUFBLElBQUksRUFBRSxNQURRO0FBRWRDLFFBQUFBLEtBQUssRUFBRSxrQkFGTztBQUdkQyxRQUFBQSxRQUFRLEVBQUU7QUFISSxPQUFoQjtBQUtBLFlBQU15QixhQUFhLEdBQUdyQyxHQUFHLENBQUNzQixJQUFKLENBQVNjLE9BQVQsRUFBa0JuQyxNQUFNLENBQUNzQixHQUFQLENBQVcsVUFBWCxDQUFsQixFQUEwQztBQUM5REMsUUFBQUEsU0FBUyxFQUFFdkIsTUFBTSxDQUFDc0IsR0FBUCxDQUFXLHFCQUFYO0FBRG1ELE9BQTFDLENBQXRCO0FBR0EsWUFBTWUsY0FBYyxHQUFHM0MsV0FBVyxDQUFDeUIsYUFBWixDQUEwQmdCLE9BQTFCLENBQXZCO0FBQ0FHLE1BQUFBLE1BQU0sQ0FBQ0QsY0FBRCxDQUFOLENBQXVCRSxFQUF2QixDQUEwQkMsR0FBMUIsQ0FBOEJKLGFBQTlCO0FBQ0QsS0FYQyxDQUFGO0FBWUQsR0FiTSxDQUFQO0FBY0QsQ0FqRk8sQ0FBUiIsInNvdXJjZVJvb3QiOiIvaG9tZS93bi9WU0NvZGUvYmFjay9hcHBUZXN0L3Rlc3QvdW5pdC9zZXJ2aWNlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBBdXRoU2VydmljZSA9IHJlcXVpcmUoXCIuLi8uLi8uLi9zcmMvc2VydmljZXMvYXV0aFwiKTtcbmNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoXCJiY3J5cHRcIik7XG5jb25zdCBVdGlsID0gcmVxdWlyZShcInV0aWxcIik7XG5jb25zdCBzaW5vbiA9IHJlcXVpcmUoXCJzaW5vblwiKTtcbmNvbnN0IGp3dCA9IHJlcXVpcmUoXCJqc29ud2VidG9rZW5cIik7XG5jb25zdCBjb25maWcgPSByZXF1aXJlKFwiY29uZmlnXCIpO1xuXG5jb25zdCBoYXNoQXN5bmMgPSBVdGlsLnByb21pc2lmeShiY3J5cHQuaGFzaCk7XG5cbmRlc2NyaWJlKCdTZXJ2aWNlOiBBdXRoJywgKCkgPT4ge1xuICBjb250ZXh0KCdhdXRoZW50aWNhdGUnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBhdXRoZW50aWNhdGUgYW4gdXNlcicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGZha2VVc2VyTW9kZWwgPSB7fTtcbiAgICAgIGNvbnN0IHVzZXIgPSB7XG4gICAgICAgIG5hbWU6ICdKaG9uIERvZScsXG4gICAgICAgIGVtYWlsOiAnamhvbmRvZUBtYWlsLmNvbScsXG4gICAgICAgIHBhc3N3b3JkOiAnMTIzNDUnLFxuICAgICAgICByb2xlOiAnYWRtaW4nXG4gICAgICB9O1xuICAgICAgY29uc3QgdXNlcldpdGhFbmNyeXB0ZWRQYXNzd29yZCA9IHtcbiAgICAgICAgLi4udXNlcixcbiAgICAgICAgcGFzc3dvcmQ6IGJjcnlwdC5oYXNoU3luYyh1c2VyLnBhc3N3b3JkLCAxMClcbiAgICAgIH07XG4gICAgICBjbGFzcyBGYWtlQXV0aFNlcnZpY2Uge1xuICAgICAgICBhdXRoZW50aWNhdGUoKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh1c2VyV2l0aEVuY3J5cHRlZFBhc3N3b3JkKVxuICAgICAgICB9XG4gICAgICAgIHN0YXRpYyBnZW5lcmF0ZVRva2VuKCkge1xuICAgICAgICAgIHJldHVybiBqd3RUb2tlbjtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgY29uc3Qgand0VG9rZW4gPSBqd3Quc2lnbihcbiAgICAgICAgdXNlcldpdGhFbmNyeXB0ZWRQYXNzd29yZCxcbiAgICAgICAgY29uZmlnLmdldCgnYXV0aC5rZXknKSxcbiAgICAgICAge1xuICAgICAgICAgIGV4cGlyZXNJbjogY29uZmlnLmdldCgnYXV0aC50b2tlbkV4cGlyZXNJbicpXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICBjb25zdCBmYWtlUmVxID0ge1xuICAgICAgICBib2R5OiB1c2VyXG4gICAgICB9O1xuICAgICAgY29uc3QgZmFrZVJlcyA9IHtcbiAgICAgICAgc2VuZDogc2lub24uc3B5KClcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHVzZXJzQ29udHJvbGxlciA9IG5ldyBVc2Vyc0NvbnRyb2xsZXIoZmFrZVVzZXJNb2RlbCwgRmFrZUF1dGhTZXJ2aWNlKTtcbiAgICAgIGF3YWl0IHVzZXJzQ29udHJvbGxlci5hdXRoZW50aWNhdGUoZmFrZVJlcSwgZmFrZVJlcyk7XG5cbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGZha2VSZXMuc2VuZCwgeyB0b2tlbjogand0VG9rZW4gfSk7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gNDAxIHdoZW4gdGhlIHVzZXIgY2FuIG5vdCBiZSBmb3VuZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGZha2VVc2VyTW9kZWwgPSB7fTtcbiAgICAgIGNsYXNzIEZha2VBdXRoU2VydmljZSB7XG4gICAgICAgIGF1dGhlbnRpY2F0ZSgpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGZhbHNlKVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgY29uc3QgdXNlciA9IHtcbiAgICAgICAgbmFtZTogJ0pob24gRG9lJyxcbiAgICAgICAgZW1haWw6ICdqaG9uZG9lQG1haWwuY29tJyxcbiAgICAgICAgcGFzc3dvcmQ6ICcxMjM0NScsXG4gICAgICAgIHJvbGU6ICdhZG1pbidcbiAgICAgIH07XG4gICAgICBjb25zdCBmYWtlUmVxID0ge1xuICAgICAgICBib2R5OiB1c2VyXG4gICAgICB9O1xuICAgICAgY29uc3QgZmFrZVJlcyA9IHtcbiAgICAgICAgc2VuZFN0YXR1czogc2lub24uc3B5KClcbiAgICAgIH07XG4gICAgICBjb25zdCB1c2Vyc0NvbnRyb2xsZXIgPSBuZXcgVXNlcnNDb250cm9sbGVyKGZha2VVc2VyTW9kZWwsIEZha2VBdXRoU2VydmljZSk7XG5cbiAgICAgIGF3YWl0IHVzZXJzQ29udHJvbGxlci5hdXRoZW50aWNhdGUoZmFrZVJlcSwgZmFrZVJlcyk7XG4gICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChmYWtlUmVzLnNlbmRTdGF0dXMsIDQwMSk7XG4gICAgfSk7XG4gIH0pO1xuICBjb250ZXh0KCdnZW5lcmF0ZVRva2VuJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgYSBKV1QgdG9rZW4gZnJvbSBhIHBheWxvYWQnLCAoKSA9PiB7XG4gICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICBuYW1lOiAnSm9obicsXG4gICAgICAgIGVtYWlsOiAnamhvbmRvZUBtYWlsLmNvbScsXG4gICAgICAgIHBhc3N3b3JkOiAnMTIzNDUnXG4gICAgICB9O1xuICAgICAgY29uc3QgZXhwZWN0ZWRUb2tlbiA9IGp3dC5zaWduKHBheWxvYWQsIGNvbmZpZy5nZXQoJ2F1dGgua2V5JyksIHtcbiAgICAgICAgZXhwaXJlc0luOiBjb25maWcuZ2V0KCdhdXRoLnRva2VuRXhwaXJlc0luJylcbiAgICAgIH0pO1xuICAgICAgY29uc3QgZ2VuZXJhdGVkVG9rZW4gPSBBdXRoU2VydmljZS5nZW5lcmF0ZVRva2VuKHBheWxvYWQpO1xuICAgICAgZXhwZWN0KGdlbmVyYXRlZFRva2VuKS50by5lcWwoZXhwZWN0ZWRUb2tlbik7XG4gICAgfSk7XG4gIH0pO1xufSk7Il19",
    "map": {
      "version": 3,
      "sources": [
        "auth_spec.js"
      ],
      "names": [
        "AuthService",
        "require",
        "bcrypt",
        "Util",
        "sinon",
        "jwt",
        "config",
        "hashAsync",
        "promisify",
        "hash",
        "describe",
        "context",
        "it",
        "fakeUserModel",
        "user",
        "name",
        "email",
        "password",
        "role",
        "userWithEncryptedPassword",
        "hashSync",
        "FakeAuthService",
        "authenticate",
        "Promise",
        "resolve",
        "generateToken",
        "jwtToken",
        "sign",
        "get",
        "expiresIn",
        "fakeReq",
        "body",
        "fakeRes",
        "send",
        "spy",
        "usersController",
        "UsersController",
        "assert",
        "calledWith",
        "token",
        "sendStatus",
        "payload",
        "expectedToken",
        "generatedToken",
        "expect",
        "to",
        "eql"
      ],
      "mappings": "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",
      "sourceRoot": "/home/wn/VSCode/back/appTest/test/unit/services/",
      "sourcesContent": [
        "const AuthService = require(\"../../../src/services/auth\");\nconst bcrypt = require(\"bcrypt\");\nconst Util = require(\"util\");\nconst sinon = require(\"sinon\");\nconst jwt = require(\"jsonwebtoken\");\nconst config = require(\"config\");\n\nconst hashAsync = Util.promisify(bcrypt.hash);\n\ndescribe('Service: Auth', () => {\n  context('authenticate', () => {\n    it('should authenticate an user', async () => {\n      const fakeUserModel = {};\n      const user = {\n        name: 'Jhon Doe',\n        email: 'jhondoe@mail.com',\n        password: '12345',\n        role: 'admin'\n      };\n      const userWithEncryptedPassword = {\n        ...user,\n        password: bcrypt.hashSync(user.password, 10)\n      };\n      class FakeAuthService {\n        authenticate() {\n          return Promise.resolve(userWithEncryptedPassword)\n        }\n        static generateToken() {\n          return jwtToken;\n        }\n      };\n\n      const jwtToken = jwt.sign(\n        userWithEncryptedPassword,\n        config.get('auth.key'),\n        {\n          expiresIn: config.get('auth.tokenExpiresIn')\n        }\n      );\n      const fakeReq = {\n        body: user\n      };\n      const fakeRes = {\n        send: sinon.spy()\n      };\n\n      const usersController = new UsersController(fakeUserModel, FakeAuthService);\n      await usersController.authenticate(fakeReq, fakeRes);\n\n      sinon.assert.calledWith(fakeRes.send, { token: jwtToken });\n    });\n    it('should return 401 when the user can not be found', async () => {\n      const fakeUserModel = {};\n      class FakeAuthService {\n        authenticate() {\n          return Promise.resolve(false)\n        }\n      };\n      const user = {\n        name: 'Jhon Doe',\n        email: 'jhondoe@mail.com',\n        password: '12345',\n        role: 'admin'\n      };\n      const fakeReq = {\n        body: user\n      };\n      const fakeRes = {\n        sendStatus: sinon.spy()\n      };\n      const usersController = new UsersController(fakeUserModel, FakeAuthService);\n\n      await usersController.authenticate(fakeReq, fakeRes);\n      sinon.assert.calledWith(fakeRes.sendStatus, 401);\n    });\n  });\n  context('generateToken', () => {\n    it('should generate a JWT token from a payload', () => {\n      const payload = {\n        name: 'John',\n        email: 'jhondoe@mail.com',\n        password: '12345'\n      };\n      const expectedToken = jwt.sign(payload, config.get('auth.key'), {\n        expiresIn: config.get('auth.tokenExpiresIn')\n      });\n      const generatedToken = AuthService.generateToken(payload);\n      expect(generatedToken).to.eql(expectedToken);\n    });\n  });\n});"
      ]
    },
    "sourceType": "script",
    "mtime": 1601224386494
  },
  "{\"sourceRoot\":\"/home/wn/VSCode/back/appTest/test/unit/services/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/wn/VSCode/back/appTest\",\"filename\":\"/home/wn/VSCode/back/appTest/test/unit/services/auth_spec.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/home/wn/VSCode/back/appTest\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6:test": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/wn/VSCode/back/appTest/test/unit/services/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/wn/VSCode/back/appTest",
      "filename": "/home/wn/VSCode/back/appTest/test/unit/services/auth_spec.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "test",
      "root": "/home/wn/VSCode/back/appTest",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/wn/VSCode/back/appTest/test/unit/services/auth_spec.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/wn/VSCode/back/appTest/test/unit/services/auth_spec.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/wn/VSCode/back/appTest/test/unit/services/",
        "sourceFileName": "auth_spec.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst AuthService = require(\"../../../src/services/auth\");\n\nconst bcrypt = require(\"bcrypt\");\n\nconst Util = require(\"util\");\n\nconst sinon = require(\"sinon\");\n\nconst jwt = require(\"jsonwebtoken\");\n\nconst config = require(\"config\");\n\nconst hashAsync = Util.promisify(bcrypt.hash);\ndescribe('Service: Auth', () => {\n  context('authenticate', () => {\n    it('should authenticate an user', async () => {\n      const fakeUserModel = {};\n      const user = {\n        name: 'Jhon Doe',\n        email: 'jhondoe@mail.com',\n        password: '12345',\n        role: 'admin'\n      };\n      const userWithEncryptedPassword = { ...user,\n        password: bcrypt.hashSync(user.password, 10)\n      };\n\n      class FakeAuthService {\n        authenticate() {\n          return Promise.resolve(userWithEncryptedPassword);\n        }\n\n        static generateToken() {\n          return jwtToken;\n        }\n\n      }\n\n      ;\n      const jwtToken = jwt.sign(userWithEncryptedPassword, config.get('auth.key'), {\n        expiresIn: config.get('auth.tokenExpiresIn')\n      });\n      const fakeReq = {\n        body: user\n      };\n      const fakeRes = {\n        send: sinon.spy()\n      };\n      const usersController = new UsersController(fakeUserModel, FakeAuthService);\n      await usersController.authenticate(fakeReq, fakeRes);\n      sinon.assert.calledWith(fakeRes.send, {\n        token: jwtToken\n      });\n    });\n    it('should return 401 when the user can not be found', async () => {\n      const fakeUserModel = {};\n\n      class FakeAuthService {\n        authenticate() {\n          return Promise.resolve(false);\n        }\n\n      }\n\n      ;\n      const user = {\n        name: 'Jhon Doe',\n        email: 'jhondoe@mail.com',\n        password: '12345',\n        role: 'admin'\n      };\n      const fakeReq = {\n        body: user\n      };\n      const fakeRes = {\n        sendStatus: sinon.spy()\n      };\n      const usersController = new UsersController(fakeUserModel, FakeAuthService);\n      await usersController.authenticate(fakeReq, fakeRes);\n      sinon.assert.calledWith(fakeRes.sendStatus, 401);\n    });\n  });\n  context('generateToken', () => {\n    it('should generate a JWT token from a payload', () => {\n      const payload = {\n        name: 'John',\n        email: 'jhondoe@mail.com',\n        password: '12345'\n      };\n      const expectedToken = jwt.sign(payload, config.get('auth.key'), {\n        expiresIn: config.get('auth.tokenExpiresIn')\n      });\n      const generatedToken = AuthService.generateToken(payload);\n      expect(generatedToken).to.eql(expectedToken);\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGhfc3BlYy5qcyJdLCJuYW1lcyI6WyJBdXRoU2VydmljZSIsInJlcXVpcmUiLCJiY3J5cHQiLCJVdGlsIiwic2lub24iLCJqd3QiLCJjb25maWciLCJoYXNoQXN5bmMiLCJwcm9taXNpZnkiLCJoYXNoIiwiZGVzY3JpYmUiLCJjb250ZXh0IiwiaXQiLCJmYWtlVXNlck1vZGVsIiwidXNlciIsIm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwicm9sZSIsInVzZXJXaXRoRW5jcnlwdGVkUGFzc3dvcmQiLCJoYXNoU3luYyIsIkZha2VBdXRoU2VydmljZSIsImF1dGhlbnRpY2F0ZSIsIlByb21pc2UiLCJyZXNvbHZlIiwiZ2VuZXJhdGVUb2tlbiIsImp3dFRva2VuIiwic2lnbiIsImdldCIsImV4cGlyZXNJbiIsImZha2VSZXEiLCJib2R5IiwiZmFrZVJlcyIsInNlbmQiLCJzcHkiLCJ1c2Vyc0NvbnRyb2xsZXIiLCJVc2Vyc0NvbnRyb2xsZXIiLCJhc3NlcnQiLCJjYWxsZWRXaXRoIiwidG9rZW4iLCJzZW5kU3RhdHVzIiwicGF5bG9hZCIsImV4cGVjdGVkVG9rZW4iLCJnZW5lcmF0ZWRUb2tlbiIsImV4cGVjdCIsInRvIiwiZXFsIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLFdBQVcsR0FBR0MsT0FBTyxDQUFDLDRCQUFELENBQTNCOztBQUNBLE1BQU1DLE1BQU0sR0FBR0QsT0FBTyxDQUFDLFFBQUQsQ0FBdEI7O0FBQ0EsTUFBTUUsSUFBSSxHQUFHRixPQUFPLENBQUMsTUFBRCxDQUFwQjs7QUFDQSxNQUFNRyxLQUFLLEdBQUdILE9BQU8sQ0FBQyxPQUFELENBQXJCOztBQUNBLE1BQU1JLEdBQUcsR0FBR0osT0FBTyxDQUFDLGNBQUQsQ0FBbkI7O0FBQ0EsTUFBTUssTUFBTSxHQUFHTCxPQUFPLENBQUMsUUFBRCxDQUF0Qjs7QUFFQSxNQUFNTSxTQUFTLEdBQUdKLElBQUksQ0FBQ0ssU0FBTCxDQUFlTixNQUFNLENBQUNPLElBQXRCLENBQWxCO0FB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QUFELEVBQWtCLE1BQU07QUFDN0JDLElBQUFBLEVBQUUsQ0FBQyw0Q0FBRCxFQUErQyxNQUFNO0FBQ3JELFlBQU02QixPQUFPLEdBQUc7QUFDZDFCLFFBQUFBLElBQUksRUFBRSxNQURRO0FBRWRDLFFBQUFBLEtBQUssRUFBRSxrQkFGTztBQUdkQyxRQUFBQSxRQUFRLEVBQUU7QUFISSxPQUFoQjtBQUtBLFlBQU15QixhQUFhLEdBQUdyQyxHQUFHLENBQUNzQixJQUFKLENBQVNjLE9BQVQsRUFBa0JuQyxNQUFNLENBQUNzQixHQUFQLENBQVcsVUFBWCxDQUFsQixFQUEwQztBQUM5REMsUUFBQUEsU0FBUyxFQUFFdkIsTUFBTSxDQUFDc0IsR0FBUCxDQUFXLHFCQUFYO0FBRG1ELE9BQTFDLENBQXRCO0FBR0EsWUFBTWUsY0FBYyxHQUFHM0MsV0FBVyxDQUFDeUIsYUFBWixDQUEwQmdCLE9BQTFCLENBQXZCO0FBQ0FHLE1BQUFBLE1BQU0sQ0FBQ0QsY0FBRCxDQUFOLENBQXVCRSxFQUF2QixDQUEwQkMsR0FBMUIsQ0FBOEJKLGFBQTlCO0FBQ0QsS0FYQyxDQUFGO0FBWUQsR0FiTSxDQUFQO0FBY0QsQ0FqRk8sQ0FBUiIsInNvdXJjZVJvb3QiOiIvaG9tZS93bi9WU0NvZGUvYmFjay9hcHBUZXN0L3Rlc3QvdW5pdC9zZXJ2aWNlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBBdXRoU2VydmljZSA9IHJlcXVpcmUoXCIuLi8uLi8uLi9zcmMvc2VydmljZXMvYXV0aFwiKTtcbmNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoXCJiY3J5cHRcIik7XG5jb25zdCBVdGlsID0gcmVxdWlyZShcInV0aWxcIik7XG5jb25zdCBzaW5vbiA9IHJlcXVpcmUoXCJzaW5vblwiKTtcbmNvbnN0IGp3dCA9IHJlcXVpcmUoXCJqc29ud2VidG9rZW5cIik7XG5jb25zdCBjb25maWcgPSByZXF1aXJlKFwiY29uZmlnXCIpO1xuXG5jb25zdCBoYXNoQXN5bmMgPSBVdGlsLnByb21pc2lmeShiY3J5cHQuaGFzaCk7XG5cbmRlc2NyaWJlKCdTZXJ2aWNlOiBBdXRoJywgKCkgPT4ge1xuICBjb250ZXh0KCdhdXRoZW50aWNhdGUnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBhdXRoZW50aWNhdGUgYW4gdXNlcicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGZha2VVc2VyTW9kZWwgPSB7fTtcbiAgICAgIGNvbnN0IHVzZXIgPSB7XG4gICAgICAgIG5hbWU6ICdKaG9uIERvZScsXG4gICAgICAgIGVtYWlsOiAnamhvbmRvZUBtYWlsLmNvbScsXG4gICAgICAgIHBhc3N3b3JkOiAnMTIzNDUnLFxuICAgICAgICByb2xlOiAnYWRtaW4nXG4gICAgICB9O1xuICAgICAgY29uc3QgdXNlcldpdGhFbmNyeXB0ZWRQYXNzd29yZCA9IHtcbiAgICAgICAgLi4udXNlcixcbiAgICAgICAgcGFzc3dvcmQ6IGJjcnlwdC5oYXNoU3luYyh1c2VyLnBhc3N3b3JkLCAxMClcbiAgICAgIH07XG4gICAgICBjbGFzcyBGYWtlQXV0aFNlcnZpY2Uge1xuICAgICAgICBhdXRoZW50aWNhdGUoKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh1c2VyV2l0aEVuY3J5cHRlZFBhc3N3b3JkKVxuICAgICAgICB9XG4gICAgICAgIHN0YXRpYyBnZW5lcmF0ZVRva2VuKCkge1xuICAgICAgICAgIHJldHVybiBqd3RUb2tlbjtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgY29uc3Qgand0VG9rZW4gPSBqd3Quc2lnbihcbiAgICAgICAgdXNlcldpdGhFbmNyeXB0ZWRQYXNzd29yZCxcbiAgICAgICAgY29uZmlnLmdldCgnYXV0aC5rZXknKSxcbiAgICAgICAge1xuICAgICAgICAgIGV4cGlyZXNJbjogY29uZmlnLmdldCgnYXV0aC50b2tlbkV4cGlyZXNJbicpXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICBjb25zdCBmYWtlUmVxID0ge1xuICAgICAgICBib2R5OiB1c2VyXG4gICAgICB9O1xuICAgICAgY29uc3QgZmFrZVJlcyA9IHtcbiAgICAgICAgc2VuZDogc2lub24uc3B5KClcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHVzZXJzQ29udHJvbGxlciA9IG5ldyBVc2Vyc0NvbnRyb2xsZXIoZmFrZVVzZXJNb2RlbCwgRmFrZUF1dGhTZXJ2aWNlKTtcbiAgICAgIGF3YWl0IHVzZXJzQ29udHJvbGxlci5hdXRoZW50aWNhdGUoZmFrZVJlcSwgZmFrZVJlcyk7XG5cbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGZha2VSZXMuc2VuZCwgeyB0b2tlbjogand0VG9rZW4gfSk7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gNDAxIHdoZW4gdGhlIHVzZXIgY2FuIG5vdCBiZSBmb3VuZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGZha2VVc2VyTW9kZWwgPSB7fTtcbiAgICAgIGNsYXNzIEZha2VBdXRoU2VydmljZSB7XG4gICAgICAgIGF1dGhlbnRpY2F0ZSgpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGZhbHNlKVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgY29uc3QgdXNlciA9IHtcbiAgICAgICAgbmFtZTogJ0pob24gRG9lJyxcbiAgICAgICAgZW1haWw6ICdqaG9uZG9lQG1haWwuY29tJyxcbiAgICAgICAgcGFzc3dvcmQ6ICcxMjM0NScsXG4gICAgICAgIHJvbGU6ICdhZG1pbidcbiAgICAgIH07XG4gICAgICBjb25zdCBmYWtlUmVxID0ge1xuICAgICAgICBib2R5OiB1c2VyXG4gICAgICB9O1xuICAgICAgY29uc3QgZmFrZVJlcyA9IHtcbiAgICAgICAgc2VuZFN0YXR1czogc2lub24uc3B5KClcbiAgICAgIH07XG4gICAgICBjb25zdCB1c2Vyc0NvbnRyb2xsZXIgPSBuZXcgVXNlcnNDb250cm9sbGVyKGZha2VVc2VyTW9kZWwsIEZha2VBdXRoU2VydmljZSk7XG5cbiAgICAgIGF3YWl0IHVzZXJzQ29udHJvbGxlci5hdXRoZW50aWNhdGUoZmFrZVJlcSwgZmFrZVJlcyk7XG4gICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChmYWtlUmVzLnNlbmRTdGF0dXMsIDQwMSk7XG4gICAgfSk7XG4gIH0pO1xuICBjb250ZXh0KCdnZW5lcmF0ZVRva2VuJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgYSBKV1QgdG9rZW4gZnJvbSBhIHBheWxvYWQnLCAoKSA9PiB7XG4gICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICBuYW1lOiAnSm9obicsXG4gICAgICAgIGVtYWlsOiAnamhvbmRvZUBtYWlsLmNvbScsXG4gICAgICAgIHBhc3N3b3JkOiAnMTIzNDUnXG4gICAgICB9O1xuICAgICAgY29uc3QgZXhwZWN0ZWRUb2tlbiA9IGp3dC5zaWduKHBheWxvYWQsIGNvbmZpZy5nZXQoJ2F1dGgua2V5JyksIHtcbiAgICAgICAgZXhwaXJlc0luOiBjb25maWcuZ2V0KCdhdXRoLnRva2VuRXhwaXJlc0luJylcbiAgICAgIH0pO1xuICAgICAgY29uc3QgZ2VuZXJhdGVkVG9rZW4gPSBBdXRoU2VydmljZS5nZW5lcmF0ZVRva2VuKHBheWxvYWQpO1xuICAgICAgZXhwZWN0KGdlbmVyYXRlZFRva2VuKS50by5lcWwoZXhwZWN0ZWRUb2tlbik7XG4gICAgfSk7XG4gIH0pO1xufSk7Il19",
    "map": {
      "version": 3,
      "sources": [
        "auth_spec.js"
      ],
      "names": [
        "AuthService",
        "require",
        "bcrypt",
        "Util",
        "sinon",
        "jwt",
        "config",
        "hashAsync",
        "promisify",
        "hash",
        "describe",
        "context",
        "it",
        "fakeUserModel",
        "user",
        "name",
        "email",
        "password",
        "role",
        "userWithEncryptedPassword",
        "hashSync",
        "FakeAuthService",
        "authenticate",
        "Promise",
        "resolve",
        "generateToken",
        "jwtToken",
        "sign",
        "get",
        "expiresIn",
        "fakeReq",
        "body",
        "fakeRes",
        "send",
        "spy",
        "usersController",
        "UsersController",
        "assert",
        "calledWith",
        "token",
        "sendStatus",
        "payload",
        "expectedToken",
        "generatedToken",
        "expect",
        "to",
        "eql"
      ],
      "mappings": "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",
      "sourceRoot": "/home/wn/VSCode/back/appTest/test/unit/services/",
      "sourcesContent": [
        "const AuthService = require(\"../../../src/services/auth\");\nconst bcrypt = require(\"bcrypt\");\nconst Util = require(\"util\");\nconst sinon = require(\"sinon\");\nconst jwt = require(\"jsonwebtoken\");\nconst config = require(\"config\");\n\nconst hashAsync = Util.promisify(bcrypt.hash);\n\ndescribe('Service: Auth', () => {\n  context('authenticate', () => {\n    it('should authenticate an user', async () => {\n      const fakeUserModel = {};\n      const user = {\n        name: 'Jhon Doe',\n        email: 'jhondoe@mail.com',\n        password: '12345',\n        role: 'admin'\n      };\n      const userWithEncryptedPassword = {\n        ...user,\n        password: bcrypt.hashSync(user.password, 10)\n      };\n      class FakeAuthService {\n        authenticate() {\n          return Promise.resolve(userWithEncryptedPassword)\n        }\n        static generateToken() {\n          return jwtToken;\n        }\n      };\n\n      const jwtToken = jwt.sign(\n        userWithEncryptedPassword,\n        config.get('auth.key'),\n        {\n          expiresIn: config.get('auth.tokenExpiresIn')\n        }\n      );\n      const fakeReq = {\n        body: user\n      };\n      const fakeRes = {\n        send: sinon.spy()\n      };\n\n      const usersController = new UsersController(fakeUserModel, FakeAuthService);\n      await usersController.authenticate(fakeReq, fakeRes);\n\n      sinon.assert.calledWith(fakeRes.send, { token: jwtToken });\n    });\n    it('should return 401 when the user can not be found', async () => {\n      const fakeUserModel = {};\n      class FakeAuthService {\n        authenticate() {\n          return Promise.resolve(false)\n        }\n      };\n      const user = {\n        name: 'Jhon Doe',\n        email: 'jhondoe@mail.com',\n        password: '12345',\n        role: 'admin'\n      };\n      const fakeReq = {\n        body: user\n      };\n      const fakeRes = {\n        sendStatus: sinon.spy()\n      };\n      const usersController = new UsersController(fakeUserModel, FakeAuthService);\n\n      await usersController.authenticate(fakeReq, fakeRes);\n      sinon.assert.calledWith(fakeRes.sendStatus, 401);\n    });\n  });\n  context('generateToken', () => {\n    it('should generate a JWT token from a payload', () => {\n      const payload = {\n        name: 'John',\n        email: 'jhondoe@mail.com',\n        password: '12345'\n      };\n      const expectedToken = jwt.sign(payload, config.get('auth.key'), {\n        expiresIn: config.get('auth.tokenExpiresIn')\n      });\n      const generatedToken = AuthService.generateToken(payload);\n      expect(generatedToken).to.eql(expectedToken);\n    });\n  });\n});"
      ]
    },
    "sourceType": "script",
    "mtime": 1601224386494
  },
  "{\"sourceRoot\":\"/home/wn/VSCode/back/appTest/src/services/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/wn/VSCode/back/appTest\",\"filename\":\"/home/wn/VSCode/back/appTest/src/services/auth.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/home/wn/VSCode/back/appTest\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6:test": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/services/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/wn/VSCode/back/appTest",
      "filename": "/home/wn/VSCode/back/appTest/src/services/auth.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "test",
      "root": "/home/wn/VSCode/back/appTest",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/wn/VSCode/back/appTest/src/services/auth.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/wn/VSCode/back/appTest/src/services/auth.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/wn/VSCode/back/appTest/src/services/",
        "sourceFileName": "auth.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst bcrypt = require(\"bcrypt\");\n\nconst jwt = require(\"jsonwebtoken\");\n\nconst config = require(\"config\");\n\nclass Auth {\n  constructor(User) {\n    this.User = User;\n  }\n\n  async authenticate(data) {\n    const user = await this.User.findOne({\n      email: data.email\n    });\n\n    if (!user || !(await bcrypt.compare(data.password, user.password))) {\n      return false;\n    }\n\n    return user;\n  }\n\n  static generateToken(payload) {\n    return jwt.sign(payload, config.get('auth.key'), {\n      expiresIn: config.get('auth.tokenExpiresIn')\n    });\n  }\n\n}\n\nmodule.exports = Auth;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguanMiXSwibmFtZXMiOlsiYmNyeXB0IiwicmVxdWlyZSIsImp3dCIsImNvbmZpZyIsIkF1dGgiLCJjb25zdHJ1Y3RvciIsIlVzZXIiLCJhdXRoZW50aWNhdGUiLCJkYXRhIiwidXNlciIsImZpbmRPbmUiLCJlbWFpbCIsImNvbXBhcmUiLCJwYXNzd29yZCIsImdlbmVyYXRlVG9rZW4iLCJwYXlsb2FkIiwic2lnbiIsImdldCIsImV4cGlyZXNJbiIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsTUFBTSxHQUFHQyxPQUFPLENBQUMsUUFBRCxDQUF0Qjs7QUFDQSxNQUFNQyxHQUFHLEdBQUdELE9BQU8sQ0FBQyxjQUFELENBQW5COztBQUNBLE1BQU1FLE1BQU0sR0FBR0YsT0FBTyxDQUFDLFFBQUQsQ0FBdEI7O0FBRUEsTUFBTUcsSUFBTixDQUFXO0FBQ1RDLEVBQUFBLFdBQVcsQ0FBQ0MsSUFBRCxFQUFPO0FBQ2hCLFNBQUtBLElBQUwsR0FBWUEsSUFBWjtBQUNEOztBQUVELFFBQU1DLFlBQU4sQ0FBbUJDLElBQW5CLEVBQXlCO0FBQ3ZCLFVBQU1DLElBQUksR0FBRyxNQUFNLEtBQUtILElBQUwsQ0FBVUksT0FBVixDQUFrQjtBQUFFQyxNQUFBQSxLQUFLLEVBQUVILElBQUksQ0FBQ0c7QUFBZCxLQUFsQixDQUFuQjs7QUFFQSxRQUFJLENBQUNGLElBQUQsSUFBUyxFQUFFLE1BQU1ULE1BQU0sQ0FBQ1ksT0FBUCxDQUFlSixJQUFJLENBQUNLLFFBQXBCLEVBQThCSixJQUFJLENBQUNJLFFBQW5DLENBQVIsQ0FBYixFQUFvRTtBQUNsRSxhQUFPLEtBQVA7QUFDRDs7QUFDRCxXQUFPSixJQUFQO0FBQ0Q7O0FBRUQsU0FBT0ssYUFBUCxDQUFxQkMsT0FBckIsRUFBOEI7QUFDNUIsV0FBT2IsR0FBRyxDQUFDYyxJQUFKLENBQVNELE9BQVQsRUFBa0JaLE1BQU0sQ0FBQ2MsR0FBUCxDQUFXLFVBQVgsQ0FBbEIsRUFBMEM7QUFDL0NDLE1BQUFBLFNBQVMsRUFBRWYsTUFBTSxDQUFDYyxHQUFQLENBQVcscUJBQVg7QUFEb0MsS0FBMUMsQ0FBUDtBQUdEOztBQWxCUTs7QUFxQlhFLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmhCLElBQWpCIiwic291cmNlUm9vdCI6Ii9ob21lL3duL1ZTQ29kZS9iYWNrL2FwcFRlc3Qvc3JjL3NlcnZpY2VzLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoXCJiY3J5cHRcIik7XG5jb25zdCBqd3QgPSByZXF1aXJlKFwianNvbndlYnRva2VuXCIpO1xuY29uc3QgY29uZmlnID0gcmVxdWlyZShcImNvbmZpZ1wiKTtcblxuY2xhc3MgQXV0aCB7XG4gIGNvbnN0cnVjdG9yKFVzZXIpIHtcbiAgICB0aGlzLlVzZXIgPSBVc2VyO1xuICB9XG5cbiAgYXN5bmMgYXV0aGVudGljYXRlKGRhdGEpIHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgdGhpcy5Vc2VyLmZpbmRPbmUoeyBlbWFpbDogZGF0YS5lbWFpbCB9KTtcblxuICAgIGlmICghdXNlciB8fCAhKGF3YWl0IGJjcnlwdC5jb21wYXJlKGRhdGEucGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdXNlcjtcbiAgfVxuXG4gIHN0YXRpYyBnZW5lcmF0ZVRva2VuKHBheWxvYWQpIHtcbiAgICByZXR1cm4gand0LnNpZ24ocGF5bG9hZCwgY29uZmlnLmdldCgnYXV0aC5rZXknKSwge1xuICAgICAgZXhwaXJlc0luOiBjb25maWcuZ2V0KCdhdXRoLnRva2VuRXhwaXJlc0luJylcbiAgICB9KTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEF1dGg7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "auth.js"
      ],
      "names": [
        "bcrypt",
        "require",
        "jwt",
        "config",
        "Auth",
        "constructor",
        "User",
        "authenticate",
        "data",
        "user",
        "findOne",
        "email",
        "compare",
        "password",
        "generateToken",
        "payload",
        "sign",
        "get",
        "expiresIn",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,QAAD,CAAtB;;AACA,MAAMC,GAAG,GAAGD,OAAO,CAAC,cAAD,CAAnB;;AACA,MAAME,MAAM,GAAGF,OAAO,CAAC,QAAD,CAAtB;;AAEA,MAAMG,IAAN,CAAW;AACTC,EAAAA,WAAW,CAACC,IAAD,EAAO;AAChB,SAAKA,IAAL,GAAYA,IAAZ;AACD;;AAED,QAAMC,YAAN,CAAmBC,IAAnB,EAAyB;AACvB,UAAMC,IAAI,GAAG,MAAM,KAAKH,IAAL,CAAUI,OAAV,CAAkB;AAAEC,MAAAA,KAAK,EAAEH,IAAI,CAACG;AAAd,KAAlB,CAAnB;;AAEA,QAAI,CAACF,IAAD,IAAS,EAAE,MAAMT,MAAM,CAACY,OAAP,CAAeJ,IAAI,CAACK,QAApB,EAA8BJ,IAAI,CAACI,QAAnC,CAAR,CAAb,EAAoE;AAClE,aAAO,KAAP;AACD;;AACD,WAAOJ,IAAP;AACD;;AAED,SAAOK,aAAP,CAAqBC,OAArB,EAA8B;AAC5B,WAAOb,GAAG,CAACc,IAAJ,CAASD,OAAT,EAAkBZ,MAAM,CAACc,GAAP,CAAW,UAAX,CAAlB,EAA0C;AAC/CC,MAAAA,SAAS,EAAEf,MAAM,CAACc,GAAP,CAAW,qBAAX;AADoC,KAA1C,CAAP;AAGD;;AAlBQ;;AAqBXE,MAAM,CAACC,OAAP,GAAiBhB,IAAjB",
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/services/",
      "sourcesContent": [
        "const bcrypt = require(\"bcrypt\");\nconst jwt = require(\"jsonwebtoken\");\nconst config = require(\"config\");\n\nclass Auth {\n  constructor(User) {\n    this.User = User;\n  }\n\n  async authenticate(data) {\n    const user = await this.User.findOne({ email: data.email });\n\n    if (!user || !(await bcrypt.compare(data.password, user.password))) {\n      return false;\n    }\n    return user;\n  }\n\n  static generateToken(payload) {\n    return jwt.sign(payload, config.get('auth.key'), {\n      expiresIn: config.get('auth.tokenExpiresIn')\n    });\n  }\n}\n\nmodule.exports = Auth;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1601222414142
  },
  "{\"sourceRoot\":\"/home/wn/VSCode/back/appTest/src/services/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/wn/VSCode/back/appTest\",\"filename\":\"/home/wn/VSCode/back/appTest/src/services/auth.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/home/wn/VSCode/back/appTest\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.6:test": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/services/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/wn/VSCode/back/appTest",
      "filename": "/home/wn/VSCode/back/appTest/src/services/auth.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "test",
      "root": "/home/wn/VSCode/back/appTest",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/wn/VSCode/back/appTest/src/services/auth.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/wn/VSCode/back/appTest/src/services/auth.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/wn/VSCode/back/appTest/src/services/",
        "sourceFileName": "auth.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst bcrypt = require(\"bcrypt\");\n\nconst jwt = require(\"jsonwebtoken\");\n\nconst config = require(\"config\");\n\nclass Auth {\n  constructor(User) {\n    this.User = User;\n  }\n\n  async authenticate(data) {\n    const user = await this.User.findOne({\n      email: data.email\n    });\n\n    if (!user || !(await bcrypt.compare(data.password, user.password))) {\n      return false;\n    }\n\n    return user;\n  }\n\n  static generateToken(payload) {\n    return jwt.sign(payload, config.get('auth.key'), {\n      expiresIn: config.get('auth.tokenExpiresIn')\n    });\n  }\n\n}\n\nmodule.exports = Auth;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguanMiXSwibmFtZXMiOlsiYmNyeXB0IiwicmVxdWlyZSIsImp3dCIsImNvbmZpZyIsIkF1dGgiLCJjb25zdHJ1Y3RvciIsIlVzZXIiLCJhdXRoZW50aWNhdGUiLCJkYXRhIiwidXNlciIsImZpbmRPbmUiLCJlbWFpbCIsImNvbXBhcmUiLCJwYXNzd29yZCIsImdlbmVyYXRlVG9rZW4iLCJwYXlsb2FkIiwic2lnbiIsImdldCIsImV4cGlyZXNJbiIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsTUFBTSxHQUFHQyxPQUFPLENBQUMsUUFBRCxDQUF0Qjs7QUFDQSxNQUFNQyxHQUFHLEdBQUdELE9BQU8sQ0FBQyxjQUFELENBQW5COztBQUNBLE1BQU1FLE1BQU0sR0FBR0YsT0FBTyxDQUFDLFFBQUQsQ0FBdEI7O0FBRUEsTUFBTUcsSUFBTixDQUFXO0FBQ1RDLEVBQUFBLFdBQVcsQ0FBQ0MsSUFBRCxFQUFPO0FBQ2hCLFNBQUtBLElBQUwsR0FBWUEsSUFBWjtBQUNEOztBQUVELFFBQU1DLFlBQU4sQ0FBbUJDLElBQW5CLEVBQXlCO0FBQ3ZCLFVBQU1DLElBQUksR0FBRyxNQUFNLEtBQUtILElBQUwsQ0FBVUksT0FBVixDQUFrQjtBQUFFQyxNQUFBQSxLQUFLLEVBQUVILElBQUksQ0FBQ0c7QUFBZCxLQUFsQixDQUFuQjs7QUFFQSxRQUFJLENBQUNGLElBQUQsSUFBUyxFQUFFLE1BQU1ULE1BQU0sQ0FBQ1ksT0FBUCxDQUFlSixJQUFJLENBQUNLLFFBQXBCLEVBQThCSixJQUFJLENBQUNJLFFBQW5DLENBQVIsQ0FBYixFQUFvRTtBQUNsRSxhQUFPLEtBQVA7QUFDRDs7QUFDRCxXQUFPSixJQUFQO0FBQ0Q7O0FBRUQsU0FBT0ssYUFBUCxDQUFxQkMsT0FBckIsRUFBOEI7QUFDNUIsV0FBT2IsR0FBRyxDQUFDYyxJQUFKLENBQVNELE9BQVQsRUFBa0JaLE1BQU0sQ0FBQ2MsR0FBUCxDQUFXLFVBQVgsQ0FBbEIsRUFBMEM7QUFDL0NDLE1BQUFBLFNBQVMsRUFBRWYsTUFBTSxDQUFDYyxHQUFQLENBQVcscUJBQVg7QUFEb0MsS0FBMUMsQ0FBUDtBQUdEOztBQWxCUTs7QUFxQlhFLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmhCLElBQWpCIiwic291cmNlUm9vdCI6Ii9ob21lL3duL1ZTQ29kZS9iYWNrL2FwcFRlc3Qvc3JjL3NlcnZpY2VzLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoXCJiY3J5cHRcIik7XG5jb25zdCBqd3QgPSByZXF1aXJlKFwianNvbndlYnRva2VuXCIpO1xuY29uc3QgY29uZmlnID0gcmVxdWlyZShcImNvbmZpZ1wiKTtcblxuY2xhc3MgQXV0aCB7XG4gIGNvbnN0cnVjdG9yKFVzZXIpIHtcbiAgICB0aGlzLlVzZXIgPSBVc2VyO1xuICB9XG5cbiAgYXN5bmMgYXV0aGVudGljYXRlKGRhdGEpIHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgdGhpcy5Vc2VyLmZpbmRPbmUoeyBlbWFpbDogZGF0YS5lbWFpbCB9KTtcblxuICAgIGlmICghdXNlciB8fCAhKGF3YWl0IGJjcnlwdC5jb21wYXJlKGRhdGEucGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdXNlcjtcbiAgfVxuXG4gIHN0YXRpYyBnZW5lcmF0ZVRva2VuKHBheWxvYWQpIHtcbiAgICByZXR1cm4gand0LnNpZ24ocGF5bG9hZCwgY29uZmlnLmdldCgnYXV0aC5rZXknKSwge1xuICAgICAgZXhwaXJlc0luOiBjb25maWcuZ2V0KCdhdXRoLnRva2VuRXhwaXJlc0luJylcbiAgICB9KTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEF1dGg7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "auth.js"
      ],
      "names": [
        "bcrypt",
        "require",
        "jwt",
        "config",
        "Auth",
        "constructor",
        "User",
        "authenticate",
        "data",
        "user",
        "findOne",
        "email",
        "compare",
        "password",
        "generateToken",
        "payload",
        "sign",
        "get",
        "expiresIn",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,QAAD,CAAtB;;AACA,MAAMC,GAAG,GAAGD,OAAO,CAAC,cAAD,CAAnB;;AACA,MAAME,MAAM,GAAGF,OAAO,CAAC,QAAD,CAAtB;;AAEA,MAAMG,IAAN,CAAW;AACTC,EAAAA,WAAW,CAACC,IAAD,EAAO;AAChB,SAAKA,IAAL,GAAYA,IAAZ;AACD;;AAED,QAAMC,YAAN,CAAmBC,IAAnB,EAAyB;AACvB,UAAMC,IAAI,GAAG,MAAM,KAAKH,IAAL,CAAUI,OAAV,CAAkB;AAAEC,MAAAA,KAAK,EAAEH,IAAI,CAACG;AAAd,KAAlB,CAAnB;;AAEA,QAAI,CAACF,IAAD,IAAS,EAAE,MAAMT,MAAM,CAACY,OAAP,CAAeJ,IAAI,CAACK,QAApB,EAA8BJ,IAAI,CAACI,QAAnC,CAAR,CAAb,EAAoE;AAClE,aAAO,KAAP;AACD;;AACD,WAAOJ,IAAP;AACD;;AAED,SAAOK,aAAP,CAAqBC,OAArB,EAA8B;AAC5B,WAAOb,GAAG,CAACc,IAAJ,CAASD,OAAT,EAAkBZ,MAAM,CAACc,GAAP,CAAW,UAAX,CAAlB,EAA0C;AAC/CC,MAAAA,SAAS,EAAEf,MAAM,CAACc,GAAP,CAAW,qBAAX;AADoC,KAA1C,CAAP;AAGD;;AAlBQ;;AAqBXE,MAAM,CAACC,OAAP,GAAiBhB,IAAjB",
      "sourceRoot": "/home/wn/VSCode/back/appTest/src/services/",
      "sourcesContent": [
        "const bcrypt = require(\"bcrypt\");\nconst jwt = require(\"jsonwebtoken\");\nconst config = require(\"config\");\n\nclass Auth {\n  constructor(User) {\n    this.User = User;\n  }\n\n  async authenticate(data) {\n    const user = await this.User.findOne({ email: data.email });\n\n    if (!user || !(await bcrypt.compare(data.password, user.password))) {\n      return false;\n    }\n    return user;\n  }\n\n  static generateToken(payload) {\n    return jwt.sign(payload, config.get('auth.key'), {\n      expiresIn: config.get('auth.tokenExpiresIn')\n    });\n  }\n}\n\nmodule.exports = Auth;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1601222414142
  }
}